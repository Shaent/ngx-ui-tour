{"version":3,"sources":["./node_modules/rxjs/_esm2015/internal/observable/interval.js","./node_modules/rxjs/_esm2015/internal/operators/debounce.js","./node_modules/rxjs/_esm2015/internal/operators/delay.js","./node_modules/rxjs/_esm2015/internal/util/isDate.js","./dist/projects/ngx-ui-tour-core/src/lib/tour.service.ts","./dist/projects/ngx-ui-tour-core/src/lib/tour-hotkey-listener.component.ts","./dist/projects/ngx-ui-tour-core/src/lib/is-in-viewport.ts","./dist/projects/ngx-ui-tour-core/src/lib/scrolling-util.ts","./dist/projects/ngx-ui-tour-core/src/lib/tour-backdrop.service.ts","./dist/projects/ngx-ui-tour-core/src/lib/tour.module.ts","./dist/projects/ngx-ui-tour-core/src/public_api.ts","./dist/projects/ngx-ui-tour-core/src/ngx-ui-tour-core.ts"],"names":["mergeStatic"],"mappings":";;;;;;;;;;;;;;;;AAA2C;AACA;AACG;AACvC,0CAA0C,mDAAK;AACtD,SAAS,0DAAS;AAClB;AACA;AACA;AACA,oBAAoB,mDAAK;AACzB;AACA,eAAe,mDAAU;AACzB,6DAA6D,iCAAiC;AAC9F;AACA,KAAK;AACL;AACA;AACA,WAAW,8BAA8B;AACzC;AACA,mBAAmB,2CAA2C;AAC9D;AACA,oC;;;;;;;;;;;;;;;;ACpBiG;AAC1F;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,kEAAqB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,+DAAc,eAAe,kEAAqB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;;;;;;;;ACnE2C;AACH;AACG;AACI;AACxC,kCAAkC,mDAAK;AAC9C,0BAA0B,oDAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,mDAAU;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kEAAuB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,sEAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;;;;AClFO;AACP;AACA;AACA,kC;;;;;;;;;;;;;;;;;;;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","file":"default-node_modules_rxjs__esm2015_internal_operators_delay_js-dist_ngx-ui-tour-core___ivy_ng-e0207a-es2015.js","sourcesContent":["import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nexport function interval(period = 0, scheduler = async) {\n    if (!isNumeric(period) || period < 0) {\n        period = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n        scheduler = async;\n    }\n    return new Observable(subscriber => {\n        subscriber.add(scheduler.schedule(dispatch, period, { subscriber, counter: 0, period }));\n        return subscriber;\n    });\n}\nfunction dispatch(state) {\n    const { subscriber, counter, period } = state;\n    subscriber.next(counter);\n    this.schedule({ subscriber, counter: counter + 1, period }, period);\n}\n//# sourceMappingURL=interval.js.map","import { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function debounce(durationSelector) {\n    return (source) => source.lift(new DebounceOperator(durationSelector));\n}\nclass DebounceOperator {\n    constructor(durationSelector) {\n        this.durationSelector = durationSelector;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));\n    }\n}\nclass DebounceSubscriber extends SimpleOuterSubscriber {\n    constructor(destination, durationSelector) {\n        super(destination);\n        this.durationSelector = durationSelector;\n        this.hasValue = false;\n    }\n    _next(value) {\n        try {\n            const result = this.durationSelector.call(this, value);\n            if (result) {\n                this._tryNext(value, result);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    }\n    _complete() {\n        this.emitValue();\n        this.destination.complete();\n    }\n    _tryNext(value, duration) {\n        let subscription = this.durationSubscription;\n        this.value = value;\n        this.hasValue = true;\n        if (subscription) {\n            subscription.unsubscribe();\n            this.remove(subscription);\n        }\n        subscription = innerSubscribe(duration, new SimpleInnerSubscriber(this));\n        if (subscription && !subscription.closed) {\n            this.add(this.durationSubscription = subscription);\n        }\n    }\n    notifyNext() {\n        this.emitValue();\n    }\n    notifyComplete() {\n        this.emitValue();\n    }\n    emitValue() {\n        if (this.hasValue) {\n            const value = this.value;\n            const subscription = this.durationSubscription;\n            if (subscription) {\n                this.durationSubscription = undefined;\n                subscription.unsubscribe();\n                this.remove(subscription);\n            }\n            this.value = undefined;\n            this.hasValue = false;\n            super._next(value);\n        }\n    }\n}\n//# sourceMappingURL=debounce.js.map","import { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nexport function delay(delay, scheduler = async) {\n    const absoluteDelay = isDate(delay);\n    const delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(delay);\n    return (source) => source.lift(new DelayOperator(delayFor, scheduler));\n}\nclass DelayOperator {\n    constructor(delay, scheduler) {\n        this.delay = delay;\n        this.scheduler = scheduler;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));\n    }\n}\nclass DelaySubscriber extends Subscriber {\n    constructor(destination, delay, scheduler) {\n        super(destination);\n        this.delay = delay;\n        this.scheduler = scheduler;\n        this.queue = [];\n        this.active = false;\n        this.errored = false;\n    }\n    static dispatch(state) {\n        const source = state.source;\n        const queue = source.queue;\n        const scheduler = state.scheduler;\n        const destination = state.destination;\n        while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {\n            queue.shift().notification.observe(destination);\n        }\n        if (queue.length > 0) {\n            const delay = Math.max(0, queue[0].time - scheduler.now());\n            this.schedule(state, delay);\n        }\n        else {\n            this.unsubscribe();\n            source.active = false;\n        }\n    }\n    _schedule(scheduler) {\n        this.active = true;\n        const destination = this.destination;\n        destination.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {\n            source: this, destination: this.destination, scheduler: scheduler\n        }));\n    }\n    scheduleNotification(notification) {\n        if (this.errored === true) {\n            return;\n        }\n        const scheduler = this.scheduler;\n        const message = new DelayMessage(scheduler.now() + this.delay, notification);\n        this.queue.push(message);\n        if (this.active === false) {\n            this._schedule(scheduler);\n        }\n    }\n    _next(value) {\n        this.scheduleNotification(Notification.createNext(value));\n    }\n    _error(err) {\n        this.errored = true;\n        this.queue = [];\n        this.destination.error(err);\n        this.unsubscribe();\n    }\n    _complete() {\n        this.scheduleNotification(Notification.createComplete());\n        this.unsubscribe();\n    }\n}\nclass DelayMessage {\n    constructor(time, notification) {\n        this.time = time;\n        this.notification = notification;\n    }\n}\n//# sourceMappingURL=delay.js.map","export function isDate(value) {\n    return value instanceof Date && !isNaN(+value);\n}\n//# sourceMappingURL=isDate.js.map","import { Injectable } from '@angular/core';\r\nimport {NavigationStart, Router} from '@angular/router';\r\nimport type {UrlSegment} from '@angular/router';\r\n\r\nimport { TourAnchorDirective } from './tour-anchor.directive';\r\nimport {Subject, Observable, merge as mergeStatic, from} from 'rxjs';\r\nimport {first, map, filter} from 'rxjs/operators';\r\n\r\nexport interface IStepOption {\r\n  stepId?: string;\r\n  anchorId?: string;\r\n  title?: string;\r\n  content?: string;\r\n  route?: string | UrlSegment[];\r\n  nextStep?: number | string;\r\n  prevStep?: number | string;\r\n  placement?: any;\r\n  preventScrolling?: boolean;\r\n  prevBtnTitle?: string;\r\n  nextBtnTitle?: string;\r\n  endBtnTitle?: string;\r\n  /**\r\n   * @deprecated use \"isAsync\" instead\r\n   */\r\n  waitFor?: Promise<void> | Observable<void>;\r\n  enableBackdrop?: boolean;\r\n  isAsync?: boolean;\r\n}\r\n\r\nexport enum TourState {\r\n  OFF,\r\n  ON,\r\n  PAUSED\r\n}\r\n\r\n@Injectable()\r\nexport class TourService<T extends IStepOption = IStepOption> {\r\n  public stepShow$: Subject<T> = new Subject();\r\n  public stepHide$: Subject<T> = new Subject();\r\n  public initialize$: Subject<T[]> = new Subject();\r\n  public start$: Subject<T> = new Subject();\r\n  public end$: Subject<any> = new Subject();\r\n  public pause$: Subject<T> = new Subject();\r\n  public resume$: Subject<T> = new Subject();\r\n  public startWaiting$: Subject<T> = new Subject();\r\n  public stopWaiting$: Subject<T> = new Subject();\r\n  public anchorRegister$: Subject<string> = new Subject();\r\n  public anchorUnregister$: Subject<string> = new Subject();\r\n  public events$: Observable<{ name: string; value: any }> = mergeStatic(\r\n    this.stepShow$.pipe(map(value => ({ name: 'stepShow', value }))),\r\n    this.stepHide$.pipe(map(value => ({ name: 'stepHide', value }))),\r\n    this.initialize$.pipe(map(value => ({ name: 'initialize', value }))),\r\n    this.start$.pipe(map(value => ({ name: 'start', value }))),\r\n    this.end$.pipe(map(value => ({ name: 'end', value }))),\r\n    this.pause$.pipe(map(value => ({ name: 'pause', value }))),\r\n    this.resume$.pipe(map(value => ({ name: 'resume', value }))),\r\n    this.anchorRegister$.pipe(\r\n      map(value => ({\r\n        name: 'anchorRegister',\r\n        value\r\n      }))\r\n    ),\r\n    this.anchorUnregister$.pipe(\r\n      map(value => ({\r\n        name: 'anchorUnregister',\r\n        value\r\n      }))\r\n    )\r\n  );\r\n\r\n  public steps: T[] = [];\r\n  public currentStep: T;\r\n\r\n  public anchors: { [anchorId: string]: TourAnchorDirective } = {};\r\n  private status: TourState = TourState.OFF;\r\n  private isHotKeysEnabled = true;\r\n\r\n  constructor(private router: Router) {}\r\n\r\n  public initialize(steps: T[], stepDefaults?: T): void {\r\n    if (steps && steps.length > 0) {\r\n      this.status = TourState.OFF;\r\n      this.steps = steps.map(step => Object.assign({}, stepDefaults, step));\r\n      this.initialize$.next(this.steps);\r\n    }\r\n  }\r\n\r\n  public disableHotkeys(): void {\r\n    this.isHotKeysEnabled = false;\r\n  }\r\n\r\n  public enableHotkeys(): void {\r\n    this.isHotKeysEnabled = true;\r\n  }\r\n\r\n  public start(): void {\r\n    this.startAt(0);\r\n  }\r\n\r\n  public startAt(stepId: number | string): void {\r\n    this.status = TourState.ON;\r\n    this.goToStep(this.loadStep(stepId));\r\n    this.start$.next();\r\n    this.router.events\r\n      .pipe(filter(event => event instanceof NavigationStart), first())\r\n      .subscribe(() => {\r\n        if (this.currentStep && this.currentStep.hasOwnProperty('route')) {\r\n          this.hideStep(this.currentStep);\r\n        }\r\n      });\r\n  }\r\n\r\n  public end(): void {\r\n    this.status = TourState.OFF;\r\n    this.hideStep(this.currentStep);\r\n    this.currentStep = undefined;\r\n    this.end$.next();\r\n  }\r\n\r\n  public pause(): void {\r\n    this.status = TourState.PAUSED;\r\n    this.hideStep(this.currentStep);\r\n    this.pause$.next();\r\n  }\r\n\r\n  public resume(): void {\r\n    this.status = TourState.ON;\r\n    this.showStep(this.currentStep);\r\n    this.resume$.next();\r\n  }\r\n\r\n  public toggle(pause?: boolean): void {\r\n    if (pause) {\r\n      if (this.currentStep) {\r\n        this.pause();\r\n      } else {\r\n        this.resume();\r\n      }\r\n    } else {\r\n      if (this.currentStep) {\r\n        this.end();\r\n      } else {\r\n        this.start();\r\n      }\r\n    }\r\n  }\r\n\r\n  public next(): void {\r\n    if (this.hasNext(this.currentStep)) {\r\n      this.goToStep(\r\n        this.loadStep(\r\n          this.currentStep.nextStep || this.steps.indexOf(this.currentStep) + 1\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  public hasNext(step: T): boolean {\r\n    if (!step) {\r\n      console.warn('Can\\'t get next step. No currentStep.');\r\n      return false;\r\n    }\r\n    return (\r\n      step.nextStep !== undefined ||\r\n      this.steps.indexOf(step) < this.steps.length - 1\r\n    );\r\n  }\r\n\r\n  public prev(): void {\r\n    if (this.hasPrev(this.currentStep)) {\r\n      this.goToStep(\r\n        this.loadStep(\r\n          this.currentStep.prevStep || this.steps.indexOf(this.currentStep) - 1\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  public hasPrev(step: T): boolean {\r\n    if (!step) {\r\n      console.warn('Can\\'t get previous step. No currentStep.');\r\n      return false;\r\n    }\r\n    return step.prevStep !== undefined || this.steps.indexOf(step) > 0;\r\n  }\r\n\r\n  public goto(stepId: number | string): void {\r\n    this.goToStep(this.loadStep(stepId));\r\n  }\r\n\r\n  public register(anchorId: string, anchor: TourAnchorDirective): void {\r\n    if (!anchorId) {\r\n      return;\r\n    }\r\n    if (this.anchors[anchorId]) {\r\n      throw new Error('anchorId ' + anchorId + ' already registered!');\r\n    }\r\n    this.anchors[anchorId] = anchor;\r\n    this.anchorRegister$.next(anchorId);\r\n  }\r\n\r\n  public unregister(anchorId: string): void {\r\n    if (!anchorId) {\r\n      return;\r\n    }\r\n    delete this.anchors[anchorId];\r\n    this.anchorUnregister$.next(anchorId);\r\n  }\r\n\r\n  public getStatus(): TourState {\r\n    return this.status;\r\n  }\r\n\r\n  public isHotkeysEnabled(): boolean {\r\n    return this.isHotKeysEnabled;\r\n  }\r\n\r\n  private goToStep(step: T): void {\r\n    if (!step) {\r\n      console.warn('Can\\'t go to non-existent step');\r\n      this.end();\r\n      return;\r\n    }\r\n    if (this.currentStep) {\r\n      this.hideStep(this.currentStep);\r\n    }\r\n    let navigatePromise: Promise<boolean> = new Promise(resolve =>\r\n      resolve(true)\r\n    );\r\n    if (typeof step.route === 'string') {\r\n      navigatePromise = this.router.navigateByUrl(step.route);\r\n    } else if (Array.isArray(step.route)) {\r\n      navigatePromise = this.router.navigate(step.route);\r\n    }\r\n    navigatePromise.then(navigated => {\r\n      if (navigated !== false && !step.waitFor) {\r\n        setTimeout(() => this.setCurrentStep(step));\r\n      } else if (navigated !== false) {\r\n        this.wait(step);\r\n      }\r\n    });\r\n  }\r\n\r\n  private wait(step: T) {\r\n    const waitFor$ = from(step.waitFor);\r\n\r\n    this.startWaiting$.next(step);\r\n    waitFor$\r\n      .pipe(first())\r\n      .subscribe(\r\n        () => {\r\n          setTimeout(() => this.setCurrentStep(step));\r\n          this.stopWaiting$.next(step);\r\n        }\r\n      );\r\n  }\r\n\r\n  private loadStep(stepId: number | string): T {\r\n    if (typeof stepId === 'number') {\r\n      return this.steps[stepId];\r\n    } else {\r\n      return this.steps.find(step => step.stepId === stepId);\r\n    }\r\n  }\r\n\r\n  private setCurrentStep(step: T): void {\r\n    this.currentStep = step;\r\n    this.showStep(this.currentStep);\r\n    this.router.events\r\n      .pipe(filter(event => event instanceof NavigationStart), first())\r\n      .subscribe(() => {\r\n        if (this.currentStep && this.currentStep.hasOwnProperty('route')) {\r\n          this.hideStep(this.currentStep);\r\n        }\r\n      });\r\n  }\r\n\r\n  private showStep(step: T): void {\r\n    const anchor = this.anchors[step && step.anchorId];\r\n\r\n    if (!anchor) {\r\n      if (step.isAsync) {\r\n        this.startWaiting$.next(step);\r\n        this.anchorRegister$\r\n          .pipe(\r\n            filter(anchorId => anchorId === step.anchorId),\r\n            first()\r\n          )\r\n          .subscribe(\r\n            () => {\r\n              setTimeout(() => this.showStep(step));\r\n              this.stopWaiting$.next(step);\r\n            }\r\n          );\r\n        return;\r\n      }\r\n\r\n      console.warn(\r\n        'Can\\'t attach to unregistered anchor with id ' + step.anchorId\r\n      );\r\n      this.end();\r\n      return;\r\n    }\r\n    anchor.showTourStep(step);\r\n    this.stepShow$.next(step);\r\n  }\r\n\r\n  private hideStep(step: T): void {\r\n    const anchor = this.anchors[step && step.anchorId];\r\n    if (!anchor) {\r\n      return;\r\n    }\r\n    anchor.hideTourStep();\r\n    this.stepHide$.next(step);\r\n  }\r\n}\r\n","import { Component, HostListener } from '@angular/core';\r\n\r\nimport { TourService, TourState } from './tour.service';\r\n\r\n@Component({\r\n  selector: 'tour-hotkey-listener',\r\n  template: `<ng-content></ng-content>`\r\n})\r\nexport class TourHotkeyListenerComponent {\r\n  constructor(public tourService: TourService) {}\r\n\r\n  /**\r\n   * Configures hot keys for controlling the tour with the keyboard\r\n   */\r\n  @HostListener('window:keydown.Escape')\r\n  public onEscapeKey(): void {\r\n    if (\r\n      this.tourService.getStatus() === TourState.ON &&\r\n      this.tourService.isHotkeysEnabled()\r\n    ) {\r\n      this.tourService.end();\r\n    }\r\n  }\r\n\r\n  @HostListener('window:keydown.ArrowRight')\r\n  public onArrowRightKey(): void {\r\n    if (\r\n      this.tourService.getStatus() === TourState.ON &&\r\n      this.tourService.hasNext(this.tourService.currentStep) &&\r\n      this.tourService.isHotkeysEnabled()\r\n    ) {\r\n      this.tourService.next();\r\n    }\r\n  }\r\n\r\n  @HostListener('window:keydown.ArrowLeft')\r\n  public onArrowLeftKey(): void {\r\n    if (\r\n      this.tourService.getStatus() === TourState.ON &&\r\n      this.tourService.hasPrev(this.tourService.currentStep) &&\r\n      this.tourService.isHotkeysEnabled()\r\n    ) {\r\n      this.tourService.prev();\r\n    }\r\n  }\r\n}\r\n","export enum ElementSides {\r\n    Top,\r\n    Bottom,\r\n    All\r\n}\r\n\r\nexport function isInViewport(htlmElement: HTMLElement, sidesToCheck: ElementSides = ElementSides.All): boolean {\r\n    const viewportWidth = window.innerWidth,\r\n        viewportHeight = window.innerHeight,\r\n        boundingRectangle = htlmElement.getBoundingClientRect(),\r\n        areCornersInViewport = boundingRectangle.left >= 0 && boundingRectangle.right <= viewportWidth,\r\n        isTopInViewport = boundingRectangle.top >= 0,\r\n        isBottomInViewport = boundingRectangle.bottom <= viewportHeight;\r\n\r\n    if (sidesToCheck === ElementSides.Top) {\r\n        return isTopInViewport && areCornersInViewport;\r\n    }\r\n    if (sidesToCheck === ElementSides.Bottom) {\r\n        return isBottomInViewport && areCornersInViewport;\r\n    }\r\n\r\n    return isTopInViewport && isBottomInViewport && areCornersInViewport;\r\n}\r\n","import {ElementSides, isInViewport} from './is-in-viewport';\r\n\r\nexport class ScrollingUtil {\r\n\r\n  static ensureVisible(htmlElement: HTMLElement) {\r\n    if (!isInViewport(htmlElement, ElementSides.Bottom)) {\r\n      htmlElement.scrollIntoView(false);\r\n    } else if (!isInViewport(htmlElement, ElementSides.Top)) {\r\n      htmlElement.scrollIntoView(true);\r\n    }\r\n  }\r\n\r\n}\r\n","import {ElementRef, Injectable, RendererFactory2} from '@angular/core';\r\nimport type { Renderer2 } from '@angular/core';\r\nimport {fromEvent, interval, Subscription} from 'rxjs';\r\nimport {debounce} from 'rxjs/operators';\r\nimport {ScrollingUtil} from './scrolling-util';\r\n\r\n@Injectable()\r\nexport class TourBackdropService {\r\n  private renderer: Renderer2;\r\n  private backdropBaseElement: HTMLElement;\r\n  private backdropElement: HTMLElement;\r\n  private targetHtmlElement: HTMLElement;\r\n  windowResizeSubscription$: Subscription;\r\n\r\n  constructor(rendererFactory: RendererFactory2) {\r\n    this.renderer = rendererFactory.createRenderer(null, null);\r\n  }\r\n\r\n  public show(targetElement: ElementRef) {\r\n    const boundingRect = targetElement.nativeElement.getBoundingClientRect();\r\n\r\n    if (!this.backdropElement) {\r\n      this.createBackdrop();\r\n      this.subscribeToWindowResizeEvent();\r\n    }\r\n\r\n    this.targetHtmlElement = targetElement.nativeElement;\r\n    this.setBackdropElStyles(boundingRect);\r\n  }\r\n\r\n  private createBackdrop() {\r\n    this.createBackdropBaseElement();\r\n    this.createBackdropElement();\r\n  }\r\n\r\n  private createBackdropBaseElement() {\r\n    const baseElStyles: Partial<CSSStyleDeclaration> = {\r\n      position: 'fixed',\r\n      height: '100%',\r\n      width: '100%',\r\n      top: '0',\r\n      left: '0',\r\n      zIndex: '100'\r\n    };\r\n\r\n    this.backdropBaseElement = this.renderer.createElement('div');\r\n    this.applyStyles(baseElStyles, this.backdropBaseElement);\r\n    this.renderer.appendChild(document.body, this.backdropBaseElement);\r\n  }\r\n\r\n  private createBackdropElement() {\r\n    this.backdropElement = this.renderer.createElement('div');\r\n    this.renderer.addClass(this.backdropElement, 'ngx-ui-tour_backdrop');\r\n    this.renderer.appendChild(document.body, this.backdropElement);\r\n  }\r\n\r\n  private subscribeToWindowResizeEvent() {\r\n    const resizeObservable$ = fromEvent(window, 'resize');\r\n    this.windowResizeSubscription$ = resizeObservable$\r\n      .pipe(\r\n        debounce(() => interval(10))\r\n      )\r\n      .subscribe(\r\n        () => {\r\n          const boundingRect = this.targetHtmlElement.getBoundingClientRect();\r\n          this.setBackdropElStyles(boundingRect);\r\n          ScrollingUtil.ensureVisible(this.targetHtmlElement);\r\n        }\r\n      );\r\n  }\r\n\r\n  public close() {\r\n    if (this.backdropElement) {\r\n      this.removeBackdropElement();\r\n      this.windowResizeSubscription$.unsubscribe();\r\n    }\r\n  }\r\n\r\n  private removeBackdropElement() {\r\n    this.renderer.removeChild(document.body, this.backdropBaseElement);\r\n    this.renderer.removeChild(document.body, this.backdropElement);\r\n    this.backdropBaseElement = null;\r\n    this.backdropElement = null;\r\n  }\r\n\r\n  private setBackdropElStyles(boundingRect: DOMRect) {\r\n    const scrollX = window.scrollX ?? window.pageXOffset,\r\n      scrollY = window.scrollY ?? window.pageYOffset,\r\n      styles: Partial<CSSStyleDeclaration> = {\r\n        position: 'absolute',\r\n        width: `${boundingRect.width}px`,\r\n        height: `${boundingRect.height}px`,\r\n        top: `${boundingRect.top + scrollY}px`,\r\n        left: `${boundingRect.left + scrollX}px`,\r\n        boxShadow: '0 0 0 9999px rgba(0, 0, 0, 0.7)',\r\n        zIndex: '101'\r\n      };\r\n\r\n    this.applyStyles(styles, this.backdropElement);\r\n  }\r\n\r\n  private applyStyles(styles: Partial<CSSStyleDeclaration>, element: HTMLElement) {\r\n    for (const name of Object.keys(styles)) {\r\n      this.renderer.setStyle(element, name, styles[name]);\r\n    }\r\n  }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { TourHotkeyListenerComponent } from './tour-hotkey-listener.component';\r\nimport { TourService } from './tour.service';\r\nimport {TourBackdropService} from './tour-backdrop.service';\r\n\r\n@NgModule({\r\n    declarations: [TourHotkeyListenerComponent],\r\n    exports: [TourHotkeyListenerComponent],\r\n    imports: [CommonModule, RouterModule],\r\n})\r\nexport class TourModule {\r\n    public static forRoot(): ModuleWithProviders<TourModule> {\r\n        return {\r\n            ngModule: TourModule,\r\n            providers: [\r\n                TourService,\r\n                TourBackdropService\r\n            ],\r\n        };\r\n    }\r\n}\r\n\r\nexport { TourService, TourBackdropService };\r\n","/*\r\n * Public API Surface of ngx-ui-tour-core\r\n */\r\n\r\nexport { TourModule, TourService, TourBackdropService } from './lib/tour.module';\r\nexport { IStepOption, TourState } from './lib/tour.service';\r\nexport { TourAnchorDirective } from './lib/tour-anchor.directive';\r\nexport { TourHotkeyListenerComponent } from './lib/tour-hotkey-listener.component';\r\nexport { isInViewport, ElementSides } from './lib/is-in-viewport';\r\nexport { ScrollingUtil } from './lib/scrolling-util';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"sourceRoot":"webpack:///"}