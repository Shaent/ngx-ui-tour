!function(){function t(e,n,i){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(e,n,i||e)}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=o(t);if(e){var s=o(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return r(this,n)}}function r(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}(self.webpackChunkngx_ui_tour=self.webpackChunkngx_ui_tour||[]).push([[92],{25:function(n,r,u){"use strict";u.d(r,{Ev:function(){return C},Yj:function(){return H},Z5:function(){return P},oW:function(){return T},QL:function(){return R},Vs:function(){return B}});var a=u(1116),h=u(5663),l=u(8318),p=u(8569),f=u(2293);function d(t){var e=t.subscriber,n=t.counter,i=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var v=u(5959),y=u(1906),b=u(9764),S=u(7254),w=u(6882),k=function(){function t(e){s(this,t),this.durationSelector=e}return c(t,[{key:"call",value:function(t,e){return e.subscribe(new m(t,this.durationSelector))}}]),t}(),m=function(n){e(u,n);var r=i(u);function u(t,e){var n;return s(this,u),(n=r.call(this,t)).durationSelector=e,n.hasValue=!1,n}return c(u,[{key:"_next",value:function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(n){this.destination.error(n)}}},{key:"_complete",value:function(){this.emitValue(),this.destination.complete()}},{key:"_tryNext",value:function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=(0,w.ft)(e,new w.IY(this)))&&!n.closed&&this.add(this.durationSubscription=n)}},{key:"notifyNext",value:function(){this.emitValue()}},{key:"notifyComplete",value:function(){this.emitValue()}},{key:"emitValue",value:function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t(o(u.prototype),"_next",this).call(this,e)}}}]),u}(w.Ds),g=u(9996),x=u(3835),E=u(3530),O=u(5366),$=["*"],B=function(t){return t[t.OFF=0]="OFF",t[t.ON=1]="ON",t[t.PAUSED=2]="PAUSED",t}({}),R=function(){var t=function(){function t(e){s(this,t),this.router=e,this.stepShow$=new v.xQ,this.stepHide$=new v.xQ,this.initialize$=new v.xQ,this.start$=new v.xQ,this.end$=new v.xQ,this.pause$=new v.xQ,this.resume$=new v.xQ,this.startWaiting$=new v.xQ,this.stopWaiting$=new v.xQ,this.anchorRegister$=new v.xQ,this.anchorUnregister$=new v.xQ,this.events$=(0,y.T)(this.stepShow$.pipe((0,g.U)(function(t){return{name:"stepShow",value:t}})),this.stepHide$.pipe((0,g.U)(function(t){return{name:"stepHide",value:t}})),this.initialize$.pipe((0,g.U)(function(t){return{name:"initialize",value:t}})),this.start$.pipe((0,g.U)(function(t){return{name:"start",value:t}})),this.end$.pipe((0,g.U)(function(t){return{name:"end",value:t}})),this.pause$.pipe((0,g.U)(function(t){return{name:"pause",value:t}})),this.resume$.pipe((0,g.U)(function(t){return{name:"resume",value:t}})),this.anchorRegister$.pipe((0,g.U)(function(t){return{name:"anchorRegister",value:t}})),this.anchorUnregister$.pipe((0,g.U)(function(t){return{name:"anchorUnregister",value:t}}))),this.steps=[],this.anchors={},this.status=B.OFF,this.isHotKeysEnabled=!0}return c(t,[{key:"initialize",value:function(t,e){t&&t.length>0&&(this.status=B.OFF,this.steps=t.map(function(t){return Object.assign({},e,t)}),this.initialize$.next(this.steps))}},{key:"disableHotkeys",value:function(){this.isHotKeysEnabled=!1}},{key:"enableHotkeys",value:function(){this.isHotKeysEnabled=!0}},{key:"start",value:function(){this.startAt(0)}},{key:"startAt",value:function(t){var e=this;this.status=B.ON,this.goToStep(this.loadStep(t)),this.start$.next(),this.router.events.pipe((0,x.h)(function(t){return t instanceof h.OD}),(0,E.P)()).subscribe(function(){e.currentStep&&e.currentStep.hasOwnProperty("route")&&e.hideStep(e.currentStep)})}},{key:"end",value:function(){this.status=B.OFF,this.hideStep(this.currentStep),this.currentStep=void 0,this.end$.next()}},{key:"pause",value:function(){this.status=B.PAUSED,this.hideStep(this.currentStep),this.pause$.next()}},{key:"resume",value:function(){this.status=B.ON,this.showStep(this.currentStep),this.resume$.next()}},{key:"toggle",value:function(t){t?this.currentStep?this.pause():this.resume():this.currentStep?this.end():this.start()}},{key:"next",value:function(){this.hasNext(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.nextStep||this.steps.indexOf(this.currentStep)+1))}},{key:"hasNext",value:function(t){return t?void 0!==t.nextStep||this.steps.indexOf(t)<this.steps.length-1:(console.warn("Can't get next step. No currentStep."),!1)}},{key:"prev",value:function(){this.hasPrev(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.prevStep||this.steps.indexOf(this.currentStep)-1))}},{key:"hasPrev",value:function(t){return t?void 0!==t.prevStep||this.steps.indexOf(t)>0:(console.warn("Can't get previous step. No currentStep."),!1)}},{key:"goto",value:function(t){this.goToStep(this.loadStep(t))}},{key:"register",value:function(t,e){if(t){if(this.anchors[t])throw new Error("anchorId "+t+" already registered!");this.anchors[t]=e,this.anchorRegister$.next(t)}}},{key:"unregister",value:function(t){t&&(delete this.anchors[t],this.anchorUnregister$.next(t))}},{key:"getStatus",value:function(){return this.status}},{key:"isHotkeysEnabled",value:function(){return this.isHotKeysEnabled}},{key:"goToStep",value:function(t){var e=this;if(!t)return console.warn("Can't go to non-existent step"),void this.end();this.currentStep&&this.hideStep(this.currentStep);var n=new Promise(function(t){return t(!0)});"string"==typeof t.route?n=this.router.navigateByUrl(t.route):Array.isArray(t.route)&&(n=this.router.navigate(t.route)),n.then(function(n){!1===n||t.waitFor?!1!==n&&e.wait(t):setTimeout(function(){return e.setCurrentStep(t)})})}},{key:"wait",value:function(t){var e=this,n=(0,b.D)(t.waitFor);this.startWaiting$.next(t),n.pipe((0,E.P)()).subscribe(function(){setTimeout(function(){return e.setCurrentStep(t)}),e.stopWaiting$.next(t)})}},{key:"loadStep",value:function(t){return"number"==typeof t?this.steps[t]:this.steps.find(function(e){return e.stepId===t})}},{key:"setCurrentStep",value:function(t){var e=this;this.currentStep=t,this.showStep(this.currentStep),this.router.events.pipe((0,x.h)(function(t){return t instanceof h.OD}),(0,E.P)()).subscribe(function(){e.currentStep&&e.currentStep.hasOwnProperty("route")&&e.hideStep(e.currentStep)})}},{key:"showStep",value:function(t){var e=this,n=this.anchors[t&&t.anchorId];if(!n)return t.isAsync?(this.startWaiting$.next(t),void this.anchorRegister$.pipe((0,x.h)(function(e){return e===t.anchorId}),(0,E.P)()).subscribe(function(){setTimeout(function(){return e.showStep(t)}),e.stopWaiting$.next(t)})):(console.warn("Can't attach to unregistered anchor with id "+t.anchorId),void this.end());n.showTourStep(t),this.stepShow$.next(t)}},{key:"hideStep",value:function(t){var e=this.anchors[t&&t.anchorId];e&&(e.hideTourStep(),this.stepHide$.next(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(O.LFG(h.F0))},t.\u0275prov=O.Yz7({token:t,factory:t.\u0275fac}),t}(),P=function(){var t=function(){function t(e){s(this,t),this.tourService=e}return c(t,[{key:"onEscapeKey",value:function(){this.tourService.getStatus()===B.ON&&this.tourService.isHotkeysEnabled()&&this.tourService.end()}},{key:"onArrowRightKey",value:function(){this.tourService.getStatus()===B.ON&&this.tourService.hasNext(this.tourService.currentStep)&&this.tourService.isHotkeysEnabled()&&this.tourService.next()}},{key:"onArrowLeftKey",value:function(){this.tourService.getStatus()===B.ON&&this.tourService.hasPrev(this.tourService.currentStep)&&this.tourService.isHotkeysEnabled()&&this.tourService.prev()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(O.Y36(R))},t.\u0275cmp=O.Xpm({type:t,selectors:[["tour-hotkey-listener"]],hostBindings:function(t,e){1&t&&O.NdJ("keydown.Escape",function(){return e.onEscapeKey()},!1,O.Jf7)("keydown.ArrowRight",function(){return e.onArrowRightKey()},!1,O.Jf7)("keydown.ArrowLeft",function(){return e.onArrowLeftKey()},!1,O.Jf7)},ngContentSelectors:$,decls:1,vars:0,template:function(t,e){1&t&&(O.F$t(),O.Hsn(0))},encapsulation:2}),t}(),_=function(t){return t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.All=2]="All",t}({});function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.All,n=window.innerWidth,i=window.innerHeight,r=t.getBoundingClientRect(),o=r.left>=0&&r.right<=n,s=r.top>=0,u=r.bottom<=i;return e===_.Top?s&&o:e===_.Bottom?u&&o:s&&u&&o}var C=function(){function t(){s(this,t)}return c(t,null,[{key:"ensureVisible",value:function(t){N(t,_.Bottom)?N(t,_.Top)||t.scrollIntoView(!0):t.scrollIntoView(!1)}}]),t}(),H=function(){var t=function(){function t(e){s(this,t),this.renderer=e.createRenderer(null,null)}return c(t,[{key:"show",value:function(t){var e=t.nativeElement.getBoundingClientRect();this.backdropElement||(this.createBackdrop(),this.subscribeToWindowResizeEvent()),this.targetHtmlElement=t.nativeElement,this.setBackdropElStyles(e)}},{key:"createBackdrop",value:function(){this.createBackdropBaseElement(),this.createBackdropElement()}},{key:"createBackdropBaseElement",value:function(){this.backdropBaseElement=this.renderer.createElement("div"),this.applyStyles({position:"fixed",height:"100%",width:"100%",top:"0",left:"0",zIndex:"100"},this.backdropBaseElement),this.renderer.appendChild(document.body,this.backdropBaseElement)}},{key:"createBackdropElement",value:function(){this.backdropElement=this.renderer.createElement("div"),this.renderer.addClass(this.backdropElement,"ngx-ui-tour_backdrop"),this.renderer.appendChild(document.body,this.backdropElement)}},{key:"subscribeToWindowResizeEvent",value:function(){var t,e=this,n=(0,S.R)(window,"resize");this.windowResizeSubscription$=n.pipe((t=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.P;return(!(0,f.k)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=p.P),new l.y(function(n){return n.add(e.schedule(d,t,{subscriber:n,counter:0,period:t})),n})}(10)},function(e){return e.lift(new k(t))})).subscribe(function(){var t=e.targetHtmlElement.getBoundingClientRect();e.setBackdropElStyles(t),C.ensureVisible(e.targetHtmlElement)})}},{key:"close",value:function(){this.backdropElement&&(this.removeBackdropElement(),this.windowResizeSubscription$.unsubscribe())}},{key:"removeBackdropElement",value:function(){this.renderer.removeChild(document.body,this.backdropBaseElement),this.renderer.removeChild(document.body,this.backdropElement),this.backdropBaseElement=null,this.backdropElement=null}},{key:"setBackdropElStyles",value:function(t){var e,n,i=null!==(e=window.scrollX)&&void 0!==e?e:window.pageXOffset,r=null!==(n=window.scrollY)&&void 0!==n?n:window.pageYOffset;this.applyStyles({position:"absolute",width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),top:"".concat(t.top+r,"px"),left:"".concat(t.left+i,"px"),boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)",zIndex:"101"},this.backdropElement)}},{key:"applyStyles",value:function(t,e){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];this.renderer.setStyle(e,r,t[r])}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(O.LFG(O.FYo))},t.\u0275prov=O.Yz7({token:t,factory:t.\u0275fac}),t}(),T=function(){var t=function(){function t(){s(this,t)}return c(t,null,[{key:"forRoot",value:function(){return{ngModule:t,providers:[R,H]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=O.oAB({type:t}),t.\u0275inj=O.cJS({imports:[[a.ez,h.Bz]]}),t}()},2628:function(t,n,r){"use strict";r.d(n,{g:function(){return h}});var o=r(8569),u=r(6673),a=r(3103);function h(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.P,i=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new l(i,n))}}var l=function(){function t(e,n){s(this,t),this.delay=e,this.scheduler=n}return c(t,[{key:"call",value:function(t,e){return e.subscribe(new p(t,this.delay,this.scheduler))}}]),t}(),p=function(t){e(r,t);var n=i(r);function r(t,e,i){var o;return s(this,r),(o=n.call(this,t)).delay=e,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return c(r,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(r.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new f(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(a.P.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(a.P.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),r}(u.L),f=function t(e,n){s(this,t),this.time=e,this.notification=n}}}])}();