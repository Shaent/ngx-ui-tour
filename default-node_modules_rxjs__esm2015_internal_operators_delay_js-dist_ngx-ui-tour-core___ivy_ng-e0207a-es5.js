(function () {
  function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

  function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

  function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  (self["webpackChunkngx_ui_tour"] = self["webpackChunkngx_ui_tour"] || []).push([["default-node_modules_rxjs__esm2015_internal_operators_delay_js-dist_ngx-ui-tour-core___ivy_ng-e0207a"], {
    /***/
    945:
    /*!********************************************************************!*\
      !*** ./node_modules/rxjs/_esm2015/internal/observable/interval.js ***!
      \********************************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony export */


      __webpack_require__.d(__webpack_exports__, {
        /* harmony export */
        "interval": function interval() {
          return (
            /* binding */
            _interval
          );
        }
        /* harmony export */

      });
      /* harmony import */


      var _Observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
      /*! ../Observable */
      9165);
      /* harmony import */


      var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
      /*! ../scheduler/async */
      3637);
      /* harmony import */


      var _util_isNumeric__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
      /*! ../util/isNumeric */
      6561);

      function _interval() {
        var period = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
        var scheduler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _scheduler_async__WEBPACK_IMPORTED_MODULE_0__.async;

        if (!(0, _util_isNumeric__WEBPACK_IMPORTED_MODULE_1__.isNumeric)(period) || period < 0) {
          period = 0;
        }

        if (!scheduler || typeof scheduler.schedule !== 'function') {
          scheduler = _scheduler_async__WEBPACK_IMPORTED_MODULE_0__.async;
        }

        return new _Observable__WEBPACK_IMPORTED_MODULE_2__.Observable(function (subscriber) {
          subscriber.add(scheduler.schedule(dispatch, period, {
            subscriber: subscriber,
            counter: 0,
            period: period
          }));
          return subscriber;
        });
      }

      function dispatch(state) {
        var subscriber = state.subscriber,
            counter = state.counter,
            period = state.period;
        subscriber.next(counter);
        this.schedule({
          subscriber: subscriber,
          counter: counter + 1,
          period: period
        }, period);
      } //# sourceMappingURL=interval.js.map

      /***/

    },

    /***/
    8984:
    /*!*******************************************************************!*\
      !*** ./node_modules/rxjs/_esm2015/internal/operators/debounce.js ***!
      \*******************************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony export */


      __webpack_require__.d(__webpack_exports__, {
        /* harmony export */
        "debounce": function debounce() {
          return (
            /* binding */
            _debounce
          );
        }
        /* harmony export */

      });
      /* harmony import */


      var _innerSubscribe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
      /*! ../innerSubscribe */
      5345);

      function _debounce(durationSelector) {
        return function (source) {
          return source.lift(new DebounceOperator(durationSelector));
        };
      }

      var DebounceOperator = /*#__PURE__*/function () {
        function DebounceOperator(durationSelector) {
          _classCallCheck(this, DebounceOperator);

          this.durationSelector = durationSelector;
        }

        _createClass(DebounceOperator, [{
          key: "call",
          value: function call(subscriber, source) {
            return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));
          }
        }]);

        return DebounceOperator;
      }();

      var DebounceSubscriber = /*#__PURE__*/function (_innerSubscribe__WEBP) {
        _inherits(DebounceSubscriber, _innerSubscribe__WEBP);

        var _super = _createSuper(DebounceSubscriber);

        function DebounceSubscriber(destination, durationSelector) {
          var _this;

          _classCallCheck(this, DebounceSubscriber);

          _this = _super.call(this, destination);
          _this.durationSelector = durationSelector;
          _this.hasValue = false;
          return _this;
        }

        _createClass(DebounceSubscriber, [{
          key: "_next",
          value: function _next(value) {
            try {
              var result = this.durationSelector.call(this, value);

              if (result) {
                this._tryNext(value, result);
              }
            } catch (err) {
              this.destination.error(err);
            }
          }
        }, {
          key: "_complete",
          value: function _complete() {
            this.emitValue();
            this.destination.complete();
          }
        }, {
          key: "_tryNext",
          value: function _tryNext(value, duration) {
            var subscription = this.durationSubscription;
            this.value = value;
            this.hasValue = true;

            if (subscription) {
              subscription.unsubscribe();
              this.remove(subscription);
            }

            subscription = (0, _innerSubscribe__WEBPACK_IMPORTED_MODULE_0__.innerSubscribe)(duration, new _innerSubscribe__WEBPACK_IMPORTED_MODULE_0__.SimpleInnerSubscriber(this));

            if (subscription && !subscription.closed) {
              this.add(this.durationSubscription = subscription);
            }
          }
        }, {
          key: "notifyNext",
          value: function notifyNext() {
            this.emitValue();
          }
        }, {
          key: "notifyComplete",
          value: function notifyComplete() {
            this.emitValue();
          }
        }, {
          key: "emitValue",
          value: function emitValue() {
            if (this.hasValue) {
              var value = this.value;
              var subscription = this.durationSubscription;

              if (subscription) {
                this.durationSubscription = undefined;
                subscription.unsubscribe();
                this.remove(subscription);
              }

              this.value = undefined;
              this.hasValue = false;

              _get(_getPrototypeOf(DebounceSubscriber.prototype), "_next", this).call(this, value);
            }
          }
        }]);

        return DebounceSubscriber;
      }(_innerSubscribe__WEBPACK_IMPORTED_MODULE_0__.SimpleOuterSubscriber); //# sourceMappingURL=debounce.js.map

      /***/

    },

    /***/
    5792:
    /*!****************************************************************!*\
      !*** ./node_modules/rxjs/_esm2015/internal/operators/delay.js ***!
      \****************************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony export */


      __webpack_require__.d(__webpack_exports__, {
        /* harmony export */
        "delay": function delay() {
          return (
            /* binding */
            _delay
          );
        }
        /* harmony export */

      });
      /* harmony import */


      var _scheduler_async__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
      /*! ../scheduler/async */
      3637);
      /* harmony import */


      var _util_isDate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
      /*! ../util/isDate */
      4106);
      /* harmony import */


      var _Subscriber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
      /*! ../Subscriber */
      7393);
      /* harmony import */


      var _Notification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
      /*! ../Notification */
      3098);

      function _delay(delay) {
        var scheduler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _scheduler_async__WEBPACK_IMPORTED_MODULE_0__.async;
        var absoluteDelay = (0, _util_isDate__WEBPACK_IMPORTED_MODULE_1__.isDate)(delay);
        var delayFor = absoluteDelay ? +delay - scheduler.now() : Math.abs(delay);
        return function (source) {
          return source.lift(new DelayOperator(delayFor, scheduler));
        };
      }

      var DelayOperator = /*#__PURE__*/function () {
        function DelayOperator(delay, scheduler) {
          _classCallCheck(this, DelayOperator);

          this.delay = delay;
          this.scheduler = scheduler;
        }

        _createClass(DelayOperator, [{
          key: "call",
          value: function call(subscriber, source) {
            return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));
          }
        }]);

        return DelayOperator;
      }();

      var DelaySubscriber = /*#__PURE__*/function (_Subscriber__WEBPACK_) {
        _inherits(DelaySubscriber, _Subscriber__WEBPACK_);

        var _super2 = _createSuper(DelaySubscriber);

        function DelaySubscriber(destination, delay, scheduler) {
          var _this2;

          _classCallCheck(this, DelaySubscriber);

          _this2 = _super2.call(this, destination);
          _this2.delay = delay;
          _this2.scheduler = scheduler;
          _this2.queue = [];
          _this2.active = false;
          _this2.errored = false;
          return _this2;
        }

        _createClass(DelaySubscriber, [{
          key: "_schedule",
          value: function _schedule(scheduler) {
            this.active = true;
            var destination = this.destination;
            destination.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {
              source: this,
              destination: this.destination,
              scheduler: scheduler
            }));
          }
        }, {
          key: "scheduleNotification",
          value: function scheduleNotification(notification) {
            if (this.errored === true) {
              return;
            }

            var scheduler = this.scheduler;
            var message = new DelayMessage(scheduler.now() + this.delay, notification);
            this.queue.push(message);

            if (this.active === false) {
              this._schedule(scheduler);
            }
          }
        }, {
          key: "_next",
          value: function _next(value) {
            this.scheduleNotification(_Notification__WEBPACK_IMPORTED_MODULE_3__.Notification.createNext(value));
          }
        }, {
          key: "_error",
          value: function _error(err) {
            this.errored = true;
            this.queue = [];
            this.destination.error(err);
            this.unsubscribe();
          }
        }, {
          key: "_complete",
          value: function _complete() {
            this.scheduleNotification(_Notification__WEBPACK_IMPORTED_MODULE_3__.Notification.createComplete());
            this.unsubscribe();
          }
        }], [{
          key: "dispatch",
          value: function dispatch(state) {
            var source = state.source;
            var queue = source.queue;
            var scheduler = state.scheduler;
            var destination = state.destination;

            while (queue.length > 0 && queue[0].time - scheduler.now() <= 0) {
              queue.shift().notification.observe(destination);
            }

            if (queue.length > 0) {
              var delay = Math.max(0, queue[0].time - scheduler.now());
              this.schedule(state, delay);
            } else {
              this.unsubscribe();
              source.active = false;
            }
          }
        }]);

        return DelaySubscriber;
      }(_Subscriber__WEBPACK_IMPORTED_MODULE_2__.Subscriber);

      var DelayMessage = function DelayMessage(time, notification) {
        _classCallCheck(this, DelayMessage);

        this.time = time;
        this.notification = notification;
      }; //# sourceMappingURL=delay.js.map

      /***/

    },

    /***/
    4106:
    /*!************************************************************!*\
      !*** ./node_modules/rxjs/_esm2015/internal/util/isDate.js ***!
      \************************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony export */


      __webpack_require__.d(__webpack_exports__, {
        /* harmony export */
        "isDate": function isDate() {
          return (
            /* binding */
            _isDate
          );
        }
        /* harmony export */

      });

      function _isDate(value) {
        return value instanceof Date && !isNaN(+value);
      } //# sourceMappingURL=isDate.js.map

      /***/

    },

    /***/
    5092:
    /*!*************************************************************************!*\
      !*** ./dist/ngx-ui-tour-core/__ivy_ngcc__/fesm2015/ngx-ui-tour-core.js ***!
      \*************************************************************************/

    /***/
    function _(__unused_webpack_module, __webpack_exports__, __webpack_require__) {
      "use strict";

      __webpack_require__.r(__webpack_exports__);
      /* harmony export */


      __webpack_require__.d(__webpack_exports__, {
        /* harmony export */
        "ElementSides": function ElementSides() {
          return (
            /* binding */
            _ElementSides
          );
        },

        /* harmony export */
        "ScrollingUtil": function ScrollingUtil() {
          return (
            /* binding */
            _ScrollingUtil
          );
        },

        /* harmony export */
        "TourBackdropService": function TourBackdropService() {
          return (
            /* binding */
            _TourBackdropService
          );
        },

        /* harmony export */
        "TourHotkeyListenerComponent": function TourHotkeyListenerComponent() {
          return (
            /* binding */
            _TourHotkeyListenerComponent
          );
        },

        /* harmony export */
        "TourModule": function TourModule() {
          return (
            /* binding */
            _TourModule
          );
        },

        /* harmony export */
        "TourService": function TourService() {
          return (
            /* binding */
            _TourService
          );
        },

        /* harmony export */
        "TourState": function TourState() {
          return (
            /* binding */
            _TourState
          );
        },

        /* harmony export */
        "isInViewport": function isInViewport() {
          return (
            /* binding */
            _isInViewport
          );
        }
        /* harmony export */

      });
      /* harmony import */


      var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(
      /*! @angular/common */
      8583);
      /* harmony import */


      var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
      /*! @angular/core */
      7716);
      /* harmony import */


      var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
      /*! @angular/router */
      9895);
      /* harmony import */


      var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
      /*! rxjs */
      9765);
      /* harmony import */


      var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
      /*! rxjs */
      6682);
      /* harmony import */


      var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
      /*! rxjs */
      9412);
      /* harmony import */


      var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
      /*! rxjs */
      2759);
      /* harmony import */


      var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(
      /*! rxjs */
      945);
      /* harmony import */


      var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
      /*! rxjs/operators */
      8002);
      /* harmony import */


      var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
      /*! rxjs/operators */
      5435);
      /* harmony import */


      var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
      /*! rxjs/operators */
      8049);
      /* harmony import */


      var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
      /*! rxjs/operators */
      8984);

      var _c0 = ["*"];

      var _TourState;

      (function (TourState) {
        TourState[TourState["OFF"] = 0] = "OFF";
        TourState[TourState["ON"] = 1] = "ON";
        TourState[TourState["PAUSED"] = 2] = "PAUSED";
      })(_TourState || (_TourState = {}));

      var _TourService = /*#__PURE__*/function () {
        function _TourService(router) {
          _classCallCheck(this, _TourService);

          this.router = router;
          this.stepShow$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
          this.stepHide$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
          this.initialize$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
          this.start$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
          this.end$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
          this.pause$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
          this.resume$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
          this.startWaiting$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
          this.stopWaiting$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
          this.anchorRegister$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
          this.anchorUnregister$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__.Subject();
          this.events$ = (0, rxjs__WEBPACK_IMPORTED_MODULE_1__.merge)(this.stepShow$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function (value) {
            return {
              name: 'stepShow',
              value: value
            };
          })), this.stepHide$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function (value) {
            return {
              name: 'stepHide',
              value: value
            };
          })), this.initialize$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function (value) {
            return {
              name: 'initialize',
              value: value
            };
          })), this.start$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function (value) {
            return {
              name: 'start',
              value: value
            };
          })), this.end$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function (value) {
            return {
              name: 'end',
              value: value
            };
          })), this.pause$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function (value) {
            return {
              name: 'pause',
              value: value
            };
          })), this.resume$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function (value) {
            return {
              name: 'resume',
              value: value
            };
          })), this.anchorRegister$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function (value) {
            return {
              name: 'anchorRegister',
              value: value
            };
          })), this.anchorUnregister$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(function (value) {
            return {
              name: 'anchorUnregister',
              value: value
            };
          })));
          this.steps = [];
          this.anchors = {};
          this.status = _TourState.OFF;
          this.isHotKeysEnabled = true;
        }

        _createClass(_TourService, [{
          key: "initialize",
          value: function initialize(steps, stepDefaults) {
            if (steps && steps.length > 0) {
              this.status = _TourState.OFF;
              this.steps = steps.map(function (step) {
                return Object.assign({}, stepDefaults, step);
              });
              this.initialize$.next(this.steps);
            }
          }
        }, {
          key: "disableHotkeys",
          value: function disableHotkeys() {
            this.isHotKeysEnabled = false;
          }
        }, {
          key: "enableHotkeys",
          value: function enableHotkeys() {
            this.isHotKeysEnabled = true;
          }
        }, {
          key: "start",
          value: function start() {
            this.startAt(0);
          }
        }, {
          key: "startAt",
          value: function startAt(stepId) {
            var _this3 = this;

            this.status = _TourState.ON;
            this.goToStep(this.loadStep(stepId));
            this.start$.next();
            this.router.events.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(function (event) {
              return event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_4__.NavigationStart;
            }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.first)()).subscribe(function () {
              if (_this3.currentStep && _this3.currentStep.hasOwnProperty('route')) {
                _this3.hideStep(_this3.currentStep);
              }
            });
          }
        }, {
          key: "end",
          value: function end() {
            this.status = _TourState.OFF;
            this.hideStep(this.currentStep);
            this.currentStep = undefined;
            this.end$.next();
          }
        }, {
          key: "pause",
          value: function pause() {
            this.status = _TourState.PAUSED;
            this.hideStep(this.currentStep);
            this.pause$.next();
          }
        }, {
          key: "resume",
          value: function resume() {
            this.status = _TourState.ON;
            this.showStep(this.currentStep);
            this.resume$.next();
          }
        }, {
          key: "toggle",
          value: function toggle(pause) {
            if (pause) {
              if (this.currentStep) {
                this.pause();
              } else {
                this.resume();
              }
            } else {
              if (this.currentStep) {
                this.end();
              } else {
                this.start();
              }
            }
          }
        }, {
          key: "next",
          value: function next() {
            if (this.hasNext(this.currentStep)) {
              this.goToStep(this.loadStep(this.currentStep.nextStep || this.steps.indexOf(this.currentStep) + 1));
            }
          }
        }, {
          key: "hasNext",
          value: function hasNext(step) {
            if (!step) {
              console.warn('Can\'t get next step. No currentStep.');
              return false;
            }

            return step.nextStep !== undefined || this.steps.indexOf(step) < this.steps.length - 1;
          }
        }, {
          key: "prev",
          value: function prev() {
            if (this.hasPrev(this.currentStep)) {
              this.goToStep(this.loadStep(this.currentStep.prevStep || this.steps.indexOf(this.currentStep) - 1));
            }
          }
        }, {
          key: "hasPrev",
          value: function hasPrev(step) {
            if (!step) {
              console.warn('Can\'t get previous step. No currentStep.');
              return false;
            }

            return step.prevStep !== undefined || this.steps.indexOf(step) > 0;
          }
        }, {
          key: "goto",
          value: function goto(stepId) {
            this.goToStep(this.loadStep(stepId));
          }
        }, {
          key: "register",
          value: function register(anchorId, anchor) {
            if (!anchorId) {
              return;
            }

            if (this.anchors[anchorId]) {
              throw new Error('anchorId ' + anchorId + ' already registered!');
            }

            this.anchors[anchorId] = anchor;
            this.anchorRegister$.next(anchorId);
          }
        }, {
          key: "unregister",
          value: function unregister(anchorId) {
            if (!anchorId) {
              return;
            }

            delete this.anchors[anchorId];
            this.anchorUnregister$.next(anchorId);
          }
        }, {
          key: "getStatus",
          value: function getStatus() {
            return this.status;
          }
        }, {
          key: "isHotkeysEnabled",
          value: function isHotkeysEnabled() {
            return this.isHotKeysEnabled;
          }
        }, {
          key: "goToStep",
          value: function goToStep(step) {
            var _this4 = this;

            if (!step) {
              console.warn('Can\'t go to non-existent step');
              this.end();
              return;
            }

            if (this.currentStep) {
              this.hideStep(this.currentStep);
            }

            var navigatePromise = new Promise(function (resolve) {
              return resolve(true);
            });

            if (typeof step.route === 'string') {
              navigatePromise = this.router.navigateByUrl(step.route);
            } else if (Array.isArray(step.route)) {
              navigatePromise = this.router.navigate(step.route);
            }

            navigatePromise.then(function (navigated) {
              if (navigated !== false && !step.waitFor) {
                setTimeout(function () {
                  return _this4.setCurrentStep(step);
                });
              } else if (navigated !== false) {
                _this4.wait(step);
              }
            });
          }
        }, {
          key: "wait",
          value: function wait(step) {
            var _this5 = this;

            var waitFor$ = (0, rxjs__WEBPACK_IMPORTED_MODULE_6__.from)(step.waitFor);
            this.startWaiting$.next(step);
            waitFor$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.first)()).subscribe(function () {
              setTimeout(function () {
                return _this5.setCurrentStep(step);
              });

              _this5.stopWaiting$.next(step);
            });
          }
        }, {
          key: "loadStep",
          value: function loadStep(stepId) {
            if (typeof stepId === 'number') {
              return this.steps[stepId];
            } else {
              return this.steps.find(function (step) {
                return step.stepId === stepId;
              });
            }
          }
        }, {
          key: "setCurrentStep",
          value: function setCurrentStep(step) {
            var _this6 = this;

            this.currentStep = step;
            this.showStep(this.currentStep);
            this.router.events.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(function (event) {
              return event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_4__.NavigationStart;
            }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.first)()).subscribe(function () {
              if (_this6.currentStep && _this6.currentStep.hasOwnProperty('route')) {
                _this6.hideStep(_this6.currentStep);
              }
            });
          }
        }, {
          key: "showStep",
          value: function showStep(step) {
            var _this7 = this;

            var anchor = this.anchors[step && step.anchorId];

            if (!anchor) {
              if (step.isAsync) {
                this.startWaiting$.next(step);
                this.anchorRegister$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(function (anchorId) {
                  return anchorId === step.anchorId;
                }), (0, rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.first)()).subscribe(function () {
                  setTimeout(function () {
                    return _this7.showStep(step);
                  });

                  _this7.stopWaiting$.next(step);
                });
                return;
              }

              console.warn('Can\'t attach to unregistered anchor with id ' + step.anchorId);
              this.end();
              return;
            }

            anchor.showTourStep(step);
            this.stepShow$.next(step);
          }
        }, {
          key: "hideStep",
          value: function hideStep(step) {
            var anchor = this.anchors[step && step.anchorId];

            if (!anchor) {
              return;
            }

            anchor.hideTourStep();
            this.stepHide$.next(step);
          }
        }]);

        return _TourService;
      }();

      _TourService.ɵfac = function TourService_Factory(t) {
        return new (t || _TourService)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_4__.Router));
      };

      _TourService.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjectable"]({
        token: _TourService,
        factory: _TourService.ɵfac
      });

      _TourService.ctorParameters = function () {
        return [{
          type: _angular_router__WEBPACK_IMPORTED_MODULE_4__.Router
        }];
      };

      (function () {
        (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵsetClassMetadata"](_TourService, [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.Injectable
        }], function () {
          return [{
            type: _angular_router__WEBPACK_IMPORTED_MODULE_4__.Router
          }];
        }, null);
      })();

      var _TourHotkeyListenerComponent = /*#__PURE__*/function () {
        function _TourHotkeyListenerComponent(tourService) {
          _classCallCheck(this, _TourHotkeyListenerComponent);

          this.tourService = tourService;
        }
        /**
         * Configures hot keys for controlling the tour with the keyboard
         */


        _createClass(_TourHotkeyListenerComponent, [{
          key: "onEscapeKey",
          value: function onEscapeKey() {
            if (this.tourService.getStatus() === _TourState.ON && this.tourService.isHotkeysEnabled()) {
              this.tourService.end();
            }
          }
        }, {
          key: "onArrowRightKey",
          value: function onArrowRightKey() {
            if (this.tourService.getStatus() === _TourState.ON && this.tourService.hasNext(this.tourService.currentStep) && this.tourService.isHotkeysEnabled()) {
              this.tourService.next();
            }
          }
        }, {
          key: "onArrowLeftKey",
          value: function onArrowLeftKey() {
            if (this.tourService.getStatus() === _TourState.ON && this.tourService.hasPrev(this.tourService.currentStep) && this.tourService.isHotkeysEnabled()) {
              this.tourService.prev();
            }
          }
        }]);

        return _TourHotkeyListenerComponent;
      }();

      _TourHotkeyListenerComponent.ɵfac = function TourHotkeyListenerComponent_Factory(t) {
        return new (t || _TourHotkeyListenerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_TourService));
      };

      _TourHotkeyListenerComponent.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({
        type: _TourHotkeyListenerComponent,
        selectors: [["tour-hotkey-listener"]],
        hostBindings: function TourHotkeyListenerComponent_HostBindings(rf, ctx) {
          if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("keydown.Escape", function TourHotkeyListenerComponent_keydown_Escape_HostBindingHandler() {
              return ctx.onEscapeKey();
            }, false, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresolveWindow"])("keydown.ArrowRight", function TourHotkeyListenerComponent_keydown_ArrowRight_HostBindingHandler() {
              return ctx.onArrowRightKey();
            }, false, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresolveWindow"])("keydown.ArrowLeft", function TourHotkeyListenerComponent_keydown_ArrowLeft_HostBindingHandler() {
              return ctx.onArrowLeftKey();
            }, false, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresolveWindow"]);
          }
        },
        ngContentSelectors: _c0,
        decls: 1,
        vars: 0,
        template: function TourHotkeyListenerComponent_Template(rf, ctx) {
          if (rf & 1) {
            _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵprojectionDef"]();

            _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵprojection"](0);
          }
        },
        encapsulation: 2
      });

      _TourHotkeyListenerComponent.ctorParameters = function () {
        return [{
          type: _TourService
        }];
      };

      _TourHotkeyListenerComponent.propDecorators = {
        onEscapeKey: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.HostListener,
          args: ['window:keydown.Escape']
        }],
        onArrowRightKey: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.HostListener,
          args: ['window:keydown.ArrowRight']
        }],
        onArrowLeftKey: [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.HostListener,
          args: ['window:keydown.ArrowLeft']
        }]
      };

      (function () {
        (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵsetClassMetadata"](_TourHotkeyListenerComponent, [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.Component,
          args: [{
            selector: 'tour-hotkey-listener',
            template: "<ng-content></ng-content>"
          }]
        }], function () {
          return [{
            type: _TourService
          }];
        }, {
          /**
           * Configures hot keys for controlling the tour with the keyboard
           */
          onEscapeKey: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.HostListener,
            args: ['window:keydown.Escape']
          }],
          onArrowRightKey: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.HostListener,
            args: ['window:keydown.ArrowRight']
          }],
          onArrowLeftKey: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.HostListener,
            args: ['window:keydown.ArrowLeft']
          }]
        });
      })();

      var _ElementSides;

      (function (ElementSides) {
        ElementSides[ElementSides["Top"] = 0] = "Top";
        ElementSides[ElementSides["Bottom"] = 1] = "Bottom";
        ElementSides[ElementSides["All"] = 2] = "All";
      })(_ElementSides || (_ElementSides = {}));

      function _isInViewport(htlmElement) {
        var sidesToCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _ElementSides.All;
        var viewportWidth = window.innerWidth,
            viewportHeight = window.innerHeight,
            boundingRectangle = htlmElement.getBoundingClientRect(),
            areCornersInViewport = boundingRectangle.left >= 0 && boundingRectangle.right <= viewportWidth,
            isTopInViewport = boundingRectangle.top >= 0,
            isBottomInViewport = boundingRectangle.bottom <= viewportHeight;

        if (sidesToCheck === _ElementSides.Top) {
          return isTopInViewport && areCornersInViewport;
        }

        if (sidesToCheck === _ElementSides.Bottom) {
          return isBottomInViewport && areCornersInViewport;
        }

        return isTopInViewport && isBottomInViewport && areCornersInViewport;
      }

      var _ScrollingUtil = /*#__PURE__*/function () {
        function _ScrollingUtil() {
          _classCallCheck(this, _ScrollingUtil);
        }

        _createClass(_ScrollingUtil, null, [{
          key: "ensureVisible",
          value: function ensureVisible(htmlElement) {
            if (!_isInViewport(htmlElement, _ElementSides.Bottom)) {
              htmlElement.scrollIntoView(false);
            } else if (!_isInViewport(htmlElement, _ElementSides.Top)) {
              htmlElement.scrollIntoView(true);
            }
          }
        }]);

        return _ScrollingUtil;
      }();

      var _TourBackdropService = /*#__PURE__*/function () {
        function _TourBackdropService(rendererFactory) {
          _classCallCheck(this, _TourBackdropService);

          this.renderer = rendererFactory.createRenderer(null, null);
        }

        _createClass(_TourBackdropService, [{
          key: "show",
          value: function show(targetElement) {
            var boundingRect = targetElement.nativeElement.getBoundingClientRect();

            if (!this.backdropElement) {
              this.createBackdrop();
              this.subscribeToWindowResizeEvent();
            }

            this.targetHtmlElement = targetElement.nativeElement;
            this.setBackdropElStyles(boundingRect);
          }
        }, {
          key: "createBackdrop",
          value: function createBackdrop() {
            this.createBackdropBaseElement();
            this.createBackdropElement();
          }
        }, {
          key: "createBackdropBaseElement",
          value: function createBackdropBaseElement() {
            var baseElStyles = {
              position: 'fixed',
              height: '100%',
              width: '100%',
              top: '0',
              left: '0',
              zIndex: '100'
            };
            this.backdropBaseElement = this.renderer.createElement('div');
            this.applyStyles(baseElStyles, this.backdropBaseElement);
            this.renderer.appendChild(document.body, this.backdropBaseElement);
          }
        }, {
          key: "createBackdropElement",
          value: function createBackdropElement() {
            this.backdropElement = this.renderer.createElement('div');
            this.renderer.addClass(this.backdropElement, 'ngx-ui-tour_backdrop');
            this.renderer.appendChild(document.body, this.backdropElement);
          }
        }, {
          key: "subscribeToWindowResizeEvent",
          value: function subscribeToWindowResizeEvent() {
            var _this8 = this;

            var resizeObservable$ = (0, rxjs__WEBPACK_IMPORTED_MODULE_8__.fromEvent)(window, 'resize');
            this.windowResizeSubscription$ = resizeObservable$.pipe((0, rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.debounce)(function () {
              return (0, rxjs__WEBPACK_IMPORTED_MODULE_10__.interval)(10);
            })).subscribe(function () {
              var boundingRect = _this8.targetHtmlElement.getBoundingClientRect();

              _this8.setBackdropElStyles(boundingRect);

              _ScrollingUtil.ensureVisible(_this8.targetHtmlElement);
            });
          }
        }, {
          key: "close",
          value: function close() {
            if (this.backdropElement) {
              this.removeBackdropElement();
              this.windowResizeSubscription$.unsubscribe();
            }
          }
        }, {
          key: "removeBackdropElement",
          value: function removeBackdropElement() {
            this.renderer.removeChild(document.body, this.backdropBaseElement);
            this.renderer.removeChild(document.body, this.backdropElement);
            this.backdropBaseElement = null;
            this.backdropElement = null;
          }
        }, {
          key: "setBackdropElStyles",
          value: function setBackdropElStyles(boundingRect) {
            var _a, _b;

            var scrollX = (_a = window.scrollX) !== null && _a !== void 0 ? _a : window.pageXOffset,
                scrollY = (_b = window.scrollY) !== null && _b !== void 0 ? _b : window.pageYOffset,
                styles = {
              position: 'absolute',
              width: "".concat(boundingRect.width, "px"),
              height: "".concat(boundingRect.height, "px"),
              top: "".concat(boundingRect.top + scrollY, "px"),
              left: "".concat(boundingRect.left + scrollX, "px"),
              boxShadow: '0 0 0 9999px rgba(0, 0, 0, 0.7)',
              zIndex: '101'
            };
            this.applyStyles(styles, this.backdropElement);
          }
        }, {
          key: "applyStyles",
          value: function applyStyles(styles, element) {
            for (var _i = 0, _Object$keys = Object.keys(styles); _i < _Object$keys.length; _i++) {
              var name = _Object$keys[_i];
              this.renderer.setStyle(element, name, styles[name]);
            }
          }
        }]);

        return _TourBackdropService;
      }();

      _TourBackdropService.ɵfac = function TourBackdropService_Factory(t) {
        return new (t || _TourBackdropService)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_7__.RendererFactory2));
      };

      _TourBackdropService.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjectable"]({
        token: _TourBackdropService,
        factory: _TourBackdropService.ɵfac
      });

      _TourBackdropService.ctorParameters = function () {
        return [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.RendererFactory2
        }];
      };

      (function () {
        (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵsetClassMetadata"](_TourBackdropService, [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.Injectable
        }], function () {
          return [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.RendererFactory2
          }];
        }, null);
      })();

      var _TourModule = /*#__PURE__*/function () {
        function _TourModule() {
          _classCallCheck(this, _TourModule);
        }

        _createClass(_TourModule, null, [{
          key: "forRoot",
          value: function forRoot() {
            return {
              ngModule: _TourModule,
              providers: [_TourService, _TourBackdropService]
            };
          }
        }]);

        return _TourModule;
      }();

      _TourModule.ɵfac = function TourModule_Factory(t) {
        return new (t || _TourModule)();
      };

      _TourModule.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineNgModule"]({
        type: _TourModule
      });
      _TourModule.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjector"]({
        imports: [[_angular_common__WEBPACK_IMPORTED_MODULE_11__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_4__.RouterModule]]
      });

      (function () {
        (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵsetClassMetadata"](_TourModule, [{
          type: _angular_core__WEBPACK_IMPORTED_MODULE_7__.NgModule,
          args: [{
            declarations: [_TourHotkeyListenerComponent],
            exports: [_TourHotkeyListenerComponent],
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_11__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_4__.RouterModule]
          }]
        }], null, null);
      })();

      (function () {
        (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵsetNgModuleScope"](_TourModule, {
          declarations: function declarations() {
            return [_TourHotkeyListenerComponent];
          },
          imports: function imports() {
            return [_angular_common__WEBPACK_IMPORTED_MODULE_11__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_4__.RouterModule];
          },
          exports: function exports() {
            return [_TourHotkeyListenerComponent];
          }
        });
      })();
      /*
       * Public API Surface of ngx-ui-tour-core
       */

      /**
       * Generated bundle index. Do not edit.
       */

      /***/

    }
  }]);
})();
//# sourceMappingURL=default-node_modules_rxjs__esm2015_internal_operators_delay_js-dist_ngx-ui-tour-core___ivy_ng-e0207a-es5.js.map