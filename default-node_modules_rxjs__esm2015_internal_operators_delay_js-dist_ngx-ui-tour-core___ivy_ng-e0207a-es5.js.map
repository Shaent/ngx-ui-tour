{"version":3,"sources":["webpack:///node_modules/rxjs/_esm2015/internal/observable/interval.js","webpack:///node_modules/rxjs/_esm2015/internal/operators/debounce.js","webpack:///node_modules/rxjs/_esm2015/internal/operators/delay.js","webpack:///node_modules/rxjs/_esm2015/internal/util/isDate.js","webpack:///dist/projects/ngx-ui-tour-core/src/lib/tour.service.ts","webpack:///dist/projects/ngx-ui-tour-core/src/lib/tour-hotkey-listener.component.ts","webpack:///dist/projects/ngx-ui-tour-core/src/lib/is-in-viewport.ts","webpack:///dist/projects/ngx-ui-tour-core/src/lib/scrolling-util.ts","webpack:///dist/projects/ngx-ui-tour-core/src/lib/tour-backdrop.service.ts","webpack:///dist/projects/ngx-ui-tour-core/src/lib/tour.module.ts","webpack:///dist/projects/ngx-ui-tour-core/src/public_api.ts","webpack:///dist/projects/ngx-ui-tour-core/src/ngx-ui-tour-core.ts"],"names":["interval","period","scheduler","async","isNumeric","schedule","Observable","subscriber","add","dispatch","counter","state","next","debounce","durationSelector","source","lift","DebounceOperator","subscribe","DebounceSubscriber","destination","hasValue","value","result","call","_tryNext","err","error","emitValue","complete","duration","subscription","durationSubscription","unsubscribe","remove","innerSubscribe","SimpleInnerSubscriber","closed","undefined","SimpleOuterSubscriber","delay","absoluteDelay","isDate","delayFor","now","Math","abs","DelayOperator","DelaySubscriber","queue","active","errored","notification","message","DelayMessage","push","_schedule","scheduleNotification","Notification","length","time","shift","observe","max","Subscriber","Date","isNaN","TourState","TourService","router","stepShow$","Subject","stepHide$","initialize$","start$","end$","pause$","resume$","startWaiting$","stopWaiting$","anchorRegister$","anchorUnregister$","events$","mergeStatic","pipe","map","name","steps","anchors","status","OFF","isHotKeysEnabled","stepDefaults","step","Object","assign","startAt","stepId","ON","goToStep","loadStep","events","filter","event","NavigationStart","first","currentStep","hasOwnProperty","hideStep","PAUSED","showStep","pause","resume","end","start","hasNext","nextStep","indexOf","console","warn","hasPrev","prevStep","anchorId","anchor","Error","navigatePromise","Promise","resolve","route","navigateByUrl","Array","isArray","navigate","then","navigated","waitFor","setTimeout","setCurrentStep","wait","waitFor$","from","find","isAsync","showTourStep","hideTourStep","Router","TourHotkeyListenerComponent","tourService","getStatus","isHotkeysEnabled","prev","HostListener","ElementSides","isInViewport","htlmElement","sidesToCheck","All","viewportWidth","window","innerWidth","viewportHeight","innerHeight","boundingRectangle","getBoundingClientRect","areCornersInViewport","left","right","isTopInViewport","top","isBottomInViewport","bottom","Top","Bottom","ScrollingUtil","htmlElement","scrollIntoView","TourBackdropService","rendererFactory","renderer","createRenderer","targetElement","boundingRect","nativeElement","backdropElement","createBackdrop","subscribeToWindowResizeEvent","targetHtmlElement","setBackdropElStyles","createBackdropBaseElement","createBackdropElement","baseElStyles","position","height","width","zIndex","backdropBaseElement","createElement","applyStyles","appendChild","document","body","addClass","resizeObservable$","fromEvent","windowResizeSubscription$","ensureVisible","removeBackdropElement","removeChild","scrollX","pageXOffset","scrollY","pageYOffset","styles","boxShadow","element","keys","setStyle","RendererFactory2","TourModule","ngModule","providers"],"mappings":"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","file":"default-node_modules_rxjs__esm2015_internal_operators_delay_js-dist_ngx-ui-tour-core___ivy_ng-e0207a-es5.js","sourcesContent":["import { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nexport function interval(period = 0, scheduler = async) {\n    if (!isNumeric(period) || period < 0) {\n        period = 0;\n    }\n    if (!scheduler || typeof scheduler.schedule !== 'function') {\n        scheduler = async;\n    }\n    return new Observable(subscriber => {\n        subscriber.add(scheduler.schedule(dispatch, period, { subscriber, counter: 0, period }));\n        return subscriber;\n    });\n}\nfunction dispatch(state) {\n    const { subscriber, counter, period } = state;\n    subscriber.next(counter);\n    this.schedule({ subscriber, counter: counter + 1, period }, period);\n}\n//# sourceMappingURL=interval.js.map","import { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function debounce(durationSelector) {\n    return (source) => source.lift(new DebounceOperator(durationSelector));\n}\nclass DebounceOperator {\n    constructor(durationSelector) {\n        this.durationSelector = durationSelector;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));\n    }\n}\nclass DebounceSubscriber extends SimpleOuterSubscriber {\n    constructor(destination, durationSelector) {\n        super(destination);\n        this.durationSelector = durationSelector;\n        this.hasValue = false;\n    }\n    _next(value) {\n        try {\n            const result = this.durationSelector.call(this, value);\n            if (result) {\n                this._tryNext(value, result);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    }\n    _complete() {\n        this.emitValue();\n        this.destination.complete();\n    }\n    _tryNext(value, duration) {\n        let subscription = this.durationSubscription;\n        this.value = value;\n        this.hasValue = true;\n        if (subscription) {\n            subscription.unsubscribe();\n            this.remove(subscription);\n        }\n        subscription = innerSubscribe(duration, new SimpleInnerSubscriber(this));\n        if (subscription && !subscription.closed) {\n            this.add(this.durationSubscription = subscription);\n        }\n    }\n    notifyNext() {\n        this.emitValue();\n    }\n    notifyComplete() {\n        this.emitValue();\n    }\n    emitValue() {\n        if (this.hasValue) {\n            const value = this.value;\n            const subscription = this.durationSubscription;\n            if (subscription) {\n                this.durationSubscription = undefined;\n                subscription.unsubscribe();\n                this.remove(subscription);\n            }\n            this.value = undefined;\n            this.hasValue = false;\n            super._next(value);\n        }\n    }\n}\n//# sourceMappingURL=debounce.js.map","import { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nexport function delay(delay, scheduler = async) {\n    const absoluteDelay = isDate(delay);\n    const delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(delay);\n    return (source) => source.lift(new DelayOperator(delayFor, scheduler));\n}\nclass DelayOperator {\n    constructor(delay, scheduler) {\n        this.delay = delay;\n        this.scheduler = scheduler;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));\n    }\n}\nclass DelaySubscriber extends Subscriber {\n    constructor(destination, delay, scheduler) {\n        super(destination);\n        this.delay = delay;\n        this.scheduler = scheduler;\n        this.queue = [];\n        this.active = false;\n        this.errored = false;\n    }\n    static dispatch(state) {\n        const source = state.source;\n        const queue = source.queue;\n        const scheduler = state.scheduler;\n        const destination = state.destination;\n        while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {\n            queue.shift().notification.observe(destination);\n        }\n        if (queue.length > 0) {\n            const delay = Math.max(0, queue[0].time - scheduler.now());\n            this.schedule(state, delay);\n        }\n        else {\n            this.unsubscribe();\n            source.active = false;\n        }\n    }\n    _schedule(scheduler) {\n        this.active = true;\n        const destination = this.destination;\n        destination.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {\n            source: this, destination: this.destination, scheduler: scheduler\n        }));\n    }\n    scheduleNotification(notification) {\n        if (this.errored === true) {\n            return;\n        }\n        const scheduler = this.scheduler;\n        const message = new DelayMessage(scheduler.now() + this.delay, notification);\n        this.queue.push(message);\n        if (this.active === false) {\n            this._schedule(scheduler);\n        }\n    }\n    _next(value) {\n        this.scheduleNotification(Notification.createNext(value));\n    }\n    _error(err) {\n        this.errored = true;\n        this.queue = [];\n        this.destination.error(err);\n        this.unsubscribe();\n    }\n    _complete() {\n        this.scheduleNotification(Notification.createComplete());\n        this.unsubscribe();\n    }\n}\nclass DelayMessage {\n    constructor(time, notification) {\n        this.time = time;\n        this.notification = notification;\n    }\n}\n//# sourceMappingURL=delay.js.map","export function isDate(value) {\n    return value instanceof Date && !isNaN(+value);\n}\n//# sourceMappingURL=isDate.js.map","import { Injectable } from '@angular/core';\r\nimport {NavigationStart, Router} from '@angular/router';\r\nimport type {UrlSegment} from '@angular/router';\r\n\r\nimport { TourAnchorDirective } from './tour-anchor.directive';\r\nimport {Subject, Observable, merge as mergeStatic, from} from 'rxjs';\r\nimport {first, map, filter} from 'rxjs/operators';\r\n\r\nexport interface IStepOption {\r\n  stepId?: string;\r\n  anchorId?: string;\r\n  title?: string;\r\n  content?: string;\r\n  route?: string | UrlSegment[];\r\n  nextStep?: number | string;\r\n  prevStep?: number | string;\r\n  placement?: any;\r\n  preventScrolling?: boolean;\r\n  prevBtnTitle?: string;\r\n  nextBtnTitle?: string;\r\n  endBtnTitle?: string;\r\n  /**\r\n   * @deprecated use \"isAsync\" instead\r\n   */\r\n  waitFor?: Promise<void> | Observable<void>;\r\n  enableBackdrop?: boolean;\r\n  isAsync?: boolean;\r\n}\r\n\r\nexport enum TourState {\r\n  OFF,\r\n  ON,\r\n  PAUSED\r\n}\r\n\r\n@Injectable()\r\nexport class TourService<T extends IStepOption = IStepOption> {\r\n  public stepShow$: Subject<T> = new Subject();\r\n  public stepHide$: Subject<T> = new Subject();\r\n  public initialize$: Subject<T[]> = new Subject();\r\n  public start$: Subject<T> = new Subject();\r\n  public end$: Subject<any> = new Subject();\r\n  public pause$: Subject<T> = new Subject();\r\n  public resume$: Subject<T> = new Subject();\r\n  public startWaiting$: Subject<T> = new Subject();\r\n  public stopWaiting$: Subject<T> = new Subject();\r\n  public anchorRegister$: Subject<string> = new Subject();\r\n  public anchorUnregister$: Subject<string> = new Subject();\r\n  public events$: Observable<{ name: string; value: any }> = mergeStatic(\r\n    this.stepShow$.pipe(map(value => ({ name: 'stepShow', value }))),\r\n    this.stepHide$.pipe(map(value => ({ name: 'stepHide', value }))),\r\n    this.initialize$.pipe(map(value => ({ name: 'initialize', value }))),\r\n    this.start$.pipe(map(value => ({ name: 'start', value }))),\r\n    this.end$.pipe(map(value => ({ name: 'end', value }))),\r\n    this.pause$.pipe(map(value => ({ name: 'pause', value }))),\r\n    this.resume$.pipe(map(value => ({ name: 'resume', value }))),\r\n    this.anchorRegister$.pipe(\r\n      map(value => ({\r\n        name: 'anchorRegister',\r\n        value\r\n      }))\r\n    ),\r\n    this.anchorUnregister$.pipe(\r\n      map(value => ({\r\n        name: 'anchorUnregister',\r\n        value\r\n      }))\r\n    )\r\n  );\r\n\r\n  public steps: T[] = [];\r\n  public currentStep: T;\r\n\r\n  public anchors: { [anchorId: string]: TourAnchorDirective } = {};\r\n  private status: TourState = TourState.OFF;\r\n  private isHotKeysEnabled = true;\r\n\r\n  constructor(private router: Router) {}\r\n\r\n  public initialize(steps: T[], stepDefaults?: T): void {\r\n    if (steps && steps.length > 0) {\r\n      this.status = TourState.OFF;\r\n      this.steps = steps.map(step => Object.assign({}, stepDefaults, step));\r\n      this.initialize$.next(this.steps);\r\n    }\r\n  }\r\n\r\n  public disableHotkeys(): void {\r\n    this.isHotKeysEnabled = false;\r\n  }\r\n\r\n  public enableHotkeys(): void {\r\n    this.isHotKeysEnabled = true;\r\n  }\r\n\r\n  public start(): void {\r\n    this.startAt(0);\r\n  }\r\n\r\n  public startAt(stepId: number | string): void {\r\n    this.status = TourState.ON;\r\n    this.goToStep(this.loadStep(stepId));\r\n    this.start$.next();\r\n    this.router.events\r\n      .pipe(filter(event => event instanceof NavigationStart), first())\r\n      .subscribe(() => {\r\n        if (this.currentStep && this.currentStep.hasOwnProperty('route')) {\r\n          this.hideStep(this.currentStep);\r\n        }\r\n      });\r\n  }\r\n\r\n  public end(): void {\r\n    this.status = TourState.OFF;\r\n    this.hideStep(this.currentStep);\r\n    this.currentStep = undefined;\r\n    this.end$.next();\r\n  }\r\n\r\n  public pause(): void {\r\n    this.status = TourState.PAUSED;\r\n    this.hideStep(this.currentStep);\r\n    this.pause$.next();\r\n  }\r\n\r\n  public resume(): void {\r\n    this.status = TourState.ON;\r\n    this.showStep(this.currentStep);\r\n    this.resume$.next();\r\n  }\r\n\r\n  public toggle(pause?: boolean): void {\r\n    if (pause) {\r\n      if (this.currentStep) {\r\n        this.pause();\r\n      } else {\r\n        this.resume();\r\n      }\r\n    } else {\r\n      if (this.currentStep) {\r\n        this.end();\r\n      } else {\r\n        this.start();\r\n      }\r\n    }\r\n  }\r\n\r\n  public next(): void {\r\n    if (this.hasNext(this.currentStep)) {\r\n      this.goToStep(\r\n        this.loadStep(\r\n          this.currentStep.nextStep || this.steps.indexOf(this.currentStep) + 1\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  public hasNext(step: T): boolean {\r\n    if (!step) {\r\n      console.warn('Can\\'t get next step. No currentStep.');\r\n      return false;\r\n    }\r\n    return (\r\n      step.nextStep !== undefined ||\r\n      this.steps.indexOf(step) < this.steps.length - 1\r\n    );\r\n  }\r\n\r\n  public prev(): void {\r\n    if (this.hasPrev(this.currentStep)) {\r\n      this.goToStep(\r\n        this.loadStep(\r\n          this.currentStep.prevStep || this.steps.indexOf(this.currentStep) - 1\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  public hasPrev(step: T): boolean {\r\n    if (!step) {\r\n      console.warn('Can\\'t get previous step. No currentStep.');\r\n      return false;\r\n    }\r\n    return step.prevStep !== undefined || this.steps.indexOf(step) > 0;\r\n  }\r\n\r\n  public goto(stepId: number | string): void {\r\n    this.goToStep(this.loadStep(stepId));\r\n  }\r\n\r\n  public register(anchorId: string, anchor: TourAnchorDirective): void {\r\n    if (!anchorId) {\r\n      return;\r\n    }\r\n    if (this.anchors[anchorId]) {\r\n      throw new Error('anchorId ' + anchorId + ' already registered!');\r\n    }\r\n    this.anchors[anchorId] = anchor;\r\n    this.anchorRegister$.next(anchorId);\r\n  }\r\n\r\n  public unregister(anchorId: string): void {\r\n    if (!anchorId) {\r\n      return;\r\n    }\r\n    delete this.anchors[anchorId];\r\n    this.anchorUnregister$.next(anchorId);\r\n  }\r\n\r\n  public getStatus(): TourState {\r\n    return this.status;\r\n  }\r\n\r\n  public isHotkeysEnabled(): boolean {\r\n    return this.isHotKeysEnabled;\r\n  }\r\n\r\n  private goToStep(step: T): void {\r\n    if (!step) {\r\n      console.warn('Can\\'t go to non-existent step');\r\n      this.end();\r\n      return;\r\n    }\r\n    if (this.currentStep) {\r\n      this.hideStep(this.currentStep);\r\n    }\r\n    let navigatePromise: Promise<boolean> = new Promise(resolve =>\r\n      resolve(true)\r\n    );\r\n    if (typeof step.route === 'string') {\r\n      navigatePromise = this.router.navigateByUrl(step.route);\r\n    } else if (Array.isArray(step.route)) {\r\n      navigatePromise = this.router.navigate(step.route);\r\n    }\r\n    navigatePromise.then(navigated => {\r\n      if (navigated !== false && !step.waitFor) {\r\n        setTimeout(() => this.setCurrentStep(step));\r\n      } else if (navigated !== false) {\r\n        this.wait(step);\r\n      }\r\n    });\r\n  }\r\n\r\n  private wait(step: T) {\r\n    const waitFor$ = from(step.waitFor);\r\n\r\n    this.startWaiting$.next(step);\r\n    waitFor$\r\n      .pipe(first())\r\n      .subscribe(\r\n        () => {\r\n          setTimeout(() => this.setCurrentStep(step));\r\n          this.stopWaiting$.next(step);\r\n        }\r\n      );\r\n  }\r\n\r\n  private loadStep(stepId: number | string): T {\r\n    if (typeof stepId === 'number') {\r\n      return this.steps[stepId];\r\n    } else {\r\n      return this.steps.find(step => step.stepId === stepId);\r\n    }\r\n  }\r\n\r\n  private setCurrentStep(step: T): void {\r\n    this.currentStep = step;\r\n    this.showStep(this.currentStep);\r\n    this.router.events\r\n      .pipe(filter(event => event instanceof NavigationStart), first())\r\n      .subscribe(() => {\r\n        if (this.currentStep && this.currentStep.hasOwnProperty('route')) {\r\n          this.hideStep(this.currentStep);\r\n        }\r\n      });\r\n  }\r\n\r\n  private showStep(step: T): void {\r\n    const anchor = this.anchors[step && step.anchorId];\r\n\r\n    if (!anchor) {\r\n      if (step.isAsync) {\r\n        this.startWaiting$.next(step);\r\n        this.anchorRegister$\r\n          .pipe(\r\n            filter(anchorId => anchorId === step.anchorId),\r\n            first()\r\n          )\r\n          .subscribe(\r\n            () => {\r\n              setTimeout(() => this.showStep(step));\r\n              this.stopWaiting$.next(step);\r\n            }\r\n          );\r\n        return;\r\n      }\r\n\r\n      console.warn(\r\n        'Can\\'t attach to unregistered anchor with id ' + step.anchorId\r\n      );\r\n      this.end();\r\n      return;\r\n    }\r\n    anchor.showTourStep(step);\r\n    this.stepShow$.next(step);\r\n  }\r\n\r\n  private hideStep(step: T): void {\r\n    const anchor = this.anchors[step && step.anchorId];\r\n    if (!anchor) {\r\n      return;\r\n    }\r\n    anchor.hideTourStep();\r\n    this.stepHide$.next(step);\r\n  }\r\n}\r\n","import { Component, HostListener } from '@angular/core';\r\n\r\nimport { TourService, TourState } from './tour.service';\r\n\r\n@Component({\r\n  selector: 'tour-hotkey-listener',\r\n  template: `<ng-content></ng-content>`\r\n})\r\nexport class TourHotkeyListenerComponent {\r\n  constructor(public tourService: TourService) {}\r\n\r\n  /**\r\n   * Configures hot keys for controlling the tour with the keyboard\r\n   */\r\n  @HostListener('window:keydown.Escape')\r\n  public onEscapeKey(): void {\r\n    if (\r\n      this.tourService.getStatus() === TourState.ON &&\r\n      this.tourService.isHotkeysEnabled()\r\n    ) {\r\n      this.tourService.end();\r\n    }\r\n  }\r\n\r\n  @HostListener('window:keydown.ArrowRight')\r\n  public onArrowRightKey(): void {\r\n    if (\r\n      this.tourService.getStatus() === TourState.ON &&\r\n      this.tourService.hasNext(this.tourService.currentStep) &&\r\n      this.tourService.isHotkeysEnabled()\r\n    ) {\r\n      this.tourService.next();\r\n    }\r\n  }\r\n\r\n  @HostListener('window:keydown.ArrowLeft')\r\n  public onArrowLeftKey(): void {\r\n    if (\r\n      this.tourService.getStatus() === TourState.ON &&\r\n      this.tourService.hasPrev(this.tourService.currentStep) &&\r\n      this.tourService.isHotkeysEnabled()\r\n    ) {\r\n      this.tourService.prev();\r\n    }\r\n  }\r\n}\r\n","export enum ElementSides {\r\n    Top,\r\n    Bottom,\r\n    All\r\n}\r\n\r\nexport function isInViewport(htlmElement: HTMLElement, sidesToCheck: ElementSides = ElementSides.All): boolean {\r\n    const viewportWidth = window.innerWidth,\r\n        viewportHeight = window.innerHeight,\r\n        boundingRectangle = htlmElement.getBoundingClientRect(),\r\n        areCornersInViewport = boundingRectangle.left >= 0 && boundingRectangle.right <= viewportWidth,\r\n        isTopInViewport = boundingRectangle.top >= 0,\r\n        isBottomInViewport = boundingRectangle.bottom <= viewportHeight;\r\n\r\n    if (sidesToCheck === ElementSides.Top) {\r\n        return isTopInViewport && areCornersInViewport;\r\n    }\r\n    if (sidesToCheck === ElementSides.Bottom) {\r\n        return isBottomInViewport && areCornersInViewport;\r\n    }\r\n\r\n    return isTopInViewport && isBottomInViewport && areCornersInViewport;\r\n}\r\n","import {ElementSides, isInViewport} from './is-in-viewport';\r\n\r\nexport class ScrollingUtil {\r\n\r\n  static ensureVisible(htmlElement: HTMLElement) {\r\n    if (!isInViewport(htmlElement, ElementSides.Bottom)) {\r\n      htmlElement.scrollIntoView(false);\r\n    } else if (!isInViewport(htmlElement, ElementSides.Top)) {\r\n      htmlElement.scrollIntoView(true);\r\n    }\r\n  }\r\n\r\n}\r\n","import {ElementRef, Injectable, RendererFactory2} from '@angular/core';\r\nimport type { Renderer2 } from '@angular/core';\r\nimport {fromEvent, interval, Subscription} from 'rxjs';\r\nimport {debounce} from 'rxjs/operators';\r\nimport {ScrollingUtil} from './scrolling-util';\r\n\r\n@Injectable()\r\nexport class TourBackdropService {\r\n  private renderer: Renderer2;\r\n  private backdropBaseElement: HTMLElement;\r\n  private backdropElement: HTMLElement;\r\n  private targetHtmlElement: HTMLElement;\r\n  windowResizeSubscription$: Subscription;\r\n\r\n  constructor(rendererFactory: RendererFactory2) {\r\n    this.renderer = rendererFactory.createRenderer(null, null);\r\n  }\r\n\r\n  public show(targetElement: ElementRef) {\r\n    const boundingRect = targetElement.nativeElement.getBoundingClientRect();\r\n\r\n    if (!this.backdropElement) {\r\n      this.createBackdrop();\r\n      this.subscribeToWindowResizeEvent();\r\n    }\r\n\r\n    this.targetHtmlElement = targetElement.nativeElement;\r\n    this.setBackdropElStyles(boundingRect);\r\n  }\r\n\r\n  private createBackdrop() {\r\n    this.createBackdropBaseElement();\r\n    this.createBackdropElement();\r\n  }\r\n\r\n  private createBackdropBaseElement() {\r\n    const baseElStyles: Partial<CSSStyleDeclaration> = {\r\n      position: 'fixed',\r\n      height: '100%',\r\n      width: '100%',\r\n      top: '0',\r\n      left: '0',\r\n      zIndex: '100'\r\n    };\r\n\r\n    this.backdropBaseElement = this.renderer.createElement('div');\r\n    this.applyStyles(baseElStyles, this.backdropBaseElement);\r\n    this.renderer.appendChild(document.body, this.backdropBaseElement);\r\n  }\r\n\r\n  private createBackdropElement() {\r\n    this.backdropElement = this.renderer.createElement('div');\r\n    this.renderer.addClass(this.backdropElement, 'ngx-ui-tour_backdrop');\r\n    this.renderer.appendChild(document.body, this.backdropElement);\r\n  }\r\n\r\n  private subscribeToWindowResizeEvent() {\r\n    const resizeObservable$ = fromEvent(window, 'resize');\r\n    this.windowResizeSubscription$ = resizeObservable$\r\n      .pipe(\r\n        debounce(() => interval(10))\r\n      )\r\n      .subscribe(\r\n        () => {\r\n          const boundingRect = this.targetHtmlElement.getBoundingClientRect();\r\n          this.setBackdropElStyles(boundingRect);\r\n          ScrollingUtil.ensureVisible(this.targetHtmlElement);\r\n        }\r\n      );\r\n  }\r\n\r\n  public close() {\r\n    if (this.backdropElement) {\r\n      this.removeBackdropElement();\r\n      this.windowResizeSubscription$.unsubscribe();\r\n    }\r\n  }\r\n\r\n  private removeBackdropElement() {\r\n    this.renderer.removeChild(document.body, this.backdropBaseElement);\r\n    this.renderer.removeChild(document.body, this.backdropElement);\r\n    this.backdropBaseElement = null;\r\n    this.backdropElement = null;\r\n  }\r\n\r\n  private setBackdropElStyles(boundingRect: DOMRect) {\r\n    const scrollX = window.scrollX ?? window.pageXOffset,\r\n      scrollY = window.scrollY ?? window.pageYOffset,\r\n      styles: Partial<CSSStyleDeclaration> = {\r\n        position: 'absolute',\r\n        width: `${boundingRect.width}px`,\r\n        height: `${boundingRect.height}px`,\r\n        top: `${boundingRect.top + scrollY}px`,\r\n        left: `${boundingRect.left + scrollX}px`,\r\n        boxShadow: '0 0 0 9999px rgba(0, 0, 0, 0.7)',\r\n        zIndex: '101'\r\n      };\r\n\r\n    this.applyStyles(styles, this.backdropElement);\r\n  }\r\n\r\n  private applyStyles(styles: Partial<CSSStyleDeclaration>, element: HTMLElement) {\r\n    for (const name of Object.keys(styles)) {\r\n      this.renderer.setStyle(element, name, styles[name]);\r\n    }\r\n  }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { TourHotkeyListenerComponent } from './tour-hotkey-listener.component';\r\nimport { TourService } from './tour.service';\r\nimport {TourBackdropService} from './tour-backdrop.service';\r\n\r\n@NgModule({\r\n    declarations: [TourHotkeyListenerComponent],\r\n    exports: [TourHotkeyListenerComponent],\r\n    imports: [CommonModule, RouterModule],\r\n})\r\nexport class TourModule {\r\n    public static forRoot(): ModuleWithProviders<TourModule> {\r\n        return {\r\n            ngModule: TourModule,\r\n            providers: [\r\n                TourService,\r\n                TourBackdropService\r\n            ],\r\n        };\r\n    }\r\n}\r\n\r\nexport { TourService, TourBackdropService };\r\n","/*\r\n * Public API Surface of ngx-ui-tour-core\r\n */\r\n\r\nexport { TourModule, TourService, TourBackdropService } from './lib/tour.module';\r\nexport { IStepOption, TourState } from './lib/tour.service';\r\nexport { TourAnchorDirective } from './lib/tour-anchor.directive';\r\nexport { TourHotkeyListenerComponent } from './lib/tour-hotkey-listener.component';\r\nexport { isInViewport, ElementSides } from './lib/is-in-viewport';\r\nexport { ScrollingUtil } from './lib/scrolling-util';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}