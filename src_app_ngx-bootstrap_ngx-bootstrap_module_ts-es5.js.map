{"version":3,"sources":["webpack:///node_modules/ngx-bootstrap/__ivy_ngcc__/component-loader/fesm2015/ngx-bootstrap-component-loader.js","webpack:///node_modules/ngx-bootstrap/__ivy_ngcc__/popover/fesm2015/ngx-bootstrap-popover.js","webpack:///node_modules/ngx-bootstrap/__ivy_ngcc__/positioning/fesm2015/ngx-bootstrap-positioning.js","webpack:///node_modules/ngx-bootstrap/__ivy_ngcc__/utils/fesm2015/ngx-bootstrap-utils.js","webpack:///dist/projects/ngx-ui-tour-ngx-bootstrap/src/lib/ngx-bootstrap-tour.service.ts","webpack:///dist/projects/ngx-ui-tour-ngx-bootstrap/src/lib/tour-step-template.service.ts","webpack:///dist/projects/ngx-ui-tour-ngx-bootstrap/src/lib/tour-anchor.directive.ts","webpack:///dist/projects/ngx-ui-tour-ngx-bootstrap/src/lib/tour-step-template.component.ts","webpack:///dist/projects/ngx-ui-tour-ngx-bootstrap/src/lib/ngx-bootstrap.module.ts","webpack:///dist/projects/ngx-ui-tour-ngx-bootstrap/src/public_api.ts","webpack:///dist/projects/ngx-ui-tour-ngx-bootstrap/src/ngx-ui-tour-ngx-bootstrap.ts","webpack:///src/app/ngx-bootstrap/docs.component.html","webpack:///src/app/ngx-bootstrap/docs.component.ts","webpack:///src/app/ngx-bootstrap/ngx-bootstrap.component.ts","webpack:///src/app/ngx-bootstrap/ngx-bootstrap.component.html","webpack:///src/app/ngx-bootstrap/ngx-bootstrap.module.ts","webpack:///src/app/ngx-bootstrap/other-route.component.ts"],"names":["BsComponentRef","ContentRef","nodes","viewRef","componentRef","ComponentLoader","_viewContainerRef","_renderer","_elementRef","_injector","_componentFactoryResolver","_ngZone","_applicationRef","_posService","onBeforeShow","EventEmitter","onShown","onBeforeHide","onHidden","_providers","_isHiding","containerDefaultSelector","_listenOpts","_globalListener","Function","prototype","_componentRef","compType","_componentFactory","resolveComponentFactory","container","opts","attachment","target","provider","push","_subscribePositioning","_innerComponent","emit","_contentRef","_getContentRef","content","context","initialState","injector","Injector","providers","parent","create","attachView","hostView","instance","Object","assign","ElementRef","nativeElement","appendChild","location","document","selectedElement","querySelector","parentElement","changeDetectorRef","markForCheck","detectChanges","id","_registerOutsideClick","deletePositionElement","componentEl","parentNode","removeChild","destroy","remove","indexOf","_removeGlobalListener","isShown","hide","show","_unsubscribePositioning","_unregisterListenersFn","listenOpts","triggers","outsideClick","outsideEsc","registerHide","toggle","listenToTriggersV2","vRef","template","_inlineViewRef","createEmbeddedView","setTimeout","registerOutsideClick","targets","registerEscClick","_zoneSubscription","subscribe","position","element","appendToBody","onStable","calcPosition","unsubscribe","TemplateRef","_viewRef","rootNodes","contentCmptFactory","modalContentInjector","createText","ComponentLoaderFactory","ɵfac","ComponentLoaderFactory_Factory","t","ɵprov","token","factory","ctorParameters","type","ComponentFactoryResolver","NgZone","PositioningService","ApplicationRef","ngDevMode","Injectable","PopoverContainerComponent_h3_1_Template","rf","ctx","ctx_r0","title","_c0","PopoverConfig","adaptivePosition","placement","delay","PopoverConfig_Factory","providedIn","args","PopoverContainerComponent","config","isBs3","PopoverContainerComponent_Factory","ɵcmp","selectors","hostAttrs","hostVars","hostBindings","PopoverContainerComponent_HostBindings","popoverId","containerClass","inputs","ngContentSelectors","decls","vars","consts","PopoverContainerComponent_Template","directives","styles","changeDetection","propDecorators","Input","Component","selector","ChangeDetectionStrategy","host","role","style","PopoverDirective","_config","cis","_positionService","_isInited","_popover","createLoader","provide","useValue","window","addEventListener","focus","err","value","_ariaDescribedby","isOpen","setAttribute","removeAttribute","popover","_delayTimeoutId","setOptions","modifiers","flip","enabled","preventOverflow","showPopover","undefined","attach","to","popoverContext","popoverTitle","setAriaDescribedBy","cancelDelayedTooltipShowing","_popoverCancelShowFn","_timer","timer","parseTriggers","forEach","trigger","listen","close","clearTimeout","dispose","PopoverDirective_Factory","ɵdir","outputs","exportAs","Renderer2","ViewContainerRef","Output","Directive","PopoverModule","ngModule","PopoverModule_Factory","ɵmod","ɵinj","imports","CommonModule","NgModule","declarations","exports","entryComponents","ngJitMode","getStyleComputedProperty","property","nodeType","ownerDocument","defaultView","css","getComputedStyle","getParentNode","nodeName","getScrollParent","body","overflow","overflowX","overflowY","test","String","isBrowser","isIE11","MSInputMethodContext","documentMode","isIE10","navigator","userAgent","isIE","version","getOffsetParent","documentElement","noOffsetParent","offsetParent","sibling","nextElementSibling","isOffsetContainer","firstElementChild","getRoot","node","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","start","end","range","createRange","setStart","setEnd","commonAncestorContainer","contains","element1root","getBordersSize","axis","sideA","sideB","parseFloat","getSize","html","computedStyle","Math","max","parseInt","getWindowSizes","height","width","getScroll","side","upperSide","scrollingElement","getClientRect","offsets","right","left","bottom","top","getBoundingClientRect","rect","scrollTop","scrollLeft","e","result","sizes","clientWidth","clientHeight","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","includeScroll","subtract","modifier","getOffsetRectRelativeToArbitraryNode","children","fixedPosition","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerWidth","innerHeight","offset","Number","isFixed","getFixedPositionOffsetParent","el","getBoundaries","padding","boundariesElement","boundaries","boundariesNode","getArea","computeAutoPlacement","refRect","allowedPositions","rects","sortedAreas","keys","map","key","area","sort","a","b","filteredAreas","filter","some","allowedPosition","computedPlacement","length","variation","split","className","replace","getOffsets","data","floor","round","getOppositePlacement","hash","matched","getOppositeVariation","getOuterSizes","x","marginBottom","y","marginRight","getReferenceOffsets","commonOffsetParent","getTargetOffsets","hostOffsets","targetRect","targetOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","isModifierEnabled","options","modifierName","isNumeric","n","isNaN","isFinite","updateContainerClass","renderer","placementAuto","setStyles","prop","unit","setStyle","arrow","arrowElement","isVertical","len","sideCapitalized","toLowerCase","altSide","opSide","arrowElementSize","placementVariation","targetMarginSide","targetBorderSide","center","targetBorderRadius","borderRadius","targetSideArrowOffset","sideValue","min","offsetsHost","flipOrder","step","index","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariation","initData","targetElement","hostElement","hostElPosition","match","matches","targetOffset","positionFixed","transformProp","targetStyles","transform","check","primary","secondary","shift","basePlacement","shiftVariation","shiftOffsets","Positioning","chainOfModifiers","reduce","modifiedData","positionService","positionElements","PositioningOptions","ngZone","rendererFactory","platformId","update$$","Subject","Map","isDisabled","isPlatformBrowser","runOutsideAngular","triggerEvent$","merge","fromEvent","passive","of","animationFrameScheduler","positionElement","_getHtmlElement","createRenderer","addPositionElement","set","next","elRef","PositioningService_Factory","PLATFORM_ID","RendererFactory2","decorators","Inject","Trigger","open","ListenOptions","DEFAULT_ALIASES","hover","aliases","trimmedTriggers","trim","parsedTriggers","triggerPair","alias","manualTriggers","isManual","Error","listenToTriggers","showFn","hideFn","toggleFn","listeners","unsubscribeFn","_registerHide","fn","useToggle","event","win","document$1","gc","performance","Event","MouseEvent","KeyboardEvent","EventTarget","History","Location","EventListener","guessedVersion","_guessBsVersion","spanEl","createElement","innerText","classList","add","setTheme","theme","__theme","LinkedList","asArray","current","head","previous","tail","currentPreviousNode","getNode","currentNextNode","createInternalArrayRepresentation","removedNode","arg","last","reverse","lastItem","outArray","OnChange","defaultValue","sufix","OnChangeHandler","propertyKey","_key","defineProperty","get","prevValue","Utils","bs","elem","view","opener","_messagesHash","_hideMsg","console","warnOnce","msg","isDevMode","warn","NgxbTourService","TourService","TourStepTemplateService","TourAnchorNgxBootstrapPopoverDirective","TourAnchorNgxBootstrapDirective","tourService","tourStepTemplate","popoverDirective","tourBackdrop","register","tourAnchor","unregister","htmlElement","isActive","prevBtnTitle","nextBtnTitle","endBtnTitle","preventScrolling","ScrollingUtil","enableBackdrop","getStatus","TourState","Host","TourBackdropService","HostBinding","TourStepTemplateComponent","tourStepTemplateService","stepTemplate","stepTemplateContent","defaultTourStepTemplate","TourHotkeyListenerComponent","ViewChild","read","ContentChild","popoverForRoot","TourNgxBootstrapModule","DocsComponent","isLoading","showIsAsyncConfig","subscribeToShowStep","startWaitingSubscription","startWaiting$","loadData","pipe","fakeData","NgxBootstrapComponent","initialize","anchorId","route","isAsync","NgxBootstrapModule","RouterModule","component","path","OtherRouteComponent"],"mappings":"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","file":"src_app_ngx-bootstrap_ngx-bootstrap_module_ts-es5.js","sourcesContent":["import { EventEmitter, Injector, ElementRef, TemplateRef, Injectable, ComponentFactoryResolver, NgZone, ApplicationRef } from '@angular/core';\nimport { listenToTriggersV2, registerOutsideClick, registerEscClick } from 'ngx-bootstrap/utils';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ngx-bootstrap/positioning';\nclass BsComponentRef {\n}\nif (false) {\n    /** @type {?} */\n    BsComponentRef.prototype.templateRef;\n    /** @type {?} */\n    BsComponentRef.prototype.viewContainer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @copyright Valor Software\n * @copyright Angular ng-bootstrap team\n */\nclass ContentRef {\n    /**\n     * @param {?} nodes\n     * @param {?=} viewRef\n     * @param {?=} componentRef\n     */\n    constructor(\n    /* tslint:disable-next-line: no-any */\n    nodes, viewRef, \n    /* tslint:disable-next-line: no-any */\n    componentRef) {\n        this.nodes = nodes;\n        this.viewRef = viewRef;\n        this.componentRef = componentRef;\n    }\n}\nif (false) {\n    /** @type {?} */\n    ContentRef.prototype.nodes;\n    /** @type {?} */\n    ContentRef.prototype.viewRef;\n    /** @type {?} */\n    ContentRef.prototype.componentRef;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nclass ComponentLoader {\n    /**\n     * Do not use this directly, it should be instanced via\n     * `ComponentLoadFactory.attach`\n     * \\@internal\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @param {?} _elementRef\n     * @param {?} _injector\n     * @param {?} _componentFactoryResolver\n     * @param {?} _ngZone\n     * @param {?} _applicationRef\n     * @param {?} _posService\n     */\n    // tslint:disable-next-line\n    constructor(_viewContainerRef, _renderer, _elementRef, _injector, _componentFactoryResolver, _ngZone, _applicationRef, _posService) {\n        this._viewContainerRef = _viewContainerRef;\n        this._renderer = _renderer;\n        this._elementRef = _elementRef;\n        this._injector = _injector;\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._ngZone = _ngZone;\n        this._applicationRef = _applicationRef;\n        this._posService = _posService;\n        this.onBeforeShow = new EventEmitter();\n        /* tslint:disable-next-line: no-any*/\n        this.onShown = new EventEmitter();\n        /* tslint:disable-next-line: no-any*/\n        this.onBeforeHide = new EventEmitter();\n        this.onHidden = new EventEmitter();\n        this._providers = [];\n        this._isHiding = false;\n        /**\n         * A selector used if container element was not found\n         */\n        this.containerDefaultSelector = 'body';\n        this._listenOpts = {};\n        this._globalListener = Function.prototype;\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        if (this._isHiding) {\n            return false;\n        }\n        return !!this._componentRef;\n    }\n    /**\n     * @param {?} compType\n     * @return {?}\n     */\n    attach(compType) {\n        this._componentFactory = this._componentFactoryResolver\n            .resolveComponentFactory(compType);\n        return this;\n    }\n    // todo: add behaviour: to target element, `body`, custom element\n    /**\n     * @param {?=} container\n     * @return {?}\n     */\n    to(container) {\n        this.container = container || this.container;\n        return this;\n    }\n    /**\n     * @param {?=} opts\n     * @return {?}\n     */\n    position(opts) {\n        this.attachment = opts.attachment || this.attachment;\n        /* tslint:disable-next-line: no-unnecessary-type-assertion */\n        this._elementRef = ((/** @type {?} */ (opts.target))) || this._elementRef;\n        return this;\n    }\n    /**\n     * @param {?} provider\n     * @return {?}\n     */\n    provide(provider) {\n        this._providers.push(provider);\n        return this;\n    }\n    // todo: appendChild to element or document.querySelector(this.container)\n    /**\n     * @param {?=} opts\n     * @return {?}\n     */\n    show(opts = {}) {\n        this._subscribePositioning();\n        this._innerComponent = null;\n        if (!this._componentRef) {\n            this.onBeforeShow.emit();\n            this._contentRef = this._getContentRef(opts.content, opts.context, opts.initialState);\n            /** @type {?} */\n            const injector = Injector.create({\n                providers: this._providers,\n                parent: this._injector\n            });\n            this._componentRef = this._componentFactory.create(injector, this._contentRef.nodes);\n            this._applicationRef.attachView(this._componentRef.hostView);\n            // this._componentRef = this._viewContainerRef\n            //   .createComponent(this._componentFactory, 0, injector, this._contentRef.nodes);\n            this.instance = this._componentRef.instance;\n            Object.assign(this._componentRef.instance, opts);\n            if (this.container instanceof ElementRef) {\n                this.container.nativeElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            if (typeof this.container === 'string' && typeof document !== 'undefined') {\n                /** @type {?} */\n                const selectedElement = document.querySelector(this.container) ||\n                    document.querySelector(this.containerDefaultSelector);\n                selectedElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            if (!this.container &&\n                this._elementRef &&\n                this._elementRef.nativeElement.parentElement) {\n                this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            // we need to manually invoke change detection since events registered\n            // via\n            // Renderer::listen() are not picked up by change detection with the\n            // OnPush strategy\n            if (this._contentRef.componentRef) {\n                this._innerComponent = this._contentRef.componentRef.instance;\n                this._contentRef.componentRef.changeDetectorRef.markForCheck();\n                this._contentRef.componentRef.changeDetectorRef.detectChanges();\n            }\n            this._componentRef.changeDetectorRef.markForCheck();\n            this._componentRef.changeDetectorRef.detectChanges();\n            this.onShown.emit(opts.id ? { id: opts.id } : this._componentRef.instance);\n        }\n        this._registerOutsideClick();\n        return this._componentRef;\n    }\n    /**\n     * @param {?=} id\n     * @return {?}\n     */\n    hide(id) {\n        if (!this._componentRef) {\n            return this;\n        }\n        this._posService.deletePositionElement(this._componentRef.location);\n        this.onBeforeHide.emit(this._componentRef.instance);\n        /** @type {?} */\n        const componentEl = this._componentRef.location.nativeElement;\n        componentEl.parentNode.removeChild(componentEl);\n        if (this._contentRef.componentRef) {\n            this._contentRef.componentRef.destroy();\n        }\n        if (this._viewContainerRef && this._contentRef.viewRef) {\n            this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));\n        }\n        if (this._contentRef.viewRef) {\n            this._contentRef.viewRef.destroy();\n        }\n        this._contentRef = null;\n        this._componentRef = null;\n        this._removeGlobalListener();\n        this.onHidden.emit(id ? { id } : null);\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    toggle() {\n        if (this.isShown) {\n            this.hide();\n            return;\n        }\n        this.show();\n    }\n    /**\n     * @return {?}\n     */\n    dispose() {\n        if (this.isShown) {\n            this.hide();\n        }\n        this._unsubscribePositioning();\n        if (this._unregisterListenersFn) {\n            this._unregisterListenersFn();\n        }\n    }\n    /**\n     * @param {?} listenOpts\n     * @return {?}\n     */\n    listen(listenOpts) {\n        this.triggers = listenOpts.triggers || this.triggers;\n        this._listenOpts.outsideClick = listenOpts.outsideClick;\n        this._listenOpts.outsideEsc = listenOpts.outsideEsc;\n        listenOpts.target = listenOpts.target || this._elementRef.nativeElement;\n        /** @type {?} */\n        const hide = (this._listenOpts.hide = (/**\n         * @return {?}\n         */\n        () => listenOpts.hide ? listenOpts.hide() : void this.hide()));\n        /** @type {?} */\n        const show = (this._listenOpts.show = (/**\n         * @param {?} registerHide\n         * @return {?}\n         */\n        (registerHide) => {\n            listenOpts.show ? listenOpts.show(registerHide) : this.show(registerHide);\n            registerHide();\n        }));\n        /** @type {?} */\n        const toggle = (/**\n         * @param {?} registerHide\n         * @return {?}\n         */\n        (registerHide) => {\n            this.isShown ? hide() : show(registerHide);\n        });\n        this._unregisterListenersFn = listenToTriggersV2(this._renderer, {\n            target: listenOpts.target,\n            triggers: listenOpts.triggers,\n            show,\n            hide,\n            toggle\n        });\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    _removeGlobalListener() {\n        if (this._globalListener) {\n            this._globalListener();\n            this._globalListener = null;\n        }\n    }\n    /**\n     * @param {?} vRef\n     * @param {?} template\n     * @return {?}\n     */\n    attachInline(vRef, \n    /* tslint:disable-next-line: no-any*/\n    template) {\n        this._inlineViewRef = vRef.createEmbeddedView(template);\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    _registerOutsideClick() {\n        if (!this._componentRef || !this._componentRef.location) {\n            return;\n        }\n        // why: should run after first event bubble\n        if (this._listenOpts.outsideClick) {\n            /** @type {?} */\n            const target = this._componentRef.location.nativeElement;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => {\n                this._globalListener = registerOutsideClick(this._renderer, {\n                    targets: [target, this._elementRef.nativeElement],\n                    outsideClick: this._listenOpts.outsideClick,\n                    hide: (/**\n                     * @return {?}\n                     */\n                    () => this._listenOpts.hide())\n                });\n            }));\n        }\n        if (this._listenOpts.outsideEsc) {\n            /** @type {?} */\n            const target = this._componentRef.location.nativeElement;\n            this._globalListener = registerEscClick(this._renderer, {\n                targets: [target, this._elementRef.nativeElement],\n                outsideEsc: this._listenOpts.outsideEsc,\n                hide: (/**\n                 * @return {?}\n                 */\n                () => this._listenOpts.hide())\n            });\n        }\n    }\n    /**\n     * @return {?}\n     */\n    getInnerComponent() {\n        return this._innerComponent;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _subscribePositioning() {\n        if (this._zoneSubscription || !this.attachment) {\n            return;\n        }\n        this.onShown.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            this._posService.position({\n                element: this._componentRef.location,\n                target: this._elementRef,\n                attachment: this.attachment,\n                appendToBody: this.container === 'body'\n            });\n        }));\n        this._zoneSubscription = this._ngZone.onStable.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            if (!this._componentRef) {\n                return;\n            }\n            this._posService.calcPosition();\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _unsubscribePositioning() {\n        if (!this._zoneSubscription) {\n            return;\n        }\n        this._zoneSubscription.unsubscribe();\n        this._zoneSubscription = null;\n    }\n    /**\n     * @private\n     * @param {?} content\n     * @param {?=} context\n     * @param {?=} initialState\n     * @return {?}\n     */\n    _getContentRef(\n    /* tslint:disable-next-line: no-any*/\n    content, \n    /* tslint:disable-next-line: no-any*/\n    context, \n    /* tslint:disable-next-line: no-any*/\n    initialState) {\n        if (!content) {\n            return new ContentRef([]);\n        }\n        if (content instanceof TemplateRef) {\n            if (this._viewContainerRef) {\n                /** @type {?} */\n                const _viewRef = this._viewContainerRef\n                    .createEmbeddedView(content, context);\n                _viewRef.markForCheck();\n                return new ContentRef([_viewRef.rootNodes], _viewRef);\n            }\n            /** @type {?} */\n            const viewRef = content.createEmbeddedView({});\n            this._applicationRef.attachView(viewRef);\n            return new ContentRef([viewRef.rootNodes], viewRef);\n        }\n        if (typeof content === 'function') {\n            /** @type {?} */\n            const contentCmptFactory = this._componentFactoryResolver.resolveComponentFactory(content);\n            /** @type {?} */\n            const modalContentInjector = Injector.create({\n                providers: this._providers,\n                parent: this._injector\n            });\n            /** @type {?} */\n            const componentRef = contentCmptFactory.create(modalContentInjector);\n            Object.assign(componentRef.instance, initialState);\n            this._applicationRef.attachView(componentRef.hostView);\n            return new ContentRef([[componentRef.location.nativeElement]], componentRef.hostView, componentRef);\n        }\n        return new ContentRef([[this._renderer.createText(`${content}`)]]);\n    }\n}\nif (false) {\n    /** @type {?} */\n    ComponentLoader.prototype.onBeforeShow;\n    /** @type {?} */\n    ComponentLoader.prototype.onShown;\n    /** @type {?} */\n    ComponentLoader.prototype.onBeforeHide;\n    /** @type {?} */\n    ComponentLoader.prototype.onHidden;\n    /** @type {?} */\n    ComponentLoader.prototype.instance;\n    /** @type {?} */\n    ComponentLoader.prototype._componentRef;\n    /** @type {?} */\n    ComponentLoader.prototype._inlineViewRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._providers;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._componentFactory;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._zoneSubscription;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._contentRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._innerComponent;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._unregisterListenersFn;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._isHiding;\n    /**\n     * Placement of a component. Accepts: \"top\", \"bottom\", \"left\", \"right\"\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.attachment;\n    /**\n     * A selector specifying the element the popover should be appended to.\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.container;\n    /**\n     * A selector used if container element was not found\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.containerDefaultSelector;\n    /**\n     * Specifies events that should trigger. Supports a space separated list of\n     * event names.\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.triggers;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._listenOpts;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._globalListener;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._viewContainerRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._elementRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._injector;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._componentFactoryResolver;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._ngZone;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._applicationRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._posService;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ComponentLoaderFactory {\n    /**\n     * @param {?} _componentFactoryResolver\n     * @param {?} _ngZone\n     * @param {?} _injector\n     * @param {?} _posService\n     * @param {?} _applicationRef\n     */\n    constructor(_componentFactoryResolver, _ngZone, _injector, _posService, _applicationRef) {\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._ngZone = _ngZone;\n        this._injector = _injector;\n        this._posService = _posService;\n        this._applicationRef = _applicationRef;\n    }\n    /**\n     *\n     * @template T\n     * @param {?} _elementRef\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @return {?}\n     */\n    createLoader(_elementRef, _viewContainerRef, _renderer) {\n        return new ComponentLoader(_viewContainerRef, _renderer, _elementRef, this._injector, this._componentFactoryResolver, this._ngZone, this._applicationRef, this._posService);\n    }\n}\nComponentLoaderFactory.ɵfac = function ComponentLoaderFactory_Factory(t) { return new (t || ComponentLoaderFactory)(ɵngcc0.ɵɵinject(ɵngcc0.ComponentFactoryResolver), ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(ɵngcc0.Injector), ɵngcc0.ɵɵinject(ɵngcc1.PositioningService), ɵngcc0.ɵɵinject(ɵngcc0.ApplicationRef)); };\nComponentLoaderFactory.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: ComponentLoaderFactory, factory: ComponentLoaderFactory.ɵfac });\n/** @nocollapse */\nComponentLoaderFactory.ctorParameters = () => [\n    { type: ComponentFactoryResolver },\n    { type: NgZone },\n    { type: Injector },\n    { type: PositioningService },\n    { type: ApplicationRef }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ComponentLoaderFactory, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.ComponentFactoryResolver }, { type: ɵngcc0.NgZone }, { type: ɵngcc0.Injector }, { type: ɵngcc1.PositioningService }, { type: ɵngcc0.ApplicationRef }]; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._componentFactoryResolver;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._ngZone;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._injector;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._posService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._applicationRef;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { BsComponentRef, ComponentLoader, ComponentLoaderFactory, ContentRef };\n\n//# sourceMappingURL=ngx-bootstrap-component-loader.js.map","import { Injectable, ɵɵdefineInjectable, Component, ChangeDetectionStrategy, Input, Directive, ElementRef, Renderer2, ViewContainerRef, Output, NgModule } from '@angular/core';\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { isBs3, parseTriggers } from 'ngx-bootstrap/utils';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\nimport { timer } from 'rxjs';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Configuration service for the Popover directive.\n * You can inject this service, typically in your root component, and customize\n * the values of its properties in order to provide default values for all the\n * popovers used in the application.\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from 'ngx-bootstrap/component-loader';\nimport * as ɵngcc3 from 'ngx-bootstrap/positioning';\n\nfunction PopoverContainerComponent_h3_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"h3\", 3);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.title);\n} }\nconst _c0 = [\"*\"];\nclass PopoverConfig {\n    constructor() {\n        /**\n         * sets disable adaptive position\n         */\n        this.adaptivePosition = true;\n        /**\n         * Placement of a popover. Accepts: \"top\", \"bottom\", \"left\", \"right\", \"auto\"\n         */\n        this.placement = 'top';\n        /**\n         * Specifies events that should trigger. Supports a space separated list of\n         * event names.\n         */\n        this.triggers = 'click';\n        this.outsideClick = false;\n        /**\n         * delay before showing the tooltip\n         */\n        this.delay = 0;\n    }\n}\nPopoverConfig.ɵfac = function PopoverConfig_Factory(t) { return new (t || PopoverConfig)(); };\n/** @nocollapse */ PopoverConfig.ɵprov = ɵɵdefineInjectable({ factory: function PopoverConfig_Factory() { return new PopoverConfig(); }, token: PopoverConfig, providedIn: \"root\" });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PopoverConfig, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return []; }, null); })();\nif (false) {\n    /**\n     * sets disable adaptive position\n     * @type {?}\n     */\n    PopoverConfig.prototype.adaptivePosition;\n    /**\n     * Placement of a popover. Accepts: \"top\", \"bottom\", \"left\", \"right\", \"auto\"\n     * @type {?}\n     */\n    PopoverConfig.prototype.placement;\n    /**\n     * Specifies events that should trigger. Supports a space separated list of\n     * event names.\n     * @type {?}\n     */\n    PopoverConfig.prototype.triggers;\n    /** @type {?} */\n    PopoverConfig.prototype.outsideClick;\n    /**\n     * A selector specifying the element the popover should be appended to.\n     * @type {?}\n     */\n    PopoverConfig.prototype.container;\n    /**\n     * delay before showing the tooltip\n     * @type {?}\n     */\n    PopoverConfig.prototype.delay;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass PopoverContainerComponent {\n    /**\n     * @param {?} config\n     */\n    constructor(config) {\n        Object.assign(this, config);\n    }\n    /**\n     * @return {?}\n     */\n    get isBs3() {\n        return isBs3();\n    }\n}\nPopoverContainerComponent.ɵfac = function PopoverContainerComponent_Factory(t) { return new (t || PopoverContainerComponent)(ɵngcc0.ɵɵdirectiveInject(PopoverConfig)); };\nPopoverContainerComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: PopoverContainerComponent, selectors: [[\"popover-container\"]], hostAttrs: [\"role\", \"tooltip\", 2, \"display\", \"block\"], hostVars: 7, hostBindings: function PopoverContainerComponent_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"id\", ctx.popoverId);\n        ɵngcc0.ɵɵclassMap(\"popover in popover-\" + ctx.placement + \" \" + \"bs-popover-\" + ctx.placement + \" \" + ctx.placement + \" \" + ctx.containerClass);\n        ɵngcc0.ɵɵclassProp(\"show\", !ctx.isBs3)(\"bs3\", ctx.isBs3);\n    } }, inputs: { placement: \"placement\", title: \"title\" }, ngContentSelectors: _c0, decls: 4, vars: 1, consts: [[1, \"popover-arrow\", \"arrow\"], [\"class\", \"popover-title popover-header\", 4, \"ngIf\"], [1, \"popover-content\", \"popover-body\"], [1, \"popover-title\", \"popover-header\"]], template: function PopoverContainerComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelement(0, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, PopoverContainerComponent_h3_1_Template, 2, 1, \"h3\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵprojection(3);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.title);\n    } }, directives: [ɵngcc1.NgIf], styles: [\".bs3.popover-top[_nghost-%COMP%] {\\n      margin-bottom: 10px;\\n    }\\n    .bs3.popover.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%] {\\n      margin-left: -2px;\\n    }\\n    .bs3.popover.top[_nghost-%COMP%] {\\n      margin-bottom: 10px;\\n    }\\n    .popover.bottom[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%] {\\n      margin-left: -4px;\\n    }\\n    .bs3.bs-popover-left[_nghost-%COMP%] {\\n      margin-right: .5rem;\\n    }\\n    .bs3.bs-popover-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-popover-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{\\n      margin: .3rem 0;\\n    }\"], changeDetection: 0 });\n/** @nocollapse */\nPopoverContainerComponent.ctorParameters = () => [\n    { type: PopoverConfig }\n];\nPopoverContainerComponent.propDecorators = {\n    placement: [{ type: Input }],\n    title: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PopoverContainerComponent, [{\n        type: Component,\n        args: [{\n                selector: 'popover-container',\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                // tslint:disable-next-line\n                host: {\n                    '[attr.id]': 'popoverId',\n                    '[class]': '\"popover in popover-\" + placement + \" \" + \"bs-popover-\" + placement + \" \" + placement + \" \" + containerClass',\n                    '[class.show]': '!isBs3',\n                    '[class.bs3]': 'isBs3',\n                    role: 'tooltip',\n                    style: 'display:block;'\n                },\n                template: \"<div class=\\\"popover-arrow arrow\\\"></div>\\n<h3 class=\\\"popover-title popover-header\\\" *ngIf=\\\"title\\\">{{ title }}</h3>\\n<div class=\\\"popover-content popover-body\\\">\\n  <ng-content></ng-content>\\n</div>\\n\",\n                styles: [`\n    :host.bs3.popover-top {\n      margin-bottom: 10px;\n    }\n    :host.bs3.popover.top>.arrow {\n      margin-left: -2px;\n    }\n    :host.bs3.popover.top {\n      margin-bottom: 10px;\n    }\n    :host.popover.bottom>.arrow {\n      margin-left: -4px;\n    }\n    :host.bs3.bs-popover-left {\n      margin-right: .5rem;\n    }\n    :host.bs3.bs-popover-right .arrow, :host.bs3.bs-popover-left .arrow{\n      margin: .3rem 0;\n    }\n    `]\n            }]\n    }], function () { return [{ type: PopoverConfig }]; }, { placement: [{\n            type: Input\n        }], title: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    PopoverContainerComponent.prototype.placement;\n    /** @type {?} */\n    PopoverContainerComponent.prototype.title;\n    /** @type {?} */\n    PopoverContainerComponent.prototype.containerClass;\n    /** @type {?} */\n    PopoverContainerComponent.prototype.popoverId;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nlet id = 0;\n/**\n * A lightweight, extensible directive for fancy popover creation.\n */\nclass PopoverDirective {\n    /**\n     * @param {?} _config\n     * @param {?} _elementRef\n     * @param {?} _renderer\n     * @param {?} _viewContainerRef\n     * @param {?} cis\n     * @param {?} _positionService\n     */\n    constructor(_config, _elementRef, _renderer, _viewContainerRef, cis, _positionService) {\n        this._elementRef = _elementRef;\n        this._renderer = _renderer;\n        this._positionService = _positionService;\n        /**\n         * unique id popover - use for aria-describedby\n         */\n        this.popoverId = id++;\n        /**\n         * Close popover on outside click\n         */\n        this.outsideClick = false;\n        /**\n         * Css class for popover container\n         */\n        this.containerClass = '';\n        this._isInited = false;\n        this._popover = cis\n            .createLoader(_elementRef, _viewContainerRef, _renderer)\n            .provide({ provide: PopoverConfig, useValue: _config });\n        Object.assign(this, _config);\n        this.onShown = this._popover.onShown;\n        this.onHidden = this._popover.onHidden;\n        // fix: no focus on button on Mac OS #1795\n        if (typeof window !== 'undefined') {\n            _elementRef.nativeElement.addEventListener('click', (/**\n             * @return {?}\n             */\n            function () {\n                try {\n                    _elementRef.nativeElement.focus();\n                }\n                catch (err) {\n                    return;\n                }\n            }));\n        }\n    }\n    /**\n     * Returns whether or not the popover is currently being shown\n     * @return {?}\n     */\n    get isOpen() {\n        return this._popover.isShown;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set isOpen(value) {\n        if (value) {\n            this.show();\n        }\n        else {\n            this.hide();\n        }\n    }\n    /**\n     * Set attribute aria-describedBy for element directive and\n     * set id for the popover\n     * @return {?}\n     */\n    setAriaDescribedBy() {\n        this._ariaDescribedby = this.isOpen ? `ngx-popover-${this.popoverId}` : null;\n        if (this._ariaDescribedby) {\n            this._popover.instance.popoverId = this._ariaDescribedby;\n            this._renderer.setAttribute(this._elementRef.nativeElement, 'aria-describedby', this._ariaDescribedby);\n        }\n        else {\n            this._renderer.removeAttribute(this._elementRef.nativeElement, 'aria-describedby');\n        }\n    }\n    /**\n     * Opens an element’s popover. This is considered a “manual” triggering of\n     * the popover.\n     * @return {?}\n     */\n    show() {\n        if (this._popover.isShown || !this.popover || this._delayTimeoutId) {\n            return;\n        }\n        this._positionService.setOptions({\n            modifiers: {\n                flip: {\n                    enabled: this.adaptivePosition\n                },\n                preventOverflow: {\n                    enabled: this.adaptivePosition\n                }\n            }\n        });\n        /** @type {?} */\n        const showPopover = (/**\n         * @return {?}\n         */\n        () => {\n            if (this._delayTimeoutId) {\n                this._delayTimeoutId = undefined;\n            }\n            this._popover\n                .attach(PopoverContainerComponent)\n                .to(this.container)\n                .position({ attachment: this.placement })\n                .show({\n                content: this.popover,\n                context: this.popoverContext,\n                placement: this.placement,\n                title: this.popoverTitle,\n                containerClass: this.containerClass\n            });\n            if (!this.adaptivePosition) {\n                this._positionService.calcPosition();\n                this._positionService.deletePositionElement(this._popover._componentRef.location);\n            }\n            this.isOpen = true;\n            this.setAriaDescribedBy();\n        });\n        /** @type {?} */\n        const cancelDelayedTooltipShowing = (/**\n         * @return {?}\n         */\n        () => {\n            if (this._popoverCancelShowFn) {\n                this._popoverCancelShowFn();\n            }\n        });\n        if (this.delay) {\n            /** @type {?} */\n            const _timer = timer(this.delay).subscribe((/**\n             * @return {?}\n             */\n            () => {\n                showPopover();\n                cancelDelayedTooltipShowing();\n            }));\n            if (this.triggers) {\n                parseTriggers(this.triggers)\n                    .forEach((/**\n                 * @param {?} trigger\n                 * @return {?}\n                 */\n                (trigger) => {\n                    this._popoverCancelShowFn = this._renderer.listen(this._elementRef.nativeElement, trigger.close, (/**\n                     * @return {?}\n                     */\n                    () => {\n                        _timer.unsubscribe();\n                        cancelDelayedTooltipShowing();\n                    }));\n                }));\n            }\n        }\n        else {\n            showPopover();\n        }\n    }\n    /**\n     * Closes an element’s popover. This is considered a “manual” triggering of\n     * the popover.\n     * @return {?}\n     */\n    hide() {\n        if (this._delayTimeoutId) {\n            clearTimeout(this._delayTimeoutId);\n            this._delayTimeoutId = undefined;\n        }\n        if (this.isOpen) {\n            this._popover.hide();\n            this.setAriaDescribedBy();\n            this.isOpen = false;\n        }\n    }\n    /**\n     * Toggles an element’s popover. This is considered a “manual” triggering of\n     * the popover.\n     * @return {?}\n     */\n    toggle() {\n        if (this.isOpen) {\n            return this.hide();\n        }\n        this.show();\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        // fix: seems there are an issue with `routerLinkActive`\n        // which result in duplicated call ngOnInit without call to ngOnDestroy\n        // read more: https://github.com/valor-software/ngx-bootstrap/issues/1885\n        if (this._isInited) {\n            return;\n        }\n        this._isInited = true;\n        this._popover.listen({\n            triggers: this.triggers,\n            outsideClick: this.outsideClick,\n            show: (/**\n             * @return {?}\n             */\n            () => this.show()),\n            hide: (/**\n             * @return {?}\n             */\n            () => this.hide())\n        });\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this._popover.dispose();\n    }\n}\nPopoverDirective.ɵfac = function PopoverDirective_Factory(t) { return new (t || PopoverDirective)(ɵngcc0.ɵɵdirectiveInject(PopoverConfig), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.ComponentLoaderFactory), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.PositioningService)); };\nPopoverDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: PopoverDirective, selectors: [[\"\", \"popover\", \"\"]], inputs: { outsideClick: \"outsideClick\", containerClass: \"containerClass\", isOpen: \"isOpen\", adaptivePosition: \"adaptivePosition\", popover: \"popover\", popoverContext: \"popoverContext\", popoverTitle: \"popoverTitle\", placement: \"placement\", triggers: \"triggers\", container: \"container\", delay: \"delay\" }, outputs: { onShown: \"onShown\", onHidden: \"onHidden\" }, exportAs: [\"bs-popover\"] });\n/** @nocollapse */\nPopoverDirective.ctorParameters = () => [\n    { type: PopoverConfig },\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: ViewContainerRef },\n    { type: ComponentLoaderFactory },\n    { type: PositioningService }\n];\nPopoverDirective.propDecorators = {\n    adaptivePosition: [{ type: Input }],\n    popover: [{ type: Input }],\n    popoverContext: [{ type: Input }],\n    popoverTitle: [{ type: Input }],\n    placement: [{ type: Input }],\n    outsideClick: [{ type: Input }],\n    triggers: [{ type: Input }],\n    container: [{ type: Input }],\n    containerClass: [{ type: Input }],\n    isOpen: [{ type: Input }],\n    delay: [{ type: Input }],\n    onShown: [{ type: Output }],\n    onHidden: [{ type: Output }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PopoverDirective, [{\n        type: Directive,\n        args: [{ selector: '[popover]', exportAs: 'bs-popover' }]\n    }], function () { return [{ type: PopoverConfig }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ViewContainerRef }, { type: ɵngcc2.ComponentLoaderFactory }, { type: ɵngcc3.PositioningService }]; }, { outsideClick: [{\n            type: Input\n        }], containerClass: [{\n            type: Input\n        }], onShown: [{\n            type: Output\n        }], onHidden: [{\n            type: Output\n        }], isOpen: [{\n            type: Input\n        }], adaptivePosition: [{\n            type: Input\n        }], popover: [{\n            type: Input\n        }], popoverContext: [{\n            type: Input\n        }], popoverTitle: [{\n            type: Input\n        }], placement: [{\n            type: Input\n        }], triggers: [{\n            type: Input\n        }], container: [{\n            type: Input\n        }], delay: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /**\n     * unique id popover - use for aria-describedby\n     * @type {?}\n     */\n    PopoverDirective.prototype.popoverId;\n    /**\n     * sets disable adaptive position\n     * @type {?}\n     */\n    PopoverDirective.prototype.adaptivePosition;\n    /**\n     * Content to be displayed as popover.\n     * @type {?}\n     */\n    PopoverDirective.prototype.popover;\n    /**\n     * Context to be used if popover is a template.\n     * @type {?}\n     */\n    PopoverDirective.prototype.popoverContext;\n    /**\n     * Title of a popover.\n     * @type {?}\n     */\n    PopoverDirective.prototype.popoverTitle;\n    /**\n     * Placement of a popover. Accepts: \"top\", \"bottom\", \"left\", \"right\"\n     * @type {?}\n     */\n    PopoverDirective.prototype.placement;\n    /**\n     * Close popover on outside click\n     * @type {?}\n     */\n    PopoverDirective.prototype.outsideClick;\n    /**\n     * Specifies events that should trigger. Supports a space separated list of\n     * event names.\n     * @type {?}\n     */\n    PopoverDirective.prototype.triggers;\n    /**\n     * A selector specifying the element the popover should be appended to.\n     * @type {?}\n     */\n    PopoverDirective.prototype.container;\n    /**\n     * Css class for popover container\n     * @type {?}\n     */\n    PopoverDirective.prototype.containerClass;\n    /**\n     * Delay before showing the tooltip\n     * @type {?}\n     */\n    PopoverDirective.prototype.delay;\n    /**\n     * Emits an event when the popover is shown\n     * @type {?}\n     */\n    PopoverDirective.prototype.onShown;\n    /**\n     * Emits an event when the popover is hidden\n     * @type {?}\n     */\n    PopoverDirective.prototype.onHidden;\n    /**\n     * @type {?}\n     * @protected\n     */\n    PopoverDirective.prototype._popoverCancelShowFn;\n    /**\n     * @type {?}\n     * @protected\n     */\n    PopoverDirective.prototype._delayTimeoutId;\n    /**\n     * @type {?}\n     * @private\n     */\n    PopoverDirective.prototype._popover;\n    /**\n     * @type {?}\n     * @private\n     */\n    PopoverDirective.prototype._isInited;\n    /**\n     * @type {?}\n     * @private\n     */\n    PopoverDirective.prototype._ariaDescribedby;\n    /**\n     * @type {?}\n     * @private\n     */\n    PopoverDirective.prototype._elementRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    PopoverDirective.prototype._renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    PopoverDirective.prototype._positionService;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass PopoverModule {\n    /**\n     * @return {?}\n     */\n    static forRoot() {\n        return {\n            ngModule: PopoverModule,\n            providers: [ComponentLoaderFactory, PositioningService]\n        };\n    }\n}\nPopoverModule.ɵfac = function PopoverModule_Factory(t) { return new (t || PopoverModule)(); };\nPopoverModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: PopoverModule });\nPopoverModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[CommonModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PopoverModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule],\n                declarations: [PopoverDirective, PopoverContainerComponent],\n                exports: [PopoverDirective],\n                entryComponents: [PopoverContainerComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(PopoverModule, { declarations: function () { return [PopoverDirective, PopoverContainerComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [PopoverDirective]; } }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { PopoverConfig, PopoverContainerComponent, PopoverDirective, PopoverModule };\n\n//# sourceMappingURL=ngx-bootstrap-popover.js.map","import { Injectable, NgZone, RendererFactory2, Inject, PLATFORM_ID, ElementRef } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Subject, merge, fromEvent, of, animationFrameScheduler } from 'rxjs';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get CSS computed property of the given element\n * @param {?} element\n * @param {?=} property\n * @return {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nfunction getStyleComputedProperty(element, property) {\n    if (element.nodeType !== 1) {\n        return [];\n    }\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    const window = element.ownerDocument.defaultView;\n    /** @type {?} */\n    const css = window.getComputedStyle(element, null);\n    return property ? css[(/** @type {?} */ (property))] : css;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Returns the parentNode or the host of the element\n * @param {?} element\n * @return {?}\n */\nfunction getParentNode(element) {\n    if (element.nodeName === 'HTML') {\n        return element;\n    }\n    return element.parentNode || element.host;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getScrollParent(element) {\n    // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n    if (!element) {\n        return document.body;\n    }\n    switch (element.nodeName) {\n        case 'HTML':\n        case 'BODY':\n            return element.ownerDocument.body;\n        case '#document':\n            return element.body;\n        default:\n    }\n    // Firefox want us to check `-x` and `-y` variations as well\n    const { overflow, overflowX, overflowY } = getStyleComputedProperty(element);\n    if (/(auto|scroll|overlay)/.test(String(overflow) + String(overflowY) + String(overflowX))) {\n        return element;\n    }\n    return getScrollParent(getParentNode(element));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst isIE11 = isBrowser && !!(((/** @type {?} */ (window))).MSInputMethodContext && ((/** @type {?} */ (document))).documentMode);\n/** @type {?} */\nconst isIE10 = isBrowser && !!(((/** @type {?} */ (window))).MSInputMethodContext && /MSIE 10/.test(((/** @type {?} */ (navigator))).userAgent));\n/**\n * @param {?=} version\n * @return {?}\n */\nfunction isIE(version) {\n    if (version === 11) {\n        return isIE11;\n    }\n    if (version === 10) {\n        return isIE10;\n    }\n    return isIE11 || isIE10;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getOffsetParent(element) {\n    if (!element) {\n        return document.documentElement;\n    }\n    /** @type {?} */\n    const noOffsetParent = isIE(10) ? document.body : null;\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    let offsetParent = element.offsetParent || null;\n    // Skip hidden elements which don't have an offsetParent\n    /** @type {?} */\n    let sibling;\n    while (offsetParent === noOffsetParent\n        && element.nextElementSibling\n        && sibling !== element.nextElementSibling) {\n        sibling = element.nextElementSibling;\n        offsetParent = sibling.offsetParent;\n    }\n    /** @type {?} */\n    const nodeName = offsetParent && offsetParent.nodeName;\n    if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n        return sibling ? sibling.ownerDocument.documentElement : document.documentElement;\n    }\n    // .offsetParent will return the closest TH, TD or TABLE in case\n    if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 &&\n        getStyleComputedProperty(offsetParent, 'position') === 'static') {\n        return getOffsetParent(offsetParent);\n    }\n    return offsetParent;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction isOffsetContainer(element) {\n    const { nodeName } = element;\n    if (nodeName === 'BODY') {\n        return false;\n    }\n    return (nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @param {?} node\n * @return {?}\n */\nfunction getRoot(node) {\n    if (node.parentNode !== null) {\n        return getRoot(node.parentNode);\n    }\n    return node;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element1\n * @param {?} element2\n * @return {?}\n */\nfunction findCommonOffsetParent(element1, element2) {\n    // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n    if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n        return document.documentElement;\n    }\n    // Here we make sure to give as \"start\" the element that comes first in the DOM\n    /* tslint:disable-next-line: no-bitwise */\n    /** @type {?} */\n    const order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n    /** @type {?} */\n    const start = order ? element1 : element2;\n    /** @type {?} */\n    const end = order ? element2 : element1;\n    // Get common ancestor container\n    /** @type {?} */\n    const range = document.createRange();\n    range.setStart(start, 0);\n    range.setEnd(end, 0);\n    const { commonAncestorContainer } = range;\n    // Both nodes are inside #document\n    if ((element1 !== commonAncestorContainer &&\n        element2 !== commonAncestorContainer) ||\n        start.contains(end)) {\n        if (isOffsetContainer(commonAncestorContainer)) {\n            return commonAncestorContainer;\n        }\n        return getOffsetParent(commonAncestorContainer);\n    }\n    // one of the nodes is inside shadowDOM, find which one\n    /** @type {?} */\n    const element1root = getRoot(element1);\n    if (element1root.host) {\n        return findCommonOffsetParent(element1root.host, element2);\n    }\n    else {\n        return findCommonOffsetParent(element1, getRoot(element2).host);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Helper to detect borders of a given element\n */\n/**\n * @param {?} styles\n * @param {?} axis\n * @return {?}\n */\nfunction getBordersSize(styles, axis) {\n    /** @type {?} */\n    const sideA = axis === 'x' ? 'Left' : 'Top';\n    /** @type {?} */\n    const sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n    return (parseFloat(styles[(/** @type {?} */ (`border${sideA}Width`))]) +\n        parseFloat(styles[(/** @type {?} */ (`border${sideB}Width`))]));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} axis\n * @param {?} body\n * @param {?} html\n * @param {?} computedStyle\n * @return {?}\n */\nfunction getSize(axis, body, html, computedStyle) {\n    return Math.max(((/** @type {?} */ (body)))[`offset${axis}`], ((/** @type {?} */ (body)))[`scroll${axis}`], ((/** @type {?} */ (html)))[`client${axis}`], ((/** @type {?} */ (html)))[`offset${axis}`], ((/** @type {?} */ (html)))[`scroll${axis}`], isIE(10)\n        ? (parseInt(((/** @type {?} */ (html)))[`offset${axis}`], 10) +\n            parseInt(computedStyle[(/** @type {?} */ (`margin${axis === 'Height' ? 'Top' : 'Left'}`))], 10) +\n            parseInt(computedStyle[(/** @type {?} */ (`margin${axis === 'Height' ? 'Bottom' : 'Right'}`))], 10))\n        : 0);\n}\n/**\n * @param {?} document\n * @return {?}\n */\nfunction getWindowSizes(document) {\n    /** @type {?} */\n    const body = document.body;\n    /** @type {?} */\n    const html = document.documentElement;\n    /** @type {?} */\n    const computedStyle = isIE(10) && getComputedStyle(html);\n    return {\n        height: getSize('Height', body, html, computedStyle),\n        width: getSize('Width', body, html, computedStyle)\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @param {?} element\n * @param {?=} side\n * @return {?}\n */\nfunction getScroll(element, side = 'top') {\n    /** @type {?} */\n    const upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n    /** @type {?} */\n    const nodeName = element.nodeName;\n    if (nodeName === 'BODY' || nodeName === 'HTML') {\n        /** @type {?} */\n        const html = element.ownerDocument.documentElement;\n        /** @type {?} */\n        const scrollingElement = element.ownerDocument.scrollingElement || html;\n        return scrollingElement[upperSide];\n    }\n    return element[upperSide];\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} offsets\n * @return {?}\n */\nfunction getClientRect(offsets) {\n    return Object.assign(Object.assign({}, offsets), { right: offsets.left + offsets.width, bottom: offsets.top + offsets.height });\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getBoundingClientRect(element) {\n    /** @type {?} */\n    let rect = {};\n    // IE10 10 FIX: Please, don't ask, the element isn't\n    // considered in DOM in some circumstances...\n    // This isn't reproducible in IE10 compatibility mode of IE11\n    try {\n        if (isIE(10)) {\n            rect = element.getBoundingClientRect();\n            /** @type {?} */\n            const scrollTop = getScroll(element, 'top');\n            /** @type {?} */\n            const scrollLeft = getScroll(element, 'left');\n            rect.top += scrollTop;\n            rect.left += scrollLeft;\n            rect.bottom += scrollTop;\n            rect.right += scrollLeft;\n        }\n        else {\n            rect = element.getBoundingClientRect();\n        }\n    }\n    catch (e) {\n        return undefined;\n    }\n    /** @type {?} */\n    const result = {\n        left: rect.left,\n        top: rect.top,\n        width: rect.right - rect.left,\n        height: rect.bottom - rect.top\n    };\n    // subtract scrollbar size from sizes\n    /** @type {?} */\n    const sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n    /** @type {?} */\n    const width = sizes.width || element.clientWidth || result.right - result.left;\n    /** @type {?} */\n    const height = sizes.height || element.clientHeight || result.bottom - result.top;\n    /** @type {?} */\n    let horizScrollbar = element.offsetWidth - width;\n    /** @type {?} */\n    let vertScrollbar = element.offsetHeight - height;\n    // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n    // we make this check conditional for performance reasons\n    if (horizScrollbar || vertScrollbar) {\n        /** @type {?} */\n        const styles = getStyleComputedProperty(element);\n        horizScrollbar -= getBordersSize(styles, 'x');\n        vertScrollbar -= getBordersSize(styles, 'y');\n        result.width -= horizScrollbar;\n        result.height -= vertScrollbar;\n    }\n    return getClientRect(result);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} rect\n * @param {?} element\n * @param {?=} subtract\n * @return {?}\n */\nfunction includeScroll(rect, element, subtract = false) {\n    /** @type {?} */\n    const scrollTop = getScroll(element, 'top');\n    /** @type {?} */\n    const scrollLeft = getScroll(element, 'left');\n    /** @type {?} */\n    const modifier = subtract ? -1 : 1;\n    rect.top += scrollTop * modifier;\n    rect.bottom += scrollTop * modifier;\n    rect.left += scrollLeft * modifier;\n    rect.right += scrollLeft * modifier;\n    return rect;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} children\n * @param {?} parent\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getOffsetRectRelativeToArbitraryNode(children, parent, fixedPosition = false) {\n    /** @type {?} */\n    const isIE10 = isIE(10);\n    /** @type {?} */\n    const isHTML = parent.nodeName === 'HTML';\n    /** @type {?} */\n    const childrenRect = getBoundingClientRect(children);\n    /** @type {?} */\n    const parentRect = getBoundingClientRect(parent);\n    /** @type {?} */\n    const scrollParent = getScrollParent(children);\n    /** @type {?} */\n    const styles = getStyleComputedProperty(parent);\n    /** @type {?} */\n    const borderTopWidth = parseFloat(styles.borderTopWidth);\n    /** @type {?} */\n    const borderLeftWidth = parseFloat(styles.borderLeftWidth);\n    // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n    if (fixedPosition && isHTML) {\n        parentRect.top = Math.max(parentRect.top, 0);\n        parentRect.left = Math.max(parentRect.left, 0);\n    }\n    /** @type {?} */\n    let offsets = getClientRect({\n        top: childrenRect.top - parentRect.top - borderTopWidth,\n        left: childrenRect.left - parentRect.left - borderLeftWidth,\n        width: childrenRect.width,\n        height: childrenRect.height\n    });\n    offsets.marginTop = 0;\n    offsets.marginLeft = 0;\n    // Subtract margins of documentElement in case it's being used as parent\n    // we do this only on HTML because it's the only element that behaves\n    // differently when margins are applied to it. The margins are included in\n    // the box of the documentElement, in the other cases not.\n    if (!isIE10 && isHTML) {\n        /** @type {?} */\n        const marginTop = parseFloat(styles.marginTop);\n        /** @type {?} */\n        const marginLeft = parseFloat(styles.marginLeft);\n        offsets.top -= borderTopWidth - marginTop;\n        offsets.bottom -= borderTopWidth - marginTop;\n        offsets.left -= borderLeftWidth - marginLeft;\n        offsets.right -= borderLeftWidth - marginLeft;\n        // Attach marginTop and marginLeft because in some circumstances we may need them\n        offsets.marginTop = marginTop;\n        offsets.marginLeft = marginLeft;\n    }\n    if (isIE10 && !fixedPosition\n        ? parent.contains(scrollParent)\n        : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n        offsets = includeScroll(offsets, parent);\n    }\n    return offsets;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @param {?=} excludeScroll\n * @return {?}\n */\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element, excludeScroll = false) {\n    /** @type {?} */\n    const html = element.ownerDocument.documentElement;\n    /** @type {?} */\n    const relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n    /** @type {?} */\n    const width = Math.max(html.clientWidth, window.innerWidth || 0);\n    /** @type {?} */\n    const height = Math.max(html.clientHeight, window.innerHeight || 0);\n    /** @type {?} */\n    const scrollTop = !excludeScroll ? getScroll(html) : 0;\n    /** @type {?} */\n    const scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n    /** @type {?} */\n    const offset = {\n        top: scrollTop - Number(relativeOffset.top) + Number(relativeOffset.marginTop),\n        left: scrollLeft - Number(relativeOffset.left) + Number(relativeOffset.marginLeft),\n        width,\n        height\n    };\n    return getClientRect(offset);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction isFixed(element) {\n    /** @type {?} */\n    const nodeName = element.nodeName;\n    if (nodeName === 'BODY' || nodeName === 'HTML') {\n        return false;\n    }\n    if (getStyleComputedProperty(element, 'position') === 'fixed') {\n        return true;\n    }\n    return isFixed(getParentNode(element));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getFixedPositionOffsetParent(element) {\n    // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n    if (!element || !element.parentElement || isIE()) {\n        return document.documentElement;\n    }\n    /** @type {?} */\n    let el = element.parentElement;\n    while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n        el = el.parentElement;\n    }\n    return el || document.documentElement;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} host\n * @param {?=} padding\n * @param {?=} boundariesElement\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getBoundaries(target, host, padding = 0, boundariesElement, fixedPosition = false) {\n    // NOTE: 1 DOM access here\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    let boundaries = { top: 0, left: 0 };\n    /** @type {?} */\n    const offsetParent = fixedPosition ? getFixedPositionOffsetParent(target) : findCommonOffsetParent(target, host);\n    // Handle viewport case\n    if (boundariesElement === 'viewport') {\n        boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n    }\n    else {\n        // Handle other cases based on DOM element used as boundaries\n        /** @type {?} */\n        let boundariesNode;\n        if (boundariesElement === 'scrollParent') {\n            boundariesNode = getScrollParent(getParentNode(host));\n            if (boundariesNode.nodeName === 'BODY') {\n                boundariesNode = target.ownerDocument.documentElement;\n            }\n        }\n        else if (boundariesElement === 'window') {\n            boundariesNode = target.ownerDocument.documentElement;\n        }\n        else {\n            boundariesNode = boundariesElement;\n        }\n        /** @type {?} */\n        const offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n        // In case of HTML, we need a different computation\n        if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n            const { height, width } = getWindowSizes(target.ownerDocument);\n            boundaries.top += offsets.top - offsets.marginTop;\n            boundaries.bottom = Number(height) + Number(offsets.top);\n            boundaries.left += offsets.left - offsets.marginLeft;\n            boundaries.right = Number(width) + Number(offsets.left);\n        }\n        else {\n            // for all the other DOM elements, this one is good\n            boundaries = offsets;\n        }\n    }\n    // Add paddings\n    boundaries.left += padding;\n    boundaries.top += padding;\n    boundaries.right -= padding;\n    boundaries.bottom -= padding;\n    return boundaries;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getArea({ width, height }) {\n    return width * height;\n}\n/**\n * @param {?} placement\n * @param {?} refRect\n * @param {?} target\n * @param {?} host\n * @param {?=} allowedPositions\n * @param {?=} boundariesElement\n * @param {?=} padding\n * @return {?}\n */\nfunction computeAutoPlacement(placement, refRect, target, host, allowedPositions = ['top', 'bottom', 'right', 'left'], boundariesElement = 'viewport', padding = 0) {\n    if (placement.indexOf('auto') === -1) {\n        return placement;\n    }\n    /** @type {?} */\n    const boundaries = getBoundaries(target, host, padding, boundariesElement);\n    /** @type {?} */\n    const rects = {\n        top: {\n            width: boundaries.width,\n            height: refRect.top - boundaries.top\n        },\n        right: {\n            width: boundaries.right - refRect.right,\n            height: boundaries.height\n        },\n        bottom: {\n            width: boundaries.width,\n            height: boundaries.bottom - refRect.bottom\n        },\n        left: {\n            width: refRect.left - boundaries.left,\n            height: boundaries.height\n        }\n    };\n    /** @type {?} */\n    const sortedAreas = Object.keys(rects)\n        .map((/**\n     * @param {?} key\n     * @return {?}\n     */\n    key => (Object.assign(Object.assign({ key }, rects[key]), { area: getArea(rects[key]) }))))\n        .sort((/**\n     * @param {?} a\n     * @param {?} b\n     * @return {?}\n     */\n    (a, b) => b.area - a.area));\n    /** @type {?} */\n    let filteredAreas = sortedAreas.filter((/**\n     * @param {?} __0\n     * @return {?}\n     */\n    ({ width, height }) => {\n        return width >= target.clientWidth\n            && height >= target.clientHeight;\n    }));\n    filteredAreas = filteredAreas.filter((/**\n     * @param {?} position\n     * @return {?}\n     */\n    (position) => {\n        return allowedPositions\n            .some((/**\n         * @param {?} allowedPosition\n         * @return {?}\n         */\n        (allowedPosition) => {\n            return allowedPosition === position.key;\n        }));\n    }));\n    /** @type {?} */\n    const computedPlacement = filteredAreas.length > 0\n        ? filteredAreas[0].key\n        : sortedAreas[0].key;\n    /** @type {?} */\n    const variation = placement.split(' ')[1];\n    // for tooltip on auto position\n    target.className = target.className.replace(/bs-tooltip-auto/g, `bs-tooltip-${computedPlacement}`);\n    return computedPlacement + (variation ? `-${variation}` : '');\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction getOffsets(data) {\n    return {\n        width: data.offsets.target.width,\n        height: data.offsets.target.height,\n        left: Math.floor(data.offsets.target.left),\n        top: Math.round(data.offsets.target.top),\n        bottom: Math.round(data.offsets.target.bottom),\n        right: Math.floor(data.offsets.target.right)\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the opposite placement of the given one\n * @param {?} placement\n * @return {?}\n */\nfunction getOppositePlacement(placement) {\n    /** @type {?} */\n    const hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n    return placement.replace(/left|right|bottom|top/g, (/**\n     * @param {?} matched\n     * @return {?}\n     */\n    matched => ((/** @type {?} */ (hash)))[matched]));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the opposite placement variation of the given one\n * @param {?} variation\n * @return {?}\n */\nfunction getOppositeVariation(variation) {\n    if (variation === 'right') {\n        return 'left';\n    }\n    else if (variation === 'left') {\n        return 'right';\n    }\n    return variation;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @param {?} element\n * @return {?}\n */\nfunction getOuterSizes(element) {\n    /** @type {?} */\n    const window = element.ownerDocument.defaultView;\n    /** @type {?} */\n    const styles = window.getComputedStyle(element);\n    /** @type {?} */\n    const x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n    /** @type {?} */\n    const y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n    return {\n        width: Number(element.offsetWidth) + y,\n        height: Number(element.offsetHeight) + x\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} host\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getReferenceOffsets(target, host, fixedPosition = null) {\n    /** @type {?} */\n    const commonOffsetParent = fixedPosition\n        ? getFixedPositionOffsetParent(target)\n        : findCommonOffsetParent(target, host);\n    return getOffsetRectRelativeToArbitraryNode(host, commonOffsetParent, fixedPosition);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} hostOffsets\n * @param {?} position\n * @return {?}\n */\nfunction getTargetOffsets(target, hostOffsets, position) {\n    /** @type {?} */\n    const placement = position.split(' ')[0];\n    // Get target node sizes\n    /** @type {?} */\n    const targetRect = getOuterSizes(target);\n    // Add position, width and height to our offsets object\n    /** @type {?} */\n    const targetOffsets = {\n        width: targetRect.width,\n        height: targetRect.height\n    };\n    // depending by the target placement we have to compute its offsets slightly differently\n    /** @type {?} */\n    const isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n    /** @type {?} */\n    const mainSide = isHoriz ? 'top' : 'left';\n    /** @type {?} */\n    const secondarySide = isHoriz ? 'left' : 'top';\n    /** @type {?} */\n    const measurement = isHoriz ? 'height' : 'width';\n    /** @type {?} */\n    const secondaryMeasurement = !isHoriz ? 'height' : 'width';\n    ((/** @type {?} */ (targetOffsets)))[mainSide] =\n        hostOffsets[mainSide] +\n            hostOffsets[measurement] / 2 -\n            targetRect[measurement] / 2;\n    ((/** @type {?} */ (targetOffsets)))[secondarySide] = placement === secondarySide\n        ? hostOffsets[secondarySide] - targetRect[secondaryMeasurement]\n        : ((/** @type {?} */ (hostOffsets)))[getOppositePlacement(secondarySide)];\n    return targetOffsets;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Helper used to know if the given modifier is enabled.\n * @param {?} options\n * @param {?} modifierName\n * @return {?}\n */\nfunction isModifierEnabled(options, modifierName) {\n    return options\n        && options.modifiers\n        && options.modifiers[modifierName]\n        && options.modifiers[modifierName].enabled;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Tells if a given input is a number\n * @param {?} n\n * @return {?}\n */\nfunction isNumeric(n) {\n    return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @param {?=} renderer\n * @return {?}\n */\nfunction updateContainerClass(data, renderer) {\n    /** @type {?} */\n    const target = data.instance.target;\n    /** @type {?} */\n    let containerClass = target.className;\n    if (data.placementAuto) {\n        containerClass = containerClass.replace(/bs-popover-auto/g, `bs-popover-${data.placement}`);\n        containerClass = containerClass.replace(/bs-tooltip-auto/g, `bs-tooltip-${data.placement}`);\n        containerClass = containerClass.replace(/\\sauto/g, ` ${data.placement}`);\n        if (containerClass.indexOf('popover') !== -1 && containerClass.indexOf('popover-auto') === -1) {\n            containerClass += ' popover-auto';\n        }\n        if (containerClass.indexOf('tooltip') !== -1 && containerClass.indexOf('tooltip-auto') === -1) {\n            containerClass += ' tooltip-auto';\n        }\n    }\n    containerClass = containerClass.replace(/left|right|top|bottom/g, `${data.placement.split(' ')[0]}`);\n    if (renderer) {\n        renderer.setAttribute(target, 'class', containerClass);\n        return;\n    }\n    target.className = containerClass;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @param {?} styles\n * @param {?=} renderer\n * @return {?}\n */\nfunction setStyles(element, styles, renderer) {\n    Object.keys(styles).forEach((/**\n     * @param {?} prop\n     * @return {?}\n     */\n    (prop) => {\n        /** @type {?} */\n        let unit = '';\n        // add unit if the value is numeric and is one of the following\n        if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 &&\n            isNumeric(styles[prop])) {\n            unit = 'px';\n        }\n        if (renderer) {\n            renderer.setStyle(element, prop, `${String(styles[prop])}${unit}`);\n            return;\n        }\n        element.style[prop] = String(styles[prop]) + unit;\n    }));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction arrow(data) {\n    /** @type {?} */\n    let targetOffsets = data.offsets.target;\n    // if arrowElement is a string, suppose it's a CSS selector\n    /** @type {?} */\n    const arrowElement = data.instance.target.querySelector('.arrow');\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n        return data;\n    }\n    /** @type {?} */\n    const isVertical = ['left', 'right'].indexOf(data.placement.split(' ')[0]) !== -1;\n    /** @type {?} */\n    const len = isVertical ? 'height' : 'width';\n    /** @type {?} */\n    const sideCapitalized = isVertical ? 'Top' : 'Left';\n    /** @type {?} */\n    const side = sideCapitalized.toLowerCase();\n    /** @type {?} */\n    const altSide = isVertical ? 'left' : 'top';\n    /** @type {?} */\n    const opSide = isVertical ? 'bottom' : 'right';\n    /** @type {?} */\n    const arrowElementSize = getOuterSizes(arrowElement)[len];\n    /** @type {?} */\n    const placementVariation = data.placement.split(' ')[1];\n    // top/left side\n    if (data.offsets.host[opSide] - arrowElementSize < ((/** @type {?} */ (targetOffsets)))[side]) {\n        ((/** @type {?} */ (targetOffsets)))[side] -=\n            ((/** @type {?} */ (targetOffsets)))[side] - (data.offsets.host[opSide] - arrowElementSize);\n    }\n    // bottom/right side\n    if (Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(arrowElementSize) > ((/** @type {?} */ (targetOffsets)))[opSide]) {\n        ((/** @type {?} */ (targetOffsets)))[side] +=\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(arrowElementSize) - Number(((/** @type {?} */ (targetOffsets)))[opSide]);\n    }\n    targetOffsets = getClientRect(targetOffsets);\n    // Compute the sideValue using the updated target offsets\n    // take target margin in account because we don't have this info available\n    /** @type {?} */\n    const css = getStyleComputedProperty(data.instance.target);\n    /** @type {?} */\n    const targetMarginSide = parseFloat(css[`margin${sideCapitalized}`]);\n    /** @type {?} */\n    const targetBorderSide = parseFloat(css[`border${sideCapitalized}Width`]);\n    // compute center of the target\n    /** @type {?} */\n    let center;\n    if (!placementVariation) {\n        center = Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(data.offsets.host[len] / 2 - arrowElementSize / 2);\n    }\n    else {\n        /** @type {?} */\n        const targetBorderRadius = parseFloat(css.borderRadius);\n        /** @type {?} */\n        const targetSideArrowOffset = Number(targetMarginSide + targetBorderSide + targetBorderRadius);\n        center = side === placementVariation ?\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + targetSideArrowOffset :\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(data.offsets.host[len] - targetSideArrowOffset);\n    }\n    /** @type {?} */\n    let sideValue = center - ((/** @type {?} */ (targetOffsets)))[side] - targetMarginSide - targetBorderSide;\n    // prevent arrowElement from being placed not contiguously to its target\n    sideValue = Math.max(Math.min(targetOffsets[len] - arrowElementSize, sideValue), 0);\n    data.offsets.arrow = {\n        [side]: Math.round(sideValue),\n        [altSide]: '' // make sure to unset any eventual altSide value from the DOM node\n    };\n    data.instance.arrow = arrowElement;\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction flip(data) {\n    data.offsets.target = getClientRect(data.offsets.target);\n    if (!isModifierEnabled(data.options, 'flip')) {\n        data.offsets.target = Object.assign(Object.assign({}, data.offsets.target), getTargetOffsets(data.instance.target, data.offsets.host, data.placement));\n        return data;\n    }\n    /** @type {?} */\n    const boundaries = getBoundaries(data.instance.target, data.instance.host, 0, // padding\n    'viewport', false // positionFixed\n    );\n    /** @type {?} */\n    let placement = data.placement.split(' ')[0];\n    /** @type {?} */\n    let variation = data.placement.split(' ')[1] || '';\n    /** @type {?} */\n    const offsetsHost = data.offsets.host;\n    /** @type {?} */\n    const target = data.instance.target;\n    /** @type {?} */\n    const host = data.instance.host;\n    /** @type {?} */\n    const adaptivePosition = computeAutoPlacement('auto', offsetsHost, target, host, data.options.allowedPositions);\n    /** @type {?} */\n    const flipOrder = [placement, adaptivePosition];\n    /* tslint:disable-next-line: cyclomatic-complexity */\n    flipOrder.forEach((/**\n     * @param {?} step\n     * @param {?} index\n     * @return {?}\n     */\n    (step, index) => {\n        if (placement !== step || flipOrder.length === index + 1) {\n            return data;\n        }\n        placement = data.placement.split(' ')[0];\n        // using floor because the host offsets may contain decimals we are not going to consider here\n        /** @type {?} */\n        const overlapsRef = (placement === 'left' &&\n            Math.floor(data.offsets.target.right) > Math.floor(data.offsets.host.left)) ||\n            (placement === 'right' &&\n                Math.floor(data.offsets.target.left) < Math.floor(data.offsets.host.right)) ||\n            (placement === 'top' &&\n                Math.floor(data.offsets.target.bottom) > Math.floor(data.offsets.host.top)) ||\n            (placement === 'bottom' &&\n                Math.floor(data.offsets.target.top) < Math.floor(data.offsets.host.bottom));\n        /** @type {?} */\n        const overflowsLeft = Math.floor(data.offsets.target.left) < Math.floor(boundaries.left);\n        /** @type {?} */\n        const overflowsRight = Math.floor(data.offsets.target.right) > Math.floor(boundaries.right);\n        /** @type {?} */\n        const overflowsTop = Math.floor(data.offsets.target.top) < Math.floor(boundaries.top);\n        /** @type {?} */\n        const overflowsBottom = Math.floor(data.offsets.target.bottom) > Math.floor(boundaries.bottom);\n        /** @type {?} */\n        const overflowsBoundaries = (placement === 'left' && overflowsLeft) ||\n            (placement === 'right' && overflowsRight) ||\n            (placement === 'top' && overflowsTop) ||\n            (placement === 'bottom' && overflowsBottom);\n        // flip the variation if required\n        /** @type {?} */\n        const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n        /** @type {?} */\n        const flippedVariation = ((isVertical && variation === 'left' && overflowsLeft) ||\n            (isVertical && variation === 'right' && overflowsRight) ||\n            (!isVertical && variation === 'left' && overflowsTop) ||\n            (!isVertical && variation === 'right' && overflowsBottom));\n        if (overlapsRef || overflowsBoundaries || flippedVariation) {\n            if (overlapsRef || overflowsBoundaries) {\n                placement = flipOrder[index + 1];\n            }\n            if (flippedVariation) {\n                variation = getOppositeVariation(variation);\n            }\n            data.placement = placement + (variation ? ` ${variation}` : '');\n            data.offsets.target = Object.assign(Object.assign({}, data.offsets.target), getTargetOffsets(data.instance.target, data.offsets.host, data.placement));\n        }\n    }));\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} targetElement\n * @param {?} hostElement\n * @param {?} position\n * @param {?} options\n * @return {?}\n */\nfunction initData(targetElement, hostElement, position, options) {\n    /** @type {?} */\n    const hostElPosition = getReferenceOffsets(targetElement, hostElement);\n    if (!position.match(/^(auto)*\\s*(left|right|top|bottom)*$/)\n        && !position.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\\s*(start|end)*$/)) {\n        /* tslint:disable-next-line: no-parameter-reassignment */\n        position = 'auto';\n    }\n    /** @type {?} */\n    const placementAuto = !!position.match(/auto/g);\n    // support old placements 'auto left|right|top|bottom'\n    /** @type {?} */\n    let placement = position.match(/auto\\s(left|right|top|bottom)/)\n        ? position.split(' ')[1] || 'auto'\n        : position;\n    // Normalize placements that have identical main placement and variation (\"right right\" => \"right\").\n    /** @type {?} */\n    const matches = placement.match(/^(left|right|top|bottom)* ?(?!\\1)(left|right|top|bottom)?/);\n    if (matches) {\n        placement = matches[1] + (matches[2] ? ` ${matches[2]}` : '');\n    }\n    // \"left right\", \"top bottom\" etc. placements also considered incorrect.\n    if (['left right', 'right left', 'top bottom', 'bottom top'].indexOf(placement) !== -1) {\n        placement = 'auto';\n    }\n    /** @type {?} */\n    const targetOffset = getTargetOffsets(targetElement, hostElPosition, placement);\n    placement = computeAutoPlacement(placement, hostElPosition, targetElement, hostElement, options ? options.allowedPositions : undefined);\n    return {\n        options,\n        instance: {\n            target: targetElement,\n            host: hostElement,\n            arrow: null\n        },\n        offsets: {\n            target: targetOffset,\n            host: hostElPosition,\n            arrow: null\n        },\n        positionFixed: false,\n        placement,\n        placementAuto\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction preventOverflow(data) {\n    if (!isModifierEnabled(data.options, 'preventOverflow')) {\n        return data;\n    }\n    // NOTE: DOM access here\n    // resets the targetOffsets's position so that the document size can be calculated excluding\n    // the size of the targetOffsets element itself\n    /** @type {?} */\n    const transformProp = 'transform';\n    /** @type {?} */\n    const targetStyles = data.instance.target.style;\n    // assignment to help minification\n    const { top, left, [transformProp]: transform } = targetStyles;\n    targetStyles.top = '';\n    targetStyles.left = '';\n    targetStyles[transformProp] = '';\n    /** @type {?} */\n    const boundaries = getBoundaries(data.instance.target, data.instance.host, 0, // padding\n    'scrollParent', false // positionFixed\n    );\n    // NOTE: DOM access here\n    // restores the original style properties after the offsets have been computed\n    targetStyles.top = top;\n    targetStyles.left = left;\n    targetStyles[transformProp] = transform;\n    /** @type {?} */\n    const order = ['left', 'right', 'top', 'bottom'];\n    /** @type {?} */\n    const check = {\n        /**\n         * @param {?} placement\n         * @return {?}\n         */\n        primary(placement) {\n            /** @type {?} */\n            let value = ((/** @type {?} */ (data))).offsets.target[placement];\n            if (((/** @type {?} */ (data))).offsets.target[placement] < boundaries[placement] &&\n                !false // options.escapeWithReference\n            ) {\n                value = Math.max(((/** @type {?} */ (data))).offsets.target[placement], boundaries[placement]);\n            }\n            return { [placement]: value };\n        },\n        /**\n         * @param {?} placement\n         * @return {?}\n         */\n        secondary(placement) {\n            /** @type {?} */\n            const mainSide = placement === 'right' ? 'left' : 'top';\n            /** @type {?} */\n            let value = data.offsets.target[mainSide];\n            if (((/** @type {?} */ (data))).offsets.target[placement] > boundaries[placement] &&\n                !false // escapeWithReference\n            ) {\n                value = Math.min(data.offsets.target[mainSide], boundaries[placement] -\n                    (placement === 'right' ? data.offsets.target.width : data.offsets.target.height));\n            }\n            return { [mainSide]: value };\n        }\n    };\n    /** @type {?} */\n    let side;\n    order.forEach((/**\n     * @param {?} placement\n     * @return {?}\n     */\n    placement => {\n        side = ['left', 'top']\n            .indexOf(placement) !== -1\n            ? 'primary'\n            : 'secondary';\n        data.offsets.target = Object.assign(Object.assign({}, data.offsets.target), ((/** @type {?} */ (check)))[side](placement));\n    }));\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction shift(data) {\n    /** @type {?} */\n    const placement = data.placement;\n    /** @type {?} */\n    const basePlacement = placement.split(' ')[0];\n    /** @type {?} */\n    const shiftVariation = placement.split(' ')[1];\n    if (shiftVariation) {\n        const { host, target } = data.offsets;\n        /** @type {?} */\n        const isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n        /** @type {?} */\n        const side = isVertical ? 'left' : 'top';\n        /** @type {?} */\n        const measurement = isVertical ? 'width' : 'height';\n        /** @type {?} */\n        const shiftOffsets = {\n            start: { [side]: host[side] },\n            end: {\n                [side]: host[side] + host[measurement] - target[measurement]\n            }\n        };\n        data.offsets.target = Object.assign(Object.assign({}, target), {\n            [side]: (side === shiftVariation ? ((/** @type {?} */ (shiftOffsets))).start[side] : ((/** @type {?} */ (shiftOffsets))).end[side])\n        });\n    }\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Positioning {\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?=} round\n     * @return {?}\n     */\n    position(hostElement, targetElement, round = true) {\n        return this.offset(hostElement, targetElement, false);\n    }\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?=} round\n     * @return {?}\n     */\n    offset(hostElement, targetElement, round = true) {\n        return getReferenceOffsets(targetElement, hostElement);\n    }\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?} position\n     * @param {?=} appendToBody\n     * @param {?=} options\n     * @return {?}\n     */\n    positionElements(hostElement, targetElement, position, appendToBody, options) {\n        /** @type {?} */\n        const chainOfModifiers = [flip, shift, preventOverflow, arrow];\n        return chainOfModifiers.reduce((/**\n         * @param {?} modifiedData\n         * @param {?} modifier\n         * @return {?}\n         */\n        (modifiedData, modifier) => modifier(modifiedData)), initData(targetElement, hostElement, position, options));\n    }\n}\n/** @type {?} */\nconst positionService = new Positioning();\n/**\n * @param {?} hostElement\n * @param {?} targetElement\n * @param {?} placement\n * @param {?=} appendToBody\n * @param {?=} options\n * @param {?=} renderer\n * @return {?}\n */\nfunction positionElements(hostElement, targetElement, placement, appendToBody, options, renderer) {\n    /** @type {?} */\n    const data = positionService.positionElements(hostElement, targetElement, placement, appendToBody, options);\n    /** @type {?} */\n    const offsets = getOffsets(data);\n    setStyles(targetElement, {\n        'will-change': 'transform',\n        top: '0px',\n        left: '0px',\n        transform: `translate3d(${offsets.left}px, ${offsets.top}px, 0px)`\n    }, renderer);\n    if (data.instance.arrow) {\n        setStyles(data.instance.arrow, data.offsets.arrow, renderer);\n    }\n    updateContainerClass(data, renderer);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction PositioningOptions() { }\nif (false) {\n    /**\n     * The DOM element, ElementRef, or a selector string of an element which will be moved\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.element;\n    /**\n     * The DOM element, ElementRef, or a selector string of an element which the element will be attached to\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.target;\n    /**\n     * A string of the form 'vert-attachment horiz-attachment' or 'placement'\n     * - placement can be \"top\", \"bottom\", \"left\", \"right\"\n     * not yet supported:\n     * - vert-attachment can be any of 'top', 'middle', 'bottom'\n     * - horiz-attachment can be any of 'left', 'center', 'right'\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.attachment;\n    /**\n     * A string similar to `attachment`. The one difference is that, if it's not provided,\n     * `targetAttachment` will assume the mirror image of `attachment`.\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.targetAttachment;\n    /**\n     * A string of the form 'vert-offset horiz-offset'\n     * - vert-offset and horiz-offset can be of the form \"20px\" or \"55%\"\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.offset;\n    /**\n     * A string similar to `offset`, but referring to the offset of the target\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.targetOffset;\n    /**\n     * If true component will be attached to body\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.appendToBody;\n}\nclass PositioningService {\n    /**\n     * @param {?} ngZone\n     * @param {?} rendererFactory\n     * @param {?} platformId\n     */\n    constructor(ngZone, rendererFactory, platformId) {\n        this.update$$ = new Subject();\n        this.positionElements = new Map();\n        this.isDisabled = false;\n        if (isPlatformBrowser(platformId)) {\n            ngZone.runOutsideAngular((/**\n             * @return {?}\n             */\n            () => {\n                this.triggerEvent$ = merge(fromEvent(window, 'scroll', { passive: true }), fromEvent(window, 'resize', { passive: true }), \n                /* tslint:disable-next-line: deprecation */\n                of(0, animationFrameScheduler), this.update$$);\n                this.triggerEvent$.subscribe((/**\n                 * @return {?}\n                 */\n                () => {\n                    if (this.isDisabled) {\n                        return;\n                    }\n                    this.positionElements\n                        /* tslint:disable-next-line: no-any */\n                        .forEach((/**\n                     * @param {?} positionElement\n                     * @return {?}\n                     */\n                    (positionElement) => {\n                        positionElements(_getHtmlElement(positionElement.target), _getHtmlElement(positionElement.element), positionElement.attachment, positionElement.appendToBody, this.options, rendererFactory.createRenderer(null, null));\n                    }));\n                }));\n            }));\n        }\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    position(options) {\n        this.addPositionElement(options);\n    }\n    /**\n     * @return {?}\n     */\n    get event$() {\n        return this.triggerEvent$;\n    }\n    /**\n     * @return {?}\n     */\n    disable() {\n        this.isDisabled = true;\n    }\n    /**\n     * @return {?}\n     */\n    enable() {\n        this.isDisabled = false;\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    addPositionElement(options) {\n        this.positionElements.set(_getHtmlElement(options.element), options);\n    }\n    /**\n     * @return {?}\n     */\n    calcPosition() {\n        this.update$$.next();\n    }\n    /**\n     * @param {?} elRef\n     * @return {?}\n     */\n    deletePositionElement(elRef) {\n        this.positionElements.delete(_getHtmlElement(elRef));\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    setOptions(options) {\n        this.options = options;\n    }\n}\nPositioningService.ɵfac = function PositioningService_Factory(t) { return new (t || PositioningService)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2), ɵngcc0.ɵɵinject(PLATFORM_ID)); };\nPositioningService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: PositioningService, factory: PositioningService.ɵfac });\n/** @nocollapse */\nPositioningService.ctorParameters = () => [\n    { type: NgZone },\n    { type: RendererFactory2 },\n    { type: Number, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PositioningService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: ɵngcc0.RendererFactory2 }, { type: Number, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }]; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.options;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.update$$;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.positionElements;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.triggerEvent$;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.isDisabled;\n}\n/**\n * @param {?} element\n * @return {?}\n */\nfunction _getHtmlElement(element) {\n    // it means that we got a selector\n    if (typeof element === 'string') {\n        return document.querySelector(element);\n    }\n    if (element instanceof ElementRef) {\n        return element.nativeElement;\n    }\n    return element;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { Positioning, PositioningService, positionElements };\n\n//# sourceMappingURL=ngx-bootstrap-positioning.js.map","import { isDevMode } from '@angular/core';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @copyright Valor Software\n * @copyright Angular ng-bootstrap team\n */\nclass Trigger {\n    /**\n     * @param {?} open\n     * @param {?=} close\n     */\n    constructor(open, close) {\n        this.open = open;\n        this.close = close || open;\n    }\n    /**\n     * @return {?}\n     */\n    isManual() {\n        return this.open === 'manual' || this.close === 'manual';\n    }\n}\nif (false) {\n    /** @type {?} */\n    Trigger.prototype.open;\n    /** @type {?} */\n    Trigger.prototype.close;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction ListenOptions() { }\nif (false) {\n    /** @type {?|undefined} */\n    ListenOptions.prototype.target;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.targets;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.triggers;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.outsideClick;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.outsideEsc;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.show;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.hide;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.toggle;\n}\n/** @type {?} */\nconst DEFAULT_ALIASES = {\n    hover: ['mouseover', 'mouseout'],\n    focus: ['focusin', 'focusout']\n};\n/* tslint:disable-next-line: no-any */\n/**\n * @param {?} triggers\n * @param {?=} aliases\n * @return {?}\n */\nfunction parseTriggers(triggers, aliases = DEFAULT_ALIASES) {\n    /** @type {?} */\n    const trimmedTriggers = (triggers || '').trim();\n    if (trimmedTriggers.length === 0) {\n        return [];\n    }\n    /** @type {?} */\n    const parsedTriggers = trimmedTriggers\n        .split(/\\s+/)\n        .map((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => trigger.split(':')))\n        .map((/**\n     * @param {?} triggerPair\n     * @return {?}\n     */\n    (triggerPair) => {\n        /** @type {?} */\n        const alias = aliases[triggerPair[0]] || triggerPair;\n        return new Trigger(alias[0], alias[1]);\n    }));\n    /** @type {?} */\n    const manualTriggers = parsedTriggers.filter((/**\n     * @param {?} triggerPair\n     * @return {?}\n     */\n    (triggerPair) => triggerPair.isManual()));\n    if (manualTriggers.length > 1) {\n        throw new Error('Triggers parse error: only one manual trigger is allowed');\n    }\n    if (manualTriggers.length === 1 && parsedTriggers.length > 1) {\n        throw new Error('Triggers parse error: manual trigger can\\'t be mixed with other triggers');\n    }\n    return parsedTriggers;\n}\n/**\n * @param {?} renderer\n * @param {?} target\n * @param {?} triggers\n * @param {?} showFn\n * @param {?} hideFn\n * @param {?} toggleFn\n * @return {?}\n */\nfunction listenToTriggers(renderer, \n/* tslint:disable-next-line: no-any */\ntarget, triggers, showFn, hideFn, toggleFn) {\n    /** @type {?} */\n    const parsedTriggers = parseTriggers(triggers);\n    /* tslint:disable-next-line: no-any */\n    /** @type {?} */\n    const listeners = [];\n    if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\n        return Function.prototype;\n    }\n    parsedTriggers.forEach((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => {\n        if (trigger.open === trigger.close) {\n            listeners.push(renderer.listen(target, trigger.open, toggleFn));\n            return;\n        }\n        listeners.push(renderer.listen(target, trigger.open, showFn), renderer.listen(target, trigger.close, hideFn));\n    }));\n    return (/**\n     * @return {?}\n     */\n    () => {\n        listeners.forEach((/**\n         * @param {?} unsubscribeFn\n         * @return {?}\n         */\n        (unsubscribeFn) => unsubscribeFn()));\n    });\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction listenToTriggersV2(renderer, options) {\n    /** @type {?} */\n    const parsedTriggers = parseTriggers(options.triggers);\n    /** @type {?} */\n    const target = options.target;\n    // do nothing\n    if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\n        return Function.prototype;\n    }\n    // all listeners\n    /* tslint:disable-next-line: no-any */\n    /** @type {?} */\n    const listeners = [];\n    // lazy listeners registration\n    /** @type {?} */\n    const _registerHide = [];\n    /** @type {?} */\n    const registerHide = (/**\n     * @return {?}\n     */\n    () => {\n        // add hide listeners to unregister array\n        _registerHide.forEach((/**\n         * @param {?} fn\n         * @return {?}\n         */\n        (fn) => listeners.push(fn())));\n        // register hide events only once\n        _registerHide.length = 0;\n    });\n    // register open\\close\\toggle listeners\n    parsedTriggers.forEach((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => {\n        /** @type {?} */\n        const useToggle = trigger.open === trigger.close;\n        /** @type {?} */\n        const showFn = useToggle ? options.toggle : options.show;\n        if (!useToggle) {\n            _registerHide.push((/**\n             * @return {?}\n             */\n            () => renderer.listen(target, trigger.close, options.hide)));\n        }\n        listeners.push(renderer.listen(target, trigger.open, (/**\n         * @return {?}\n         */\n        () => showFn(registerHide))));\n    }));\n    return (/**\n     * @return {?}\n     */\n    () => {\n        listeners.forEach((/**\n         * @param {?} unsubscribeFn\n         * @return {?}\n         */\n        (unsubscribeFn) => unsubscribeFn()));\n    });\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction registerOutsideClick(renderer, options) {\n    if (!options.outsideClick) {\n        return Function.prototype;\n    }\n    /* tslint:disable-next-line: no-any */\n    return renderer.listen('document', 'click', (/**\n     * @param {?} event\n     * @return {?}\n     */\n    (event) => {\n        if (options.target && options.target.contains(event.target)) {\n            return undefined;\n        }\n        if (options.targets &&\n            options.targets.some((/**\n             * @param {?} target\n             * @return {?}\n             */\n            target => target.contains(event.target)))) {\n            return undefined;\n        }\n        options.hide();\n    }));\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction registerEscClick(renderer, options) {\n    if (!options.outsideEsc) {\n        return Function.prototype;\n    }\n    return renderer.listen('document', 'keyup.esc', (/**\n     * @param {?} event\n     * @return {?}\n     */\n    (event) => {\n        if (options.target && options.target.contains(event.target)) {\n            return undefined;\n        }\n        if (options.targets &&\n            options.targets.some((/**\n             * @param {?} target\n             * @return {?}\n             */\n            target => target.contains(event.target)))) {\n            return undefined;\n        }\n        options.hide();\n    }));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * JS version of browser APIs. This library can only run in the browser.\n * @type {?}\n */\nconst win = (typeof window !== 'undefined' && window) || (/** @type {?} */ ({}));\n/** @type {?} */\nconst document$1 = win.document;\n/** @type {?} */\nconst location = win.location;\n/** @type {?} */\nconst gc = win.gc ? (/**\n * @return {?}\n */\n() => win.gc()) : (/**\n * @return {?}\n */\n() => null);\n/** @type {?} */\nconst performance = win.performance ? win.performance : null;\n/** @type {?} */\nconst Event = win.Event;\n/** @type {?} */\nconst MouseEvent = win.MouseEvent;\n/** @type {?} */\nconst KeyboardEvent = win.KeyboardEvent;\n/** @type {?} */\nconst EventTarget = win.EventTarget;\n/** @type {?} */\nconst History = win.History;\n/** @type {?} */\nconst Location = win.Location;\n/** @type {?} */\nconst EventListener = win.EventListener;\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nlet guessedVersion;\n/**\n * @return {?}\n */\nfunction _guessBsVersion() {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    /** @type {?} */\n    const spanEl = document.createElement('span');\n    spanEl.innerText = 'test bs version';\n    document.body.appendChild(spanEl);\n    spanEl.classList.add('d-none');\n    /** @type {?} */\n    const rect = spanEl.getBoundingClientRect();\n    document.body.removeChild(spanEl);\n    if (!rect) {\n        return 'bs3';\n    }\n    return rect.top === 0 ? 'bs4' : 'bs3';\n}\n/**\n * @param {?} theme\n * @return {?}\n */\nfunction setTheme(theme) {\n    guessedVersion = theme;\n}\n// todo: in ngx-bootstrap, bs4 will became a default one\n/**\n * @return {?}\n */\nfunction isBs3() {\n    if (typeof win === 'undefined') {\n        return true;\n    }\n    if (typeof win.__theme === 'undefined') {\n        if (guessedVersion) {\n            return guessedVersion === 'bs3';\n        }\n        guessedVersion = _guessBsVersion();\n        return guessedVersion === 'bs3';\n    }\n    return win.__theme !== 'bs4';\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nclass LinkedList {\n    constructor() {\n        this.length = 0;\n        this.asArray = [];\n        // Array methods overriding END\n    }\n    /**\n     * @param {?} position\n     * @return {?}\n     */\n    get(position) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            return void 0;\n        }\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < position; index++) {\n            current = current.next;\n        }\n        return current.value;\n    }\n    /**\n     * @param {?} value\n     * @param {?=} position\n     * @return {?}\n     */\n    add(value, position = this.length) {\n        if (position < 0 || position > this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const node = {\n            value,\n            next: undefined,\n            previous: undefined\n        };\n        if (this.length === 0) {\n            this.head = node;\n            this.tail = node;\n            this.current = node;\n        }\n        else {\n            if (position === 0) {\n                // first node\n                node.next = this.head;\n                this.head.previous = node;\n                this.head = node;\n            }\n            else if (position === this.length) {\n                // last node\n                this.tail.next = node;\n                node.previous = this.tail;\n                this.tail = node;\n            }\n            else {\n                // node in middle\n                /** @type {?} */\n                const currentPreviousNode = this.getNode(position - 1);\n                /** @type {?} */\n                const currentNextNode = currentPreviousNode.next;\n                currentPreviousNode.next = node;\n                currentNextNode.previous = node;\n                node.previous = currentPreviousNode;\n                node.next = currentNextNode;\n            }\n        }\n        this.length++;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @param {?=} position\n     * @return {?}\n     */\n    remove(position = 0) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        if (position === 0) {\n            // first node\n            this.head = this.head.next;\n            if (this.head) {\n                // there is no second node\n                this.head.previous = undefined;\n            }\n            else {\n                // there is no second node\n                this.tail = undefined;\n            }\n        }\n        else if (position === this.length - 1) {\n            // last node\n            this.tail = this.tail.previous;\n            this.tail.next = undefined;\n        }\n        else {\n            // middle node\n            /** @type {?} */\n            const removedNode = this.getNode(position);\n            removedNode.next.previous = removedNode.previous;\n            removedNode.previous.next = removedNode.next;\n        }\n        this.length--;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @param {?} position\n     * @param {?} value\n     * @return {?}\n     */\n    set(position, value) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /** @type {?} */\n        const node = this.getNode(position);\n        node.value = value;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @return {?}\n     */\n    toArray() {\n        return this.asArray;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    findAll(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const result = [];\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result.push({ index, value: current.value });\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    // Array methods overriding start\n    /**\n     * @param {...?} args\n     * @return {?}\n     */\n    push(...args) {\n        /* tslint:disable-next-line: no-any*/\n        args.forEach((/**\n         * @param {?} arg\n         * @return {?}\n         */\n        (arg) => {\n            this.add(arg);\n        }));\n        return this.length;\n    }\n    /**\n     * @return {?}\n     */\n    pop() {\n        if (this.length === 0) {\n            return undefined;\n        }\n        /** @type {?} */\n        const last = this.tail;\n        this.remove(this.length - 1);\n        return last.value;\n    }\n    /**\n     * @param {...?} args\n     * @return {?}\n     */\n    unshift(...args) {\n        args.reverse();\n        /* tslint:disable-next-line: no-any*/\n        args.forEach((/**\n         * @param {?} arg\n         * @return {?}\n         */\n        (arg) => {\n            this.add(arg, 0);\n        }));\n        return this.length;\n    }\n    /**\n     * @return {?}\n     */\n    shift() {\n        if (this.length === 0) {\n            return undefined;\n        }\n        /** @type {?} */\n        const lastItem = this.head.value;\n        this.remove();\n        return lastItem;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    forEach(fn) {\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < this.length; index++) {\n            fn(current.value, index);\n            current = current.next;\n        }\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    indexOf(value) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let position = 0;\n        for (let index = 0; index < this.length; index++) {\n            if (current.value === value) {\n                position = index;\n                break;\n            }\n            current = current.next;\n        }\n        return position;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    some(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result = false;\n        while (current && !result) {\n            if (fn(current.value)) {\n                result = true;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    every(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result = true;\n        while (current && result) {\n            if (!fn(current.value)) {\n                result = false;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /**\n     * @return {?}\n     */\n    toString() {\n        return '[Linked List]';\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    find(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result;\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result = current.value;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    findIndex(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result;\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result = index;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @protected\n     * @param {?} position\n     * @return {?}\n     */\n    getNode(position) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < position; index++) {\n            current = current.next;\n        }\n        return current;\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    createInternalArrayRepresentation() {\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const outArray = [];\n        /** @type {?} */\n        let current = this.head;\n        while (current) {\n            outArray.push(current.value);\n            current = current.next;\n        }\n        this.asArray = outArray;\n    }\n}\nif (false) {\n    /** @type {?} */\n    LinkedList.prototype.length;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.head;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.tail;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.current;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.asArray;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/*tslint:disable:no-invalid-this */\n/* tslint:disable-next-line: no-any */\n/**\n * @param {?=} defaultValue\n * @return {?}\n */\nfunction OnChange(defaultValue) {\n    /** @type {?} */\n    const sufix = 'Change';\n    /* tslint:disable-next-line: no-any */\n    return (/**\n     * @param {?} target\n     * @param {?} propertyKey\n     * @return {?}\n     */\n    function OnChangeHandler(target, propertyKey) {\n        /** @type {?} */\n        const _key = ` __${propertyKey}Value`;\n        Object.defineProperty(target, propertyKey, {\n            /* tslint:disable-next-line: no-any */\n            /**\n             * @return {?}\n             */\n            get() {\n                return this[_key];\n            },\n            /* tslint:disable-next-line: no-any */\n            /**\n             * @param {?} value\n             * @return {?}\n             */\n            set(value) {\n                /** @type {?} */\n                const prevValue = this[_key];\n                this[_key] = value;\n                if (prevValue !== value && this[propertyKey + sufix]) {\n                    this[propertyKey + sufix].emit(value);\n                }\n            }\n        });\n    });\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Utils {\n    /* tslint:disable-next-line: no-any */\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    static reflow(element) {\n        /* tslint:disable-next-line: no-any */\n        ((/**\n         * @param {?} bs\n         * @return {?}\n         */\n        (bs) => bs))(element.offsetHeight);\n    }\n    // source: https://github.com/jquery/jquery/blob/master/src/css/var/getStyles.js\n    /* tslint:disable-next-line: no-any */\n    /**\n     * @param {?} elem\n     * @return {?}\n     */\n    static getStyles(elem) {\n        // Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n        // IE throws on elements created in popups\n        // FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n        /** @type {?} */\n        let view = elem.ownerDocument.defaultView;\n        if (!view || !view.opener) {\n            view = win;\n        }\n        return view.getComputedStyle(elem);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst _messagesHash = {};\n/** @type {?} */\nconst _hideMsg = typeof console === 'undefined' || !('warn' in console);\n/**\n * @param {?} msg\n * @return {?}\n */\nfunction warnOnce(msg) {\n    if (!isDevMode() || _hideMsg || msg in _messagesHash) {\n        return;\n    }\n    _messagesHash[msg] = true;\n    /*tslint:disable-next-line*/\n    console.warn(msg);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { LinkedList, OnChange, Trigger, Utils, document$1 as document, isBs3, listenToTriggers, listenToTriggersV2, parseTriggers, registerEscClick, registerOutsideClick, setTheme, warnOnce, win as window };\n\n//# sourceMappingURL=ngx-bootstrap-utils.js.map","import { Injectable } from '@angular/core';\r\nimport { TourService } from 'ngx-ui-tour-core';\r\n\r\nimport { INgxbStepOption } from './step-option.interface';\r\n\r\n@Injectable()\r\nexport class NgxbTourService extends TourService<INgxbStepOption> {}\r\n","import { Injectable, TemplateRef } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class TourStepTemplateService {\r\n  public template: TemplateRef<{content: string}>;\r\n}\r\n","import { Directive, ElementRef, Host, HostBinding, Input } from '@angular/core';\r\nimport type {OnDestroy, OnInit} from '@angular/core';\r\nimport { PopoverDirective } from 'ngx-bootstrap/popover';\r\nimport {ScrollingUtil, TourAnchorDirective, TourBackdropService, TourState} from 'ngx-ui-tour-core';\r\nimport { INgxbStepOption as IStepOption } from './step-option.interface';\r\n\r\nimport { NgxbTourService } from './ngx-bootstrap-tour.service';\r\nimport { TourStepTemplateService } from './tour-step-template.service';\r\n\r\n@Directive({ selector: '[tourAnchor]' })\r\nexport class TourAnchorNgxBootstrapPopoverDirective extends PopoverDirective { }\r\n\r\n@Directive({\r\n  selector: '[tourAnchor]'\r\n})\r\nexport class TourAnchorNgxBootstrapDirective\r\n  implements OnInit, OnDestroy, TourAnchorDirective {\r\n  @Input() public tourAnchor: string;\r\n\r\n  @HostBinding('class.touranchor--is-active')\r\n  public isActive: boolean;\r\n\r\n  constructor(\r\n    private tourService: NgxbTourService,\r\n    private tourStepTemplate: TourStepTemplateService,\r\n    private element: ElementRef,\r\n    @Host() private popoverDirective: TourAnchorNgxBootstrapPopoverDirective,\r\n    private tourBackdrop: TourBackdropService\r\n  ) {\r\n    this.popoverDirective.triggers = '';\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    this.tourService.register(this.tourAnchor, this);\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this.tourService.unregister(this.tourAnchor);\r\n  }\r\n\r\n  // noinspection JSUnusedGlobalSymbols\r\n  public showTourStep(step: IStepOption): void {\r\n    const htmlElement: HTMLElement = this.element.nativeElement;\r\n\r\n    this.isActive = true;\r\n    this.popoverDirective.popover = this.tourStepTemplate.template;\r\n    this.popoverDirective.popoverContext = { step };\r\n    this.popoverDirective.popoverTitle = step.title;\r\n    this.popoverDirective.container = 'body';\r\n    this.popoverDirective.containerClass = 'ngx-bootstrap';\r\n    if (step.containerClass) {\r\n      this.popoverDirective.containerClass += ` ${step.containerClass}`;\r\n    }\r\n    this.popoverDirective.placement = step.placement || 'top';\r\n    step.prevBtnTitle = step.prevBtnTitle || 'Prev';\r\n    step.nextBtnTitle = step.nextBtnTitle || 'Next';\r\n    step.endBtnTitle = step.endBtnTitle || 'End';\r\n    this.popoverDirective.show();\r\n    if (!step.preventScrolling) {\r\n      ScrollingUtil.ensureVisible(htmlElement);\r\n    }\r\n    if (step.enableBackdrop) {\r\n      this.tourBackdrop.show(this.element);\r\n    } else {\r\n      this.tourBackdrop.close();\r\n    }\r\n  }\r\n\r\n  public hideTourStep(): void {\r\n    this.isActive = false;\r\n    this.popoverDirective.hide();\r\n    if (this.tourService.getStatus() === TourState.OFF) {\r\n      this.tourBackdrop.close();\r\n    }\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  Component,\r\n  ContentChild,\r\n  Input,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { IStepOption, TourHotkeyListenerComponent } from 'ngx-ui-tour-core';\r\n\r\nimport { NgxbTourService } from './ngx-bootstrap-tour.service';\r\nimport { TourStepTemplateService } from './tour-step-template.service';\r\n\r\n@Component({\r\n  encapsulation: ViewEncapsulation.None,\r\n  selector: 'tour-step-template',\r\n  template: `\r\n    <ng-template #tourStep let-step=\"step\">\r\n      <p class=\"tour-step-content\" [innerHTML]=\"step?.content\"></p>\r\n      <div class=\"tour-step-navigation\">\r\n        <button\r\n          *ngIf=\"tourService.hasPrev(step)\"\r\n          class=\"btn btn-sm btn-default\"\r\n          (click)=\"tourService.prev()\"\r\n        >\r\n          « {{ step?.prevBtnTitle }}\r\n        </button>\r\n        <button\r\n          *ngIf=\"tourService.hasNext(step)\"\r\n          class=\"btn btn-sm btn-default\"\r\n          (click)=\"tourService.next()\"\r\n        >\r\n          {{ step?.nextBtnTitle }} »\r\n        </button>\r\n        <button class=\"btn btn-sm btn-default\" (click)=\"tourService.end()\">\r\n          {{ step?.endBtnTitle }}\r\n        </button>\r\n      </div>\r\n    </ng-template>\r\n  `\r\n})\r\nexport class TourStepTemplateComponent extends TourHotkeyListenerComponent\r\n  implements AfterContentInit {\r\n  @ViewChild('tourStep', { read: TemplateRef, static: true })\r\n  public defaultTourStepTemplate: TemplateRef<any>;\r\n\r\n  @Input()\r\n  public stepTemplate: TemplateRef<{ step: IStepOption }>;\r\n\r\n  @ContentChild(TemplateRef)\r\n  public stepTemplateContent: TemplateRef<{ step: IStepOption }>;\r\n\r\n  constructor(\r\n    private tourStepTemplateService: TourStepTemplateService,\r\n    public tourService: NgxbTourService\r\n  ) {\r\n    super(tourService);\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    this.tourStepTemplateService.template =\r\n      this.stepTemplate ||\r\n      this.stepTemplateContent ||\r\n      this.defaultTourStepTemplate;\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { PopoverModule } from 'ngx-bootstrap/popover';\r\nimport {TourService, TourModule, TourBackdropService} from 'ngx-ui-tour-core';\r\n\r\nimport { TourAnchorNgxBootstrapDirective, TourAnchorNgxBootstrapPopoverDirective } from './tour-anchor.directive';\r\nimport { TourStepTemplateComponent } from './tour-step-template.component';\r\nimport { TourStepTemplateService } from './tour-step-template.service';\r\nimport { NgxbTourService } from './ngx-bootstrap-tour.service';\r\n\r\nexport { TourAnchorNgxBootstrapDirective, TourAnchorNgxBootstrapPopoverDirective, TourStepTemplateComponent, NgxbTourService };\r\nexport const popoverForRoot: ModuleWithProviders<PopoverModule> = PopoverModule.forRoot();\r\n\r\n@NgModule({\r\n  declarations: [TourAnchorNgxBootstrapDirective, TourAnchorNgxBootstrapPopoverDirective, TourStepTemplateComponent],\r\n  exports: [TourAnchorNgxBootstrapDirective, TourAnchorNgxBootstrapPopoverDirective, TourStepTemplateComponent],\r\n  imports: [CommonModule, popoverForRoot, TourModule]\r\n})\r\nexport class TourNgxBootstrapModule {\r\n  public static forRoot(): ModuleWithProviders<TourNgxBootstrapModule> {\r\n    return {\r\n      ngModule: TourNgxBootstrapModule,\r\n      providers: [\r\n        TourStepTemplateService,\r\n        TourService,\r\n        NgxbTourService,\r\n        TourBackdropService\r\n      ]\r\n    };\r\n  }\r\n}\r\n","/*\r\n * Public API Surface of ngx-ui-tour-ngx-bootstrap\r\n */\r\n\r\nexport { INgxbStepOption as IStepOption } from './lib/step-option.interface';\r\nexport {\r\n  NgxbTourService as TourService\r\n} from './lib/ngx-bootstrap-tour.service';\r\nexport * from './lib/ngx-bootstrap.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {TourStepTemplateService as ɵa} from './lib/tour-step-template.service';","<h2>About</h2>\r\n\r\n<p>This is a product tour library built with Angular (2+). It's inspired by\r\n  <a tourAnchor=\"angular-ui-tour\" href=\"http://benmarch.github.io/angular-ui-tour\">angular-ui-tour</a>.</p>\r\n\r\n<p>\r\n  <code>TourNgxBootstrapModule</code> is an implementation of the tour UI that uses\r\n  <a href=\"https://github.com/valor-software/ngx-bootstrap\" rel=\"nofollow\"\r\n    target=\"_blank\">NgxBootstrap</a> popovers to display tour steps.</p>\r\n\r\n<h2 tourAnchor=\"installation\">Installation</h2>\r\n<ol>\r\n  <li>\r\n    <code>npm install ngx-ui-tour-core ngx-ui-tour-ngx-bootstrap ngx-bootstrap</code>\r\n  </li>\r\n  <li>Import\r\n    <code>TourNgxBootstrapModule.forRoot()</code> into your app module</li>\r\n  <li>Make sure\r\n    <code>RouterModule</code> is imported in your app module</li>\r\n  <li>Include bootstrap 4 CSS somehow - i.e. in your\r\n    <code>index.html</code> add this line:\r\n    <br>\r\n    <code>\r\n        &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css\">\r\n      </code>\r\n  </li>\r\n  <li>Or for Bootstrap 3:\r\n    <br>\r\n    <code>\r\n      &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\">\r\n    </code>\r\n  </li>\r\n</ol>\r\n\r\n<h2 tourAnchor=\"usage\">Usage</h2>\r\n<ol>\r\n  <li>Add\r\n    <code>&lt;tour-step-template&gt;&lt;/tour-step-template&gt;</code> to your root app component</li>\r\n  <li>\r\n    Define anchor points for the tour steps by adding the\r\n    <code>tourAnchor</code> directive throughout your app.\r\n    <pre><code>&lt;div tourAnchor=\"some.anchor.id\"&gt;...&lt;/div&gt;</code></pre>\r\n  </li>\r\n  <li>\r\n    Define your tour steps using\r\n    <code>tourService.initialize(steps)</code>\r\n    <pre>\r\nthis.tourService.initialize([{{ '{' }}\r\n  anchorId: 'some.anchor.id',\r\n  content: 'Some content',\r\n  title: 'First',\r\n}, {{ '{' }}\r\n  anchorId: 'another.anchor.id',\r\n  content: 'Other content',\r\n  title: 'Second',\r\n}]);</pre>\r\n  </li>\r\n  <li>Start the tour with\r\n    <code tourAnchor=\"tourService.start\">tourService.start()</code>\r\n  </li>\r\n  <li>Check out the\r\n    <a href=\"https://github.com/hakimio/ngx-ui-tour/tree/master/src/app/ngx-bootstrap\">demo source code</a> for an example.</li>\r\n</ol>\r\n\r\n<h2>FAQ</h2>\r\n\r\n<h4>How to center tour step?</h4>\r\n\r\n<p>You can create an invisible anchor point for the tour step you want to center.</p>\r\n<ol>\r\n  <li>Add a simple div to your html template which will be used as the tour anchor\r\n    <pre><code>\r\n&lt;div class=&quot;centered-tour-element&quot; tourAnchor=&quot;start-tour&quot;&gt;&lt;/div&gt;\r\n    </code></pre>\r\n  </li>\r\n  <li>\r\n    Add CSS for the div\r\n    <pre><code>\r\n.centered-tour-element {{\"{\"}}\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  /* The anchor should be translated to the left by half of your step width and half height  */\r\n  /* For example, if your tour step has dimensions of 280 × 156 px, you have to translate by (-140px, -78px) */\r\n  transform: translate(-140px, -78px);\r\n{{\"}\"}}\r\n    </code></pre>\r\n  </li>\r\n  <li>\r\n    Use previously defined tour anchor\r\n    <pre><code>\r\nthis.tourService.initialize([{{\"{\"}}\r\n  anchorId: 'start-tour',\r\n  title: 'Welcome',\r\n  content: 'Welcome to the Ngx-UI-Tour tour!'\r\n{{\"}\"}}]);\r\nthis.tourService.start();\r\n    </code></pre>\r\n  </li>\r\n</ol>\r\n\r\n<h4>How to disable main content scrolling when UI tour is active?</h4>\r\n<p>You can toggle CSS class which disables main content element scrolling when tour starts/ends.</p>\r\n<ol>\r\n  <li>\r\n    Create custom <code>TourService</code>:\r\n    <pre><code>\r\n@Injectable()\r\nexport class MyTourService {{\"{\"}}\r\n\r\n  constructor(\r\n    private readonly tourService: TourService\r\n  ) {{\"{\"}}{{\"}\"}}\r\n\r\n  private readonly MAIN_SECTION_CSS_SELECTOR = 'section.main-content';\r\n  private readonly NO_SCROLL_CSS_CLASS = 'no-scroll';\r\n\r\n  start(steps: IStepOption[]) {{\"{\"}}\r\n    this.tourService.initialize(steps, {{\"{\"}}\r\n      route: 'my-route',\r\n      enableBackdrop: true\r\n    {{\"}\"}});\r\n    this.tourService.end$.subscribe(() => this.setIsScrollable(true));\r\n    this.setIsScrollable(false);\r\n    this.tourService.start();\r\n  {{\"}\"}}\r\n\r\n  private setIsScrollable(isScrollable: boolean) {{\"{\"}}\r\n    const body = document.body,\r\n      mainSection = document.querySelector(this.MAIN_SECTION_CSS_SELECTOR),\r\n      addOrRemove = isScrollable ? 'remove' : 'add';\r\n\r\n    mainSection.classList[addOrRemove](this.NO_SCROLL_CSS_CLASS);\r\n    // You can also optionally disable iOS Safari bounce effect\r\n    body[addOrRemove + 'EventListener']('touchmove', this.preventTouchMove, {{\"{\"}} passive: false });\r\n  {{\"}\"}}\r\n\r\n  private preventTouchMove(e) {{\"{\"}}\r\n    e.preventDefault();\r\n  {{\"}\"}}\r\n\r\n{{\"}\"}}\r\n    </code></pre>\r\n  </li>\r\n  <li>\r\n    Add the <code>no-scroll</code> CSS class to your global stylesheet (<code>styles.(s)css</code>)\r\n    <pre><code>\r\n.no-scroll {{\"{\"}}\r\n  overflow: hidden;\r\n{{\"}\"}}\r\n    </code></pre>\r\n  </li>\r\n  <li>\r\n    Use your custom <code>TourService</code> to start the UI tour:\r\n    <pre><code>\r\nimport {{\"{\"}}MyTourService{{\"}\"}} from '@app-utils/my-tour.service';\r\n\r\n@Component({{\"{\"}}\r\n  selector: 'my-app',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n{{\"}\"}})\r\nexport class AppComponent {{\"{\"}}\r\n\r\n  constructor(\r\n    private readonly myTourService: MyTourService\r\n  ) {{\"{\"}}\r\n    this.myTourService.start([{{\"{\"}}\r\n      anchorId: 'start-tour',\r\n      title: 'Welcome',\r\n      content: 'Welcome to the Ngx-UI-Tour tour!'\r\n    {{\"}\"}}]);\r\n  {{\"}\"}}\r\n\r\n{{\"}\"}}\r\n    </code></pre>\r\n  </li>\r\n</ol>\r\n\r\n<h2>TourService</h2>\r\n<p>The\r\n  <code>TourService</code> controls the tour. Some key functions include:</p>\r\n<dl>\r\n  <dt>start()</dt>\r\n  <dd>Starts the tour</dd>\r\n  <dt>startAt(stepId: number | string)</dt>\r\n  <dd>Start the tour at the step with stepId or at the specified index</dd>\r\n  <dt>end()</dt>\r\n  <dd>Ends the tour</dd>\r\n  <dt>pause()</dt>\r\n  <dd>Pauses the tour</dd>\r\n  <dt>resume()</dt>\r\n  <dd>Resumes the tour</dd>\r\n  <dt>next()</dt>\r\n  <dd>Goes to the next step</dd>\r\n  <dt>prev()</dt>\r\n  <dd>Goes to the previous step</dd>\r\n</dl>\r\n\r\n<h2>Step Configuration</h2>\r\n<p>Each step can have the following properties.</p>\r\n<table class=\"table\">\r\n  <thead>\r\n    <tr>\r\n      <th>Name</th>\r\n      <th>Type</th>\r\n      <th>Default</th>\r\n      <th>Description</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr>\r\n      <td>stepId</td>\r\n      <td>string</td>\r\n      <td>\"\"</td>\r\n      <td>A unique identifier for the step</td>\r\n    </tr>\r\n    <tr tourAnchor=\"config.anchorId\">\r\n      <td>anchorId</td>\r\n      <td>string</td>\r\n      <td>required</td>\r\n      <td>The anchor to which the step will be attached</td>\r\n    </tr>\r\n    <tr>\r\n      <td>title</td>\r\n      <td>string</td>\r\n      <td>\"\"</td>\r\n      <td>The title of the tour step</td>\r\n    </tr>\r\n    <tr>\r\n      <td>content</td>\r\n      <td>string</td>\r\n      <td>\"\"</td>\r\n      <td>The content text of the tour step</td>\r\n    </tr>\r\n    <tr tourAnchor=\"config.enableBackdrop\">\r\n      <td>enableBackdrop</td>\r\n      <td>boolean</td>\r\n      <td>false</td>\r\n      <td>Controls whether to enable active element highlighting</td>\r\n    </tr>\r\n    <tr tourAnchor=\"config.route\">\r\n      <td>route</td>\r\n      <td>string | UrlSegment[]</td>\r\n      <td>undefined</td>\r\n      <td>\r\n        The route to which the tour should navigate before attempting to show this tour step. If undefined, no navigation is attempted.\r\n      </td>\r\n    </tr>\r\n    <tr tourAnchor=\"config.nextStep\">\r\n      <td>nextStep</td>\r\n      <td>number | string</td>\r\n      <td>undefined</td>\r\n      <td>The step index or stepId of the next step. If undefined, the next step in the steps array is used.</td>\r\n    </tr>\r\n    <tr>\r\n      <td>prevStep</td>\r\n      <td>number | string</td>\r\n      <td>undefined</td>\r\n      <td>The step index or stepId of the previous step. If undefined, the previous step in the steps array is used.</td>\r\n    </tr>\r\n    <tr>\r\n      <td>placement</td>\r\n      <td>'top' | 'bottom' | 'left' | 'right' | 'auto'</td>\r\n      <td>\r\n        <span tourAnchor=\"config.placement.default\">'top'</span>\r\n      </td>\r\n      <td>\r\n        Placement of a popover. See the\r\n        <a href=\"https://valor-software.com/ngx-bootstrap/index-bs4.html#/popover#popover-directive\">ngx-bootstrap docs</a>.\r\n      </td>\r\n    </tr>\r\n    <tr tourAnchor=\"config.containerClass\">\r\n      <td>containerClass</td>\r\n      <td>string</td>\r\n      <td>\"\"</td>\r\n      <td>\r\n        Custom CSS class for popover container. It helps when you want to add custom style only for tour step popovers.\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td>preventScrolling</td>\r\n      <td>boolean</td>\r\n      <td>false</td>\r\n      <td>\r\n        Tour steps automatically scroll to the middle of the screen, if they are off the screen when shown. Setting this value to\r\n        true will disable the scroll behavior.\r\n      </td>\r\n    </tr>\r\n    <tr tourAnchor=\"config.buttons.custom\">\r\n      <td>prevBtnTitle</td>\r\n      <td>string</td>\r\n      <td>false</td>\r\n      <td>\r\n        Sets a custom prev button title for a given step. Default is \"Prev\"\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td>nextBtnTitle</td>\r\n      <td>string</td>\r\n      <td>false</td>\r\n      <td>\r\n        Sets a custom next button title for a given step. Default is \"Next\"\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td>endBtnTitle</td>\r\n      <td>string</td>\r\n      <td>false</td>\r\n      <td>\r\n        Sets a custom end button title for a given step. Default is \"End\"\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td><del>waitFor</del></td>\r\n      <td>Promise | Observable</td>\r\n      <td>undefined</td>\r\n      <td>\r\n        [Deprecated: use \"isAsync\" instead]\r\n        Waits for the given Promise or Observable before showing the step contents.\r\n      </td>\r\n    </tr>\r\n    <tr tourAnchor=\"config.isAsync\" *ngIf=\"showIsAsyncConfig\">\r\n      <ng-container >\r\n        <td>isAsync</td>\r\n        <td>boolean</td>\r\n        <td>false</td>\r\n        <td>\r\n          Mark your step as async if anchor element is added to DOM with a delay (ie after data is loaded).\r\n        </td>\r\n      </ng-container>\r\n    </tr>\r\n    <tr>\r\n      <td colspan=\"4\" *ngIf=\"isLoading && !showIsAsyncConfig\">\r\n        <strong>Loading data...</strong>\r\n      </td>\r\n      <td colspan=\"4\" *ngIf=\"!isLoading\" tourAnchor=\"config.fakeData\">\r\n        Fake data: {{fakeData | json}}\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n<h2>Defaults</h2>\r\n<p>You can set default values in the\r\n  <code>TourService.initialize</code> function.</p>\r\n<pre>\r\nthis.tourService.initialize(steps, {{ '{' }}\r\n  route: '',\r\n  placement: 'left',\r\n  preventScrolling: true,\r\n});\r\n</pre>\r\n<p>Any value explicitly defined in a step will override the default value.</p>\r\n\r\n<h2 tourAnchor=\"hotkeys\">Hotkeys</h2>\r\n<p>\r\n  Hotkeys are provided using Angular's\r\n  <code>@HostListener</code> decorator. Hotkeys are enabled when the tour starts and disabled when the tour ends.\r\n</p>\r\n<ul>\r\n  <li>\r\n    <strong>left arrow</strong>\r\n    <span> - previous step</span>\r\n  </li>\r\n  <li>\r\n    <strong>right arrow</strong>\r\n    <span> - next step</span>\r\n  </li>\r\n  <li>\r\n    <strong>esc</strong>\r\n    <span> - end tour</span>\r\n  </li>\r\n</ul>\r\n<p>\r\n  You can disable hotkeys by calling\r\n  <code>tourService.disableHotkeys()</code> or re-enable with\r\n  <code>tourService.enableHotkeys()</code>\r\n</p>\r\n\r\n<h2 tourAnchor=\"events\">Event Observables</h2>\r\n<p>The\r\n  <code>TourService</code> emits events that can be subscribed to like this:</p>\r\n<pre>\r\nthis.tourService.initialize$.subscribe((steps: IStepOption[]) => {{ '{' }}\r\n  console.log('tour configured with these steps:', steps);\r\n});\r\n</pre>\r\n<table class=\"table\">\r\n  <thead>\r\n    <tr>\r\n      <th>Name</th>\r\n      <th>Payload</th>\r\n      <th>Emitted When</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr>\r\n      <td>stepShow$</td>\r\n      <td>IStepOption</td>\r\n      <td>A step is shown</td>\r\n    </tr>\r\n    <tr>\r\n      <td>stepHide$</td>\r\n      <td>IStepOption</td>\r\n      <td>A step is hidden</td>\r\n    </tr>\r\n    <tr>\r\n      <td>initialize$</td>\r\n      <td>IStepOption[]</td>\r\n      <td>The tour is configured with a set of steps</td>\r\n    </tr>\r\n    <tr>\r\n      <td>start$</td>\r\n      <td>IStepOption</td>\r\n      <td>The tour begins</td>\r\n    </tr>\r\n    <tr>\r\n      <td>end$</td>\r\n      <td>any</td>\r\n      <td>The tour ends</td>\r\n    </tr>\r\n    <tr>\r\n      <td>pause$</td>\r\n      <td>IStepOption</td>\r\n      <td>The tour is paused</td>\r\n    </tr>\r\n    <tr>\r\n      <td>resume$</td>\r\n      <td>IStepOption</td>\r\n      <td>The tour resumes</td>\r\n    </tr>\r\n    <tr>\r\n      <td>anchorRegister$</td>\r\n      <td>string</td>\r\n      <td>An anchor is registered with the tour</td>\r\n    </tr>\r\n    <tr>\r\n      <td>anchorUnregister$</td>\r\n      <td>string</td>\r\n      <td>An anchor is unregistered from the tour</td>\r\n    </tr>\r\n    <tr>\r\n      <td>startWaiting$</td>\r\n      <td>IStepOption</td>\r\n      <td>Starts waiting for async step (\"isAsync\" or \"waitFor\" configs set)</td>\r\n    </tr>\r\n    <tr>\r\n      <td>stopWaiting$</td>\r\n      <td>IStepOption</td>\r\n      <td>Async anchor is registered or \"waitFor\" config Promise/Observable completes</td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n<h2 tourAnchor=\"template\">Custom template</h2>\r\n<p>\r\n  You can also customize the tour step template by providing an\r\n  <code>&lt;ng-template let-step=\"step\" &gt;</code> inside the\r\n  <code>&lt;tour-step-template&gt;</code>\r\n</p>\r\n<p>\r\n  The default template is equivalent to this:\r\n</p>\r\n<pre><code>&lt;tour-step-template&gt;\r\n  &lt;ng-template let-step=\"step\"&gt;\r\n    &lt;p class=\"tour-step-content\"&gt;{{ '{{' }}step?.content}}&lt;/p&gt;\r\n    &lt;div class=\"tour-step-navigation\"&gt;\r\n      &lt;button *ngIf=\"tourService.hasPrev(step)\" class=\"btn btn-sm btn-default\" (click)=\"tourService.prev()\"&gt;« {{ '{{' }}step?.prevBtnTitle}}&lt;/button&gt;\r\n      &lt;button *ngIf=\"tourService.hasNext(step)\" class=\"btn btn-sm btn-default\" (click)=\"tourService.next()\"&gt;{{ '{{' }}step?.nextBtnTitle}} »&lt;/button&gt;\r\n      &lt;button class=\"btn btn-sm btn-default\" (click)=\"tourService.end()\"&gt;{{ '{{' }}step?.endBtnTitle}}&lt;/button&gt;\r\n    &lt;/div&gt;\r\n  &lt;/ng-template&gt;\r\n&lt;/tour-step-template&gt;\r\n</code></pre>\r\n\r\n<h2>Styling Active Tour Anchor</h2>\r\n<p>\r\n  The currently active tour anchor element has a\r\n  <code>touranchor--is-active</code> class applied to it, so you can apply your own custom styles to that class to highlight the element being referenced.\r\n</p>\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {of, Subscription} from 'rxjs';\r\nimport {TourService} from 'ngx-ui-tour-ngx-bootstrap';\r\nimport {delay} from 'rxjs/operators';\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'docs',\r\n  templateUrl: './docs.component.html',\r\n})\r\nexport class DocsComponent implements OnInit, OnDestroy {\r\n\r\n  isLoading = true;\r\n  showIsAsyncConfig = true;\r\n  fakeData: number[];\r\n  startWaitingSubscription: Subscription;\r\n\r\n  constructor(\r\n    private readonly tourService: TourService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.subscribeToShowStep();\r\n  }\r\n\r\n  subscribeToShowStep() {\r\n    this.startWaitingSubscription = this.tourService\r\n      .startWaiting$\r\n      .subscribe(() => this.loadData());\r\n  }\r\n\r\n  loadData() {\r\n    this.showIsAsyncConfig = false;\r\n    of([1, 2, 3])\r\n      .pipe(delay(1000))\r\n      .subscribe(result => {\r\n        this.isLoading = false;\r\n        this.fakeData = result;\r\n        this.showIsAsyncConfig = true;\r\n      });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.startWaitingSubscription.unsubscribe();\r\n  }\r\n\r\n}\r\n","import {TourService} from 'ngx-ui-tour-ngx-bootstrap';\r\nimport {Component, ViewEncapsulation} from '@angular/core';\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'ngx-bootstrap-route',\r\n  templateUrl: './ngx-bootstrap.component.html',\r\n  styleUrls: ['./ngx-bootstrap.component.css'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class NgxBootstrapComponent {\r\n  constructor(public tourService: TourService) {\r\n    this.tourService.initialize(\r\n      [\r\n        {\r\n          anchorId: 'start.tour',\r\n          content: 'Welcome to the Ngx-UI-Tour tour!',\r\n          placement: 'right',\r\n          title: 'Welcome'\r\n        },\r\n        {\r\n          anchorId: 'angular-ui-tour',\r\n          content:\r\n            'Thanks to angular-ui-tour for the inspiration for the library',\r\n          placement: 'bottom',\r\n          title: 'angular-ui-tour'\r\n        },\r\n        {\r\n          anchorId: 'usage',\r\n          content: '...then use it.',\r\n          placement: 'right',\r\n          title: 'Usage'\r\n        },\r\n        {\r\n          anchorId: 'tourService.start',\r\n          content: 'Don\\'t forget to actually start the tour.',\r\n          placement: 'top',\r\n          title: 'Start the tour'\r\n        },\r\n        {\r\n          anchorId: 'config.anchorId',\r\n          content: 'Every step needs an anchor.',\r\n          title: 'Anchor'\r\n        },\r\n        {\r\n          anchorId: 'config.enableBackdrop',\r\n          content: 'You can enable backdrop to highlight active element.',\r\n          title: 'Backdrop',\r\n          enableBackdrop: true\r\n        },\r\n        {\r\n          anchorId: 'config.route',\r\n          content: 'Tours can span multiple routes. No placement.',\r\n          title: 'Route'\r\n        },\r\n        {\r\n          anchorId: 'config.containerClass',\r\n          content: 'You can add custom container class.',\r\n          title: 'Custom CSS Class',\r\n          containerClass: 'custom-tour-class'\r\n        },\r\n        {\r\n          anchorId: 'another.route',\r\n          content: 'Like this!',\r\n          route: 'ngx-bootstrap/other',\r\n          title: 'Another Route'\r\n        },\r\n        {\r\n          anchorId: 'config.route',\r\n          content: 'And then back again.',\r\n          title: 'Route Return'\r\n        },\r\n        {\r\n          anchorId: 'config.placement.default',\r\n          content:\r\n            'Steps can be positioned around an anchor. You can even have multiple steps use the same anchor.',\r\n          title: 'No Placement'\r\n        },\r\n        {\r\n          anchorId: 'config.placement.default',\r\n          content: 'Sliiide to the left.',\r\n          placement: 'left',\r\n          title: 'Left Placement'\r\n        },\r\n        {\r\n          anchorId: 'config.placement.default',\r\n          content: 'Sliiide to the right.',\r\n          placement: 'right',\r\n          title: 'Right Placement'\r\n        },\r\n        {\r\n          anchorId: 'config.placement.default',\r\n          content: 'Take it back now y\\'all.  One hop this time.',\r\n          placement: 'bottom',\r\n          title: 'Bottom Placement'\r\n        },\r\n        {\r\n          anchorId: 'config.buttons.custom',\r\n          content: 'You can set custom step button names',\r\n          title: 'Button Titles',\r\n          prevBtnTitle: 'My Prev',\r\n          nextBtnTitle: 'My Next',\r\n          endBtnTitle: 'My End'\r\n        },\r\n        {\r\n          anchorId: 'config.isAsync',\r\n          content: 'Mark your step as async if anchor element is added to DOM with a delay',\r\n          title: 'Wait for async event'\r\n        },\r\n        {\r\n          anchorId: 'config.fakeData',\r\n          content: 'Your fake data finished loading',\r\n          title: 'Loading finished',\r\n          isAsync: true\r\n        },\r\n        {\r\n          anchorId: 'hotkeys',\r\n          content: 'Try using the hotkeys to navigate through the tour.',\r\n          title: 'Hotkeys'\r\n        },\r\n        {\r\n          anchorId: 'events',\r\n          content: 'You can subscribe to events',\r\n          title: 'Events'\r\n        }\r\n      ],\r\n      {\r\n        route: 'ngx-bootstrap'\r\n      }\r\n    );\r\n    this.tourService.start();\r\n  }\r\n}\r\n","<a href=\"https://github.com/hakimio/ngx-ui-tour\" rel=\"nofollow\" target=\"_blank\" class=\"btn btn-default\">View on GitHub</a>\r\n<a style=\"cursor: pointer\" (click)=\"tourService.toggle()\" class=\"btn btn-primary\" tourAnchor=\"start.tour\">Start Demo Tour</a>\r\n\r\n<router-outlet></router-outlet>\r\n<tour-step-template></tour-step-template>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TourNgxBootstrapModule } from 'ngx-ui-tour-ngx-bootstrap';\r\n\r\nimport { DocsComponent } from './docs.component';\r\nimport { NgxBootstrapComponent } from './ngx-bootstrap.component';\r\nimport { OtherRouteComponent } from './other-route.component';\r\n\r\n@NgModule({\r\n  declarations: [NgxBootstrapComponent, DocsComponent, OtherRouteComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild([{\r\n      component: NgxBootstrapComponent,\r\n      path: '',\r\n      children: [{\r\n        component: DocsComponent,\r\n        path: '',\r\n      }, {\r\n        component: OtherRouteComponent,\r\n        path: 'other',\r\n      }]\r\n    }]),\r\n    TourNgxBootstrapModule.forRoot()\r\n  ],\r\n})\r\nexport class NgxBootstrapModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'other-route',\r\n  template: `<p>This is the <strong tourAnchor=\"another.route\">another</strong> route</p>`,\r\n})\r\nexport class OtherRouteComponent {\r\n}\r\n"]}